{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/SubmitTestResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/SubmitTestResult.vue","mtime":1586713315433},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2Npcm90emtpL3Byb2plY3RzL3ZpcnVzLzFfMDExX2FfaW5mZWt0aW9uc2ZhbGxfdWViZXJtaXR0ZWxsdW5nL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2Npcm90emtpL3Byb2plY3RzL3ZpcnVzLzFfMDExX2FfaW5mZWt0aW9uc2ZhbGxfdWViZXJtaXR0ZWxsdW5nL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBcGkgZnJvbSAnQC9hcGknOwppbXBvcnQgVGVzdElucHV0IGZyb20gJy4uL2NvbXBvbmVudHMvVGVzdElucHV0JzsKaW1wb3J0IExhYm9yYXRvcnlJbnB1dCBmcm9tICcuLi9jb21wb25lbnRzL0xhYm9yYXRvcnlJbnB1dCc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgYXV0aE1hcHBlciB9IGZyb20gJ0Avc3RvcmUvbW9kdWxlcy9hdXRoLm1vZHVsZSc7CmltcG9ydCB7IHRlc3RSZXN1bHRzIH0gZnJvbSAnQC9tb2RlbHMvZXZlbnQtdHlwZXMnOwpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBuYW1lOiAnTGlua1Rlc3RSZXN1bHRBbmRQYXRpZW50JywKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgYXV0aE1hcHBlci5tYXBHZXR0ZXJzKHsKICAgIGluc3RpdHV0aW9uOiAnaW5zdGl0dXRpb24nCiAgfSkpLAogIGNvbXBvbmVudHM6IHsKICAgIFRlc3RJbnB1dDogVGVzdElucHV0LAogICAgTGFib3JhdG9yeUlucHV0OiBMYWJvcmF0b3J5SW5wdXQKICB9LAogIHByb3BzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMpLAogICAgICBmaWxlQnl0ZXM6IG51bGwsCiAgICAgIHRlc3RSZXN1bHRzOiB0ZXN0UmVzdWx0cywKICAgICAgbGFib3JhdG9yaWVzOiBbXSwKICAgICAgdXBkYXRlZExhYlRlc3Q6IG51bGwsCiAgICAgIHVwZGF0ZWRMYWJUZXN0U3RhdHVzOiAnJwogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBsYWI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoX3RoaXMuaW5zdGl0dXRpb24oKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIGluc3RpdHV0aW9uJyk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldEF1dGhlbnRpY2F0ZWRJbnN0aXR1dGlvbigpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGxhYiA9IF90aGlzLmluc3RpdHV0aW9uKCk7CgogICAgICAgICAgICAgIGlmIChsYWIgJiYgbGFiLnR5cGUgPT09ICdMQUJPUkFUT1JZJykgewogICAgICAgICAgICAgICAgX3RoaXMubGFib3JhdG9yaWVzID0gW2xhYl07CgogICAgICAgICAgICAgICAgX3RoaXMuZm9ybS5zZXRGaWVsZHNWYWx1ZSh7CiAgICAgICAgICAgICAgICAgIGxhYm9yYXRvcnlJZDogbGFiLmlkCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMuZm9ybS5zZXRGaWVsZHNWYWx1ZSh7CiAgICAgICAgICAgICAgICAgIGxhYm9yYXRvcnlJZDogJycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIGF1dGhNYXBwZXIubWFwQWN0aW9ucyh7CiAgICBnZXRBdXRoZW50aWNhdGVkSW5zdGl0dXRpb246ICdnZXRBdXRoZW50aWNhdGVkSW5zdGl0dXRpb24nCiAgfSksIHsKICAgIHVwbG9hZEhpbnQ6IGZ1bmN0aW9uIHVwbG9hZEhpbnQoKSB7CiAgICAgIHZhciBub3RpZmljYXRpb24gPSB7CiAgICAgICAgbWVzc2FnZTogJ0RhcyBMYWJvciBrYW5uIGhpZXIgZGVuIEJlcmljaHQgbWl0IGhvY2hsYWRlbi4gQXVzIFNpY2hlcmhlaXRzZ3LDvG5kZW4gaXN0IGRpZXNlIEZ1bmt0aW9uIGltIFByb3RvdHlwIGRlYWt0aXZpZXJ0LicsCiAgICAgICAgZGVzY3JpcHRpb246ICcnCiAgICAgIH07CiAgICAgIHRoaXMuJG5vdGlmaWNhdGlvbi5pbmZvKG5vdGlmaWNhdGlvbik7CiAgICB9LAogICAgYmVmb3JlVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBzZXRGaWxlQnl0ZXMgPSBmdW5jdGlvbiBzZXRGaWxlQnl0ZXMoZmlsZUJ5dGVzKSB7CiAgICAgICAgX3RoaXMyLmZpbGVCeXRlcyA9IGZpbGVCeXRlczsKICAgICAgfTsKCiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHV0ZjggPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZS50YXJnZXQucmVzdWx0KSk7CiAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXRmOC5sZW5ndGg7IGkrKykgewogICAgICAgICAgYXJyYXkucHVzaCh1dGY4LmNoYXJDb2RlQXQoaSkpOwogICAgICAgIH0KCiAgICAgICAgc2V0RmlsZUJ5dGVzKGFycmF5KTsKICAgICAgfTsKCiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy5mb3JtLnZhbGlkYXRlRmllbGRzKGZ1bmN0aW9uIChlcnIsIHZhbHVlcykgewogICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciB0ZXN0SWQgPSB2YWx1ZXMudGVzdElkOwogICAgICAgIHZhciByZXF1ZXN0ID0gewogICAgICAgICAgdGVzdElkOiB0ZXN0SWQsCiAgICAgICAgICBzdGF0dXM6IHZhbHVlcy50ZXN0UmVzdWx0LAogICAgICAgICAgY29tbWVudDogdmFsdWVzLmNvbW1lbnQsCiAgICAgICAgICBmaWxlOiBfdGhpczMuZmlsZUJ5dGVzCiAgICAgICAgfTsKCiAgICAgICAgdmFyIHRlc3RSZXN1bHQgPSBfdGhpczMudGVzdFJlc3VsdHMuZmluZChmdW5jdGlvbiAodGVzdFJlc3VsdCkgewogICAgICAgICAgcmV0dXJuIHZhbHVlcy50ZXN0UmVzdWx0ID09PSB0ZXN0UmVzdWx0LmlkOwogICAgICAgIH0pOwoKICAgICAgICBBcGkuYXBpLnVwZGF0ZVRlc3RTdGF0dXNVc2luZ1B1dCh2YWx1ZXMubGFib3JhdG9yeUlkLCByZXF1ZXN0KS50aGVuKGZ1bmN0aW9uIChsYWJUZXN0KSB7CiAgICAgICAgICB2YXIgbm90aWZpY2F0aW9uID0gewogICAgICAgICAgICBtZXNzYWdlOiAnVGVzdCAnICsgbGFiVGVzdC50ZXN0SWQgKyAnIGFrdHVhbGlzaWVydC4nLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1N0YXR1cyBnZcOkbmRlcnQgYXVmICInICsgdGVzdFJlc3VsdC5sYWJlbCArICciJwogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpczMuJG5vdGlmaWNhdGlvbi5zdWNjZXNzKG5vdGlmaWNhdGlvbik7CgogICAgICAgICAgX3RoaXMzLmZvcm0ucmVzZXRGaWVsZHMoWyd0ZXN0SWQnLCAndGVzdFJlc3VsdCcsICdjb21tZW50J10pOwoKICAgICAgICAgIF90aGlzMy5maWxlQnl0ZXMgPSBudWxsOwogICAgICAgICAgX3RoaXMzLnVwZGF0ZWRMYWJUZXN0ID0gbGFiVGVzdDsKICAgICAgICAgIF90aGlzMy51cGRhdGVkTGFiVGVzdFN0YXR1cyA9IHRlc3RSZXN1bHRzLmZpbmQoZnVuY3Rpb24gKHRlc3RSZXN1bHQpIHsKICAgICAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQuaWQgPT09IGxhYlRlc3QudGVzdFN0YXR1czsKICAgICAgICAgIH0pLmxhYmVsOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHZhciBub3RpZmljYXRpb24gPSB7CiAgICAgICAgICAgIG1lc3NhZ2U6ICdGZWhsZXIgYmVpbSBIaW56dWbDvGdlbiBkZXMgVGVzdGVyZ2Vibmlzc2VzLicsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBlcnIubWVzc2FnZQogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpczMuJG5vdGlmaWNhdGlvbi5lcnJvcihub3RpZmljYXRpb24pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9KQp9KTs="},{"version":3,"sources":["SubmitTestResult.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <a-card style=\"max-width: 500px; margin: 2rem auto; min-height: 300px\">\n    <div>\n      <a-form\n        :form=\"form\"\n        :label-col=\"{ span: 6 }\"\n        :wrapper-col=\"{ span: 18 }\"\n        @submit=\"handleSubmit\"\n      >\n\n        <!-- Labor -->\n        <LaboratoryInput\n          label=\"Labor\"\n          :form=\"form\"\n          :initial-labs=\"laboratories\"\n          :validation=\"['laboratoryId', { rules: [{\n            required: true,\n            message: 'Bitte wählen Sie ein Labor aus.'\n          }]}]\"\n        />\n\n        <!-- TestId -->\n        <TestInput\n          label=\"Test-ID\"\n          placeholder=\"z.B 1337-4237-9438\"\n          :form=\"form\"\n          :validation=\"['testId', { rules: [{\n            required: true,\n            message: 'Bitte geben Sie Ihre Test-ID ein.'\n          }]}]\"\n        />\n\n        <!-- TestResult -->\n        <a-form-item label=\"Testresultat\">\n          <a-radio-group\n            class=\"imis-radio-group\"\n            v-decorator=\"['testResult', { rules: [{\n              required: true,\n              message: 'Bitte geben Sie das Testresultat an.'\n            }]}]\">\n            <a-radio v-for=\"testResult in testResults\" :value=\"testResult.id\" :key=\"testResult.id\">\n              <a-icon :type=\"testResult.icon\" />\n              {{testResult.label}}\n            </a-radio>\n          </a-radio-group>\n        </a-form-item>\n\n        <!-- Kommentar -->\n        <a-form-item label=\"Kommentar\">\n          <a-textarea\n            placeholder=\"Kommentar hinzufügen\"\n            :autoSize=\"{ minRows: 3, maxRows: 5 }\"\n            v-decorator=\"['comment']\"\n          />\n        </a-form-item>\n\n        <!-- Hochladen -->\n        <a-form-item :wrapper-col=\"{ span: 24 }\">\n          <a-button v-on:click=\"uploadHint()\">\n            <a-icon type=\"upload\" />\n            Test Report hochladen\n          </a-button>\n        </a-form-item>\n        <a-divider />\n\n        <!-- Speichern -->\n        <a-form-item :wrapper-col=\"{ span: 24, offset: 0 }\">\n          <a-button type=\"primary\" html-type=\"submit\">\n            Speichern\n          </a-button>\n        </a-form-item>\n      </a-form>\n    </div>\n\n    <!-- Confirmation after creation -->\n    <div v-if=\"updatedLabTest\">\n      <a-icon type=\"check-circle\" :style=\"{ fontSize: '38px', color: '#08c' }\" style=\"margin-bottom: 20px\" />\n      <div>\n        <div>Der Test wurde erfolgreich aktualisiert.</div>\n        <br />\n        <div>Test ID: {{ updatedLabTest.testId }}</div>\n        <div>Neuer Test Status: {{ updatedLabTestStatus }}</div>\n      </div>\n    </div>\n  </a-card>\n</template>\n\n<script>\nimport Api from '@/api'\nimport TestInput from '../components/TestInput'\nimport LaboratoryInput from '../components/LaboratoryInput'\nimport Vue from 'vue'\nimport { authMapper } from '@/store/modules/auth.module'\nimport { testResults } from '@/models/event-types'\n\nexport default Vue.extend({\n  name: 'LinkTestResultAndPatient',\n  computed: {\n    ...authMapper.mapGetters({ institution: 'institution' }),\n  },\n  components: {\n    TestInput,\n    LaboratoryInput,\n  },\n  props: {},\n  data() {\n    return {\n      form: this.$form.createForm(this),\n      fileBytes: null,\n      testResults: testResults,\n      laboratories: [],\n      updatedLabTest: null,\n      updatedLabTestStatus: '',\n    }\n  },\n  async mounted() {\n    if (!this.institution()) {\n      console.log('Loading institution')\n      await this.getAuthenticatedInstitution()\n    }\n    const lab = this.institution()\n    if (lab && lab.type === 'LABORATORY') {\n      this.laboratories = [lab]\n      this.form.setFieldsValue({\n        laboratoryId: lab.id,\n      })\n    } else {\n      this.form.setFieldsValue({\n        laboratoryId: '',\n      })\n    }\n  },\n  methods: {\n    ...authMapper.mapActions({\n      getAuthenticatedInstitution: 'getAuthenticatedInstitution',\n    }),\n    uploadHint() {\n      const notification = {\n        message: 'Das Labor kann hier den Bericht mit hochladen. Aus Sicherheitsgründen ist diese Funktion im Prototyp deaktiviert.',\n        description: '',\n      }\n      this.$notification.info(notification)\n    },\n    beforeUpload(file) {\n      const setFileBytes = fileBytes => {\n        this.fileBytes = fileBytes\n      }\n\n      const reader = new FileReader()\n      reader.onload = e => {\n        const utf8 = unescape(encodeURIComponent(e.target.result))\n        const array = []\n        for (let i = 0; i < utf8.length; i++) {\n          array.push(utf8.charCodeAt(i))\n        }\n        setFileBytes(array)\n      }\n      reader.readAsDataURL(file)\n\n      return false\n    },\n    handleSubmit(e) {\n      e.preventDefault()\n\n      this.form.validateFields((err, values) => {\n        if (err) {\n          return\n        }\n\n        const { testId } = values\n        const request = {\n          testId,\n          status: values.testResult,\n          comment: values.comment,\n          file: this.fileBytes,\n        }\n\n        const testResult = this.testResults.find(testResult => values.testResult === testResult.id)\n        Api.api.updateTestStatusUsingPut(values.laboratoryId, request).then(labTest => {\n          const notification = {\n            message: 'Test ' + labTest.testId + ' aktualisiert.',\n            description: 'Status geändert auf \"' + testResult.label + '\"',\n          }\n          this.$notification.success(notification)\n          this.form.resetFields([\n            'testId', 'testResult', 'comment',\n          ])\n          this.fileBytes = null\n          this.updatedLabTest = labTest\n          this.updatedLabTestStatus = testResults\n            .find(testResult => testResult.id === labTest.testStatus)\n            .label\n        }).catch(err => {\n          const notification = {\n            message: 'Fehler beim Hinzufügen des Testergebnisses.',\n            description: err.message,\n          }\n          this.$notification.error(notification)\n        })\n      })\n    },\n  },\n})\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/views"}]}