{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/RegisterTest.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/RegisterTest.vue","mtime":1586724179216},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2Npcm90emtpL3Byb2plY3RzL3ZpcnVzLzFfMDExX2FfaW5mZWt0aW9uc2ZhbGxfdWViZXJtaXR0ZWxsdW5nL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvY2lyb3R6a2kvcHJvamVjdHMvdmlydXMvMV8wMTFfYV9pbmZla3Rpb25zZmFsbF91ZWJlcm1pdHRlbGx1bmcvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvY2lyb3R6a2kvcHJvamVjdHMvdmlydXMvMV8wMTFfYV9pbmZla3Rpb25zZmFsbF91ZWJlcm1pdHRlbGx1bmcvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL2hvbWUvY2lyb3R6a2kvcHJvamVjdHMvdmlydXMvMV8wMTFfYV9pbmZla3Rpb25zZmFsbF91ZWJlcm1pdHRlbGx1bmcvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL2hvbWUvY2lyb3R6a2kvcHJvamVjdHMvdmlydXMvMV8wMTFfYV9pbmZla3Rpb25zZmFsbF91ZWJlcm1pdHRlbGx1bmcvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7Cgp2YXIgX2RlYywgX2NsYXNzOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgQXBpIGZyb20gJ0AvYXBpJzsKaW1wb3J0IEJhcmNvZGVJbnB1dCBmcm9tICcuLi9jb21wb25lbnRzL1Rlc3RJbnB1dCc7CmltcG9ydCBQYXRpZW50SW5wdXQgZnJvbSAnLi4vY29tcG9uZW50cy9QYXRpZW50SW5wdXQnOwppbXBvcnQgTGFib3JhdG9yeUlucHV0IGZyb20gJy4uL2NvbXBvbmVudHMvTGFib3JhdG9yeUlucHV0JzsKaW1wb3J0IHsgdGVzdFR5cGVzIH0gZnJvbSAnQC9tb2RlbHMvdGVzdC10eXBlcyc7CmltcG9ydCBDb21wb25lbnQgZnJvbSAndnVlLWNsYXNzLWNvbXBvbmVudCc7CmltcG9ydCB7IHRlc3RSZXN1bHRzIH0gZnJvbSAnQC9tb2RlbHMvZXZlbnQtdHlwZXMnOwp2YXIgUmVnaXN0ZXJUZXN0ID0gKF9kZWMgPSBDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIEJhcmNvZGVJbnB1dDogQmFyY29kZUlucHV0LAogICAgUGF0aWVudElucHV0OiBQYXRpZW50SW5wdXQsCiAgICBMYWJvcmF0b3J5SW5wdXQ6IExhYm9yYXRvcnlJbnB1dAogIH0KfSksIF9kZWMoX2NsYXNzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKFJlZ2lzdGVyVGVzdCwgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUmVnaXN0ZXJUZXN0KTsKCiAgZnVuY3Rpb24gUmVnaXN0ZXJUZXN0KCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlZ2lzdGVyVGVzdCk7CgogICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFJlZ2lzdGVyVGVzdCwgW3sKICAgIGtleTogImRhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMpLAogICAgICAgIGNyZWF0ZWRMYWJUZXN0OiBudWxsLAogICAgICAgIGNyZWF0ZWRMYWJUZXN0U3RhdHVzOiAnJywKICAgICAgICB0ZXN0VHlwZXM6IHRlc3RUeXBlcwogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogImhhbmRsZVN1Ym1pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5mb3JtLnZhbGlkYXRlRmllbGRzKGZ1bmN0aW9uIChlcnIsIHZhbHVlcykgewogICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciByZXF1ZXN0ID0gX29iamVjdFNwcmVhZCh7fSwgdmFsdWVzKTsKCiAgICAgICAgQXBpLmFwaS5jcmVhdGVUZXN0Rm9yUGF0aWVudFVzaW5nUG9zdChyZXF1ZXN0KS50aGVuKGZ1bmN0aW9uIChsYWJUZXN0KSB7CiAgICAgICAgICBfdGhpcy5jcmVhdGVkTGFiVGVzdCA9IGxhYlRlc3Q7CiAgICAgICAgICBfdGhpcy5jcmVhdGVkTGFiVGVzdFN0YXR1cyA9IHRlc3RSZXN1bHRzLmZpbmQoZnVuY3Rpb24gKHRlc3RSZXN1bHQpIHsKICAgICAgICAgICAgcmV0dXJuIHRlc3RSZXN1bHQuaWQgPT09IGxhYlRlc3QudGVzdFN0YXR1czsKICAgICAgICAgIH0pLmxhYmVsOwogICAgICAgICAgdmFyIG5vdGlmaWNhdGlvbiA9IHsKICAgICAgICAgICAgbWVzc2FnZTogJ1Rlc3QgYW5nZWxlZ3QgdW5kIHZlcmtuw7xwZnQuJywKICAgICAgICAgICAgZGVzY3JpcHRpb246ICdEZXIgVGVzdCAnICsgbGFiVGVzdC50ZXN0SWQgKyAnIHd1cmRlIGVyZm9sZ3JlaWNoIGFuZ2VsZWd0IHVuZCBtaXQgZGVtIFBhdGllbnRlbiB2ZXJrbsO8cGZ0LicKICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXMuJG5vdGlmaWNhdGlvbi5zdWNjZXNzKG5vdGlmaWNhdGlvbik7CgogICAgICAgICAgX3RoaXMuZm9ybS5yZXNldEZpZWxkcygpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHZhciBub3RpZmljYXRpb24gPSB7CiAgICAgICAgICAgIG1lc3NhZ2U6ICdGZWhsZXIgYmVpbSBBbmxlZ2VuIGRlcyBUZXN0cy4nLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyLm1lc3NhZ2UKICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXMuJG5vdGlmaWNhdGlvbi5lcnJvcihub3RpZmljYXRpb24pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBSZWdpc3RlclRlc3Q7Cn0oVnVlKSkgfHwgX2NsYXNzKTsKZXhwb3J0IHsgUmVnaXN0ZXJUZXN0IGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["RegisterTest.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA,OAAA,GAAA,MAAA,KAAA;AAEA,OAAA,GAAA,MAAA,OAAA;AACA,OAAA,YAAA,MAAA,yBAAA;AACA,OAAA,YAAA,MAAA,4BAAA;AACA,OAAA,eAAA,MAAA,+BAAA;AACA,SAAA,SAAA,QAAA,qBAAA;AACA,OAAA,SAAA,MAAA,qBAAA;AACA,SAAA,WAAA,QAAA,sBAAA;IASA,Y,WAPA,SAAA,CAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA,YADA;AAEA,IAAA,YAAA,EAAA,YAFA;AAGA,IAAA,eAAA,EAAA;AAHA;AADA,CAAA,C;;;;;;;;;;;;;2BAQA;AACA,aAAA;AACA,QAAA,IAAA,EAAA,KAAA,KAAA,CAAA,UAAA,CAAA,IAAA,CADA;AAEA,QAAA,cAAA,EAAA,IAFA;AAGA,QAAA,oBAAA,EAAA,EAHA;AAIA,QAAA,SAAA,EAAA;AAJA,OAAA;AAMA;;;mCAEA;AAAA;;AACA,WAAA,IAAA,CAAA,cAAA,CAAA,UAAA,GAAA,EAAA,MAAA,EAAA;AACA,YAAA,GAAA,EAAA;AACA;AACA;;AACA,YAAA,OAAA,qBACA,MADA,CAAA;;AAIA,QAAA,GAAA,CAAA,GAAA,CAAA,6BAAA,CAAA,OAAA,EAAA,IAAA,CAAA,UAAA,OAAA,EAAA;AACA,UAAA,KAAA,CAAA,cAAA,GAAA,OAAA;AACA,UAAA,KAAA,CAAA,oBAAA,GAAA,WAAA,CACA,IADA,CACA,UAAA,UAAA;AAAA,mBAAA,UAAA,CAAA,EAAA,KAAA,OAAA,CAAA,UAAA;AAAA,WADA,EAEA,KAFA;AAIA,cAAA,YAAA,GAAA;AACA,YAAA,OAAA,EAAA,8BADA;AAEA,YAAA,WAAA,EACA,cAAA,OAAA,CAAA,MAAA,GAAA;AAHA,WAAA;;AAKA,UAAA,KAAA,CAAA,aAAA,CAAA,OAAA,CAAA,YAAA;;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,WAAA;AACA,SAbA,EAaA,KAbA,CAaA,UAAA,GAAA,EAAA;AACA,cAAA,YAAA,GAAA;AACA,YAAA,OAAA,EAAA,gCADA;AAEA,YAAA,WAAA,EAAA,GAAA,CAAA;AAFA,WAAA;;AAIA,UAAA,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,YAAA;AACA,SAnBA;AAoBA,OA5BA;AA6BA;;;;EAxCA,G;SAAA,Y","sourcesContent":["<template>\n  <a-card style=\"max-width: 500px; margin: 2rem auto; min-height: 300px\">\n    <a-form\n      :label-col=\"{ span: 6 }\"\n      :wrapper-col=\"{ span: 18 }\"\n      :colon=\"false\"\n      :form=\"form\"\n      @submit.prevent=\"handleSubmit\"\n    >\n\n      <LaboratoryInput\n        label=\"Labor\"\n        :form=\"form\"\n        :validation=\"['laboratoryId',{ rules: [{\n            required: true,\n            message: 'Bitte wählen Sie ein Labor aus.'\n          }]}]\"\n      />\n\n      <PatientInput\n        label=\"Patienten-ID\"\n        :form=\"form\"\n        :validation=\"['patientId',{ rules: [{\n          required: true,\n          message: 'Bitte geben Sie die Patienten-ID ein.'\n        }]}]\"\n      />\n\n      <!-- Test ID -->\n      <a-form-item label=\"Test-ID\">\n        <a-input v-decorator=\"['testId', { rules: [{\n          required: true,\n          message: 'Bitte geben Sie die Test-ID ein.'\n        }]}]\" placeholder=\"Neue Test ID\"/>\n      </a-form-item>\n\n      <!-- TestType -->\n      <a-form-item label=\"Testtyp\">\n        <a-radio-group\n          class=\"imis-radio-group\"\n          v-decorator=\"['testType', { rules: [{\n              required: true,\n              message: 'Bitte geben Sie den Typen des Tests an.'\n            }]}]\">\n          <a-radio v-for=\"testTypeItem in testTypes\" :value=\"testTypeItem.id\" :key=\"testTypeItem.id\">\n            <a-icon :type=\"testTypeItem.icon\"/>\n            {{testTypeItem.label}}\n          </a-radio>\n        </a-radio-group>\n      </a-form-item>\n\n      <!-- Kommentar -->\n      <a-form-item label=\"Kommentar\">\n        <a-textarea\n          v-decorator=\"['comment']\"\n          placeholder=\"Kommentar hinzufügen\"\n          :autoSize=\"{ minRows: 3, maxRows: 5 }\"\n        />\n      </a-form-item>\n\n      <!-- Submit -->\n      <a-divider/>\n      <a-form-item :wrapper-col=\"{ span: 24, offset: 0 }\">\n        <a-button type=\"primary\" html-type=\"submit\">\n          Speichern\n        </a-button>\n      </a-form-item>\n    </a-form>\n\n    <!-- Confirmation after creation -->\n    <div v-if=\"createdLabTest\">\n      <a-icon type=\"check-circle\" :style=\"{ fontSize: '38px', color: '#08c' }\" style=\"margin-bottom: 20px\"/>\n      <div>\n        <div>Der Test wurde erfolgreich angelegt.</div>\n        <br/>\n        <div>Test ID: {{ createdLabTest.testId }}</div>\n        <div>Test Status: {{ createdLabTestStatus }}</div>\n      </div>\n    </div>\n  </a-card>\n</template>\n\n<script>\nimport Vue from 'vue'\n\nimport Api from '@/api'\nimport BarcodeInput from '../components/TestInput'\nimport PatientInput from '../components/PatientInput'\nimport LaboratoryInput from '../components/LaboratoryInput'\nimport { testTypes } from '@/models/test-types'\nimport Component from 'vue-class-component'\nimport { testResults } from '@/models/event-types'\n\n@Component({\n  components: {\n    BarcodeInput,\n    PatientInput,\n    LaboratoryInput,\n  },\n})\nexport default class RegisterTest extends Vue {\n  data() {\n    return {\n      form: this.$form.createForm(this),\n      createdLabTest: null,\n      createdLabTestStatus: '',\n      testTypes: testTypes,\n    }\n  }\n\n  handleSubmit() {\n    this.form.validateFields((err, values) => {\n      if (err) {\n        return\n      }\n      const request = {\n        ...values,\n      }\n\n      Api.api.createTestForPatientUsingPost(request).then(labTest => {\n        this.createdLabTest = labTest\n        this.createdLabTestStatus = testResults\n          .find(testResult => testResult.id === labTest.testStatus)\n          .label\n\n        const notification = {\n          message: 'Test angelegt und verknüpft.',\n          description:\n            'Der Test ' + labTest.testId + ' wurde erfolgreich angelegt und mit dem Patienten verknüpft.',\n        }\n        this.$notification.success(notification)\n        this.form.resetFields()\n      }).catch(err => {\n        const notification = {\n          message: 'Fehler beim Anlegen des Tests.',\n          description: err.message,\n        }\n        this.$notification.error(notification)\n      })\n    })\n  }\n}\n</script>\n\n<style></style>\n"],"sourceRoot":"src/views"}]}