{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/PublicRegister.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/PublicRegister.vue","mtime":1589906836724},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnCmltcG9ydCBBcGkgZnJvbSAnQC9hcGknCmltcG9ydCB7IFBhdGllbnQgfSBmcm9tICdAL2FwaS9Td2FnZ2VyQXBpJwppbXBvcnQgeyBPcHRpb24gfSBmcm9tICdAL21vZGVscycKaW1wb3J0IHsgU1lNUFRPTVMgfSBmcm9tICdAL21vZGVscy9zeW1wdG9tcycKaW1wb3J0IHsgUFJFX0lMTE5FU1NFUyB9IGZyb20gJ0AvbW9kZWxzL3ByZS1pbGxuZXNzZXMnCmltcG9ydCBQYXRpZW50U3RhbW1kYXRlbiBmcm9tICdAL2NvbXBvbmVudHMvUGF0aWVudFN0YW1tZGF0ZW4udnVlJwppbXBvcnQgeyBFWFBPU1VSRV9MT0NBVElPTlMsIEVYUE9TVVJFU19QVUJMSUMgfSBmcm9tICdAL21vZGVscy9leHBvc3VyZXMnCgppbnRlcmZhY2UgU3RhdGUgewogIGZvcm06IGFueQogIGN1cnJlbnQ6IG51bWJlcgogIG1heEN1cnJlbnQ6IG51bWJlcgogIGNyZWF0ZWRQYXRpZW50OiBQYXRpZW50IHwgbnVsbAogIHN5bXB0b21zOiBPcHRpb25bXQogIGV4cG9zdXJlczogT3B0aW9uW10KICBleHBvc3VyZUxvY2F0aW9uOiBPcHRpb25bXQogIHByZUlsbG5lc3NlczogT3B0aW9uW10KICBzdGVwczogYW55W10KICBjaGVja2VkOiBib29sZWFuCiAgc2hvd0NoZWNrZWRFcnJvcjogYm9vbGVhbgogIGRpc2FibGVFeHBvc3VyZUxvY2F0aW9uOiBib29sZWFuCiAgc2hvd090aGVyU3ltcHRvbXM6IGJvb2xlYW4KICBzaG93T3RoZXJQcmVJbGxuZXNzZXM6IGJvb2xlYW4KfQoKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1B1YmxpY1JlZ2lzdGVyQ29tcG9uZW50JywKICBjb21wb25lbnRzOiB7CiAgICBQYXRpZW50U3RhbW1kYXRlbiwKICB9LAogIGRhdGEoKTogU3RhdGUgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMpLAogICAgICBjdXJyZW50OiAwLAogICAgICBtYXhDdXJyZW50OiAwLAogICAgICBjcmVhdGVkUGF0aWVudDogbnVsbCwKICAgICAgc3ltcHRvbXM6IFNZTVBUT01TLAogICAgICBwcmVJbGxuZXNzZXM6IFBSRV9JTExORVNTRVMsCiAgICAgIGV4cG9zdXJlczogRVhQT1NVUkVTX1BVQkxJQywKICAgICAgZXhwb3N1cmVMb2NhdGlvbjogRVhQT1NVUkVfTE9DQVRJT05TLAogICAgICBzdGVwczogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAnU3ltcHRvbWUnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICdFeHBvc2l0aW9uJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAnUmlzaWtlbicsCiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1ZvcmVya3Jhbmt1bmdlbiB1bmQgUmlzaWtvZmFrdG9yZW4nLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICdQZXJzw7ZubGljaGUgRGF0ZW4nLAogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIGNoZWNrZWQ6IGZhbHNlLAogICAgICBzaG93Q2hlY2tlZEVycm9yOiBmYWxzZSwKICAgICAgZGlzYWJsZUV4cG9zdXJlTG9jYXRpb246IHRydWUsCiAgICAgIHNob3dPdGhlclN5bXB0b21zOiBmYWxzZSwKICAgICAgc2hvd090aGVyUHJlSWxsbmVzc2VzOiBmYWxzZSwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzdGVwc0RpcmVjdGlvbigpIHsKICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoID49IDcwMCA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCcKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBzY3JvbGxUb0Zvcm1Ub3AoKSB7CiAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Nyb2xsLWFuY2hvcicpIGFzIEVsZW1lbnQpLnNjcm9sbEludG9WaWV3KCkKCiAgICAgIC8qCiAgICAgIC8vIFNjcm9sbCBhbGwgcGFyZW50cwogICAgICBsZXQgY3VyckVsZW06IEVsZW1lbnQgPSBzY3JvbGxBbmNob3IKICAgICAgbGV0IGNvbnRhaW5lcjogRWxlbWVudCB8IG51bGwgPSBjdXJyRWxlbS5wYXJlbnRFbGVtZW50CiAgICAgIHdoaWxlIChjb250YWluZXIpIHsKICAgICAgICBjb250YWluZXIuc2Nyb2xsVG8oeyB0b3A6IGN1cnJFbGVtLm9mZnNldFkgfSkKCiAgICAgICAgY3VyckVsZW0gPSBjb250YWluZXIKICAgICAgICBjb250YWluZXIgPSBjdXJyRWxlbS5wYXJlbnRFbGVtZW50CiAgICAgIH0KICAgICAgKi8KICAgIH0sCiAgICBwcmV2KCkgewogICAgICB0aGlzLmN1cnJlbnQtLQogICAgICB0aGlzLnNjcm9sbFRvRm9ybVRvcCgpCiAgICB9LAogICAgbmV4dCgpIHsKICAgICAgY29uc3Qgc2hvd05leHQgPSAoKSA9PiB7CiAgICAgICAgdGhpcy5jdXJyZW50KysKICAgICAgICB0aGlzLm1heEN1cnJlbnQgPSBNYXRoLm1heCh0aGlzLmN1cnJlbnQsIHRoaXMubWF4Q3VycmVudCkKICAgICAgICB0aGlzLnNjcm9sbFRvRm9ybVRvcCgpCiAgICAgIH0KICAgICAgaWYgKHRoaXMuY3VycmVudCA9PT0gMykgewogICAgICAgIHRoaXMuZm9ybS52YWxpZGF0ZUZpZWxkcygoZXJyOiBhbnkpID0+IHsKICAgICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAgIHNob3dOZXh0KCkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9IGVsc2UgewogICAgICAgIHNob3dOZXh0KCkKICAgICAgfQogICAgfSwKICAgIHNhdmUoKSB7CiAgICAgIGlmICghdGhpcy5jaGVja2VkKSB7CiAgICAgICAgdGhpcy5zaG93Q2hlY2tlZEVycm9yID0gdHJ1ZQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIHRoaXMuZm9ybS52YWxpZGF0ZUZpZWxkcygoZXJyOiBhbnksIHZhbHVlczogYW55KSA9PiB7CiAgICAgICAgaWYgKGVycikgewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CgogICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7CiAgICAgICAgICAuLi52YWx1ZXMsCiAgICAgICAgICBkYXRlT2ZCaXJ0aDogdmFsdWVzLmRhdGVPZkJpcnRoLmZvcm1hdCgnWVlZWS1NTS1ERCcpLAogICAgICAgICAgcGF0aWVudFN0YXR1czogJ1JFR0lTVEVSRUQnLAogICAgICAgICAgZmx1SW1tdW5pemF0aW9uOiBmYWxzZSwgLy8gVE9ETzogRG8gd2UgbmVlZCBhIGZvcm0gZmllbGQgZm9yIHRoaXM/CiAgICAgICAgICBzcGVlZE9mU3ltcHRvbXNPdXRicmVhazogJycsIC8vIFRPRE86IERvIHdlIG5lZWQgYSBmb3JtIGZpZWxkIGZvciB0aGlzPwogICAgICAgICAgLy8gVE9ETzogZXhwb3N1cmVzIGlzIG5vdCBsaXN0ZWQgaGVyZSwgc28gY3VycmVudGx5IHdlICJtaXN1c2UiIHJpc2sgYXJlYXMuLi4KICAgICAgICAgIHJpc2tBcmVhczogW10sCiAgICAgICAgfQogICAgICAgIGlmICghcmVxdWVzdC5zeW1wdG9tcykgewogICAgICAgICAgcmVxdWVzdC5zeW1wdG9tcyA9IFtdCiAgICAgICAgfQogICAgICAgIGlmICghcmVxdWVzdC5wcmVJbGxuZXNzZXMpIHsKICAgICAgICAgIHJlcXVlc3QucHJlSWxsbmVzc2VzID0gW10KICAgICAgICB9CiAgICAgICAgaWYgKHZhbHVlcy5leHBvc3VyZXMpIHsKICAgICAgICAgIHJlcXVlc3Qucmlza0FyZWFzID0gcmVxdWVzdC5yaXNrQXJlYXMuY29uY2F0KHZhbHVlcy5leHBvc3VyZXMpCiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnNob3dPdGhlclN5bXB0b21zKSB7CiAgICAgICAgICByZXF1ZXN0LnN5bXB0b21zLnB1c2godmFsdWVzLnN5bXB0b21zT3RoZXIpCiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnNob3dPdGhlclByZUlsbG5lc3NlcykgewogICAgICAgICAgcmVxdWVzdC5wcmVJbGxuZXNzZXMucHVzaCh2YWx1ZXMucHJlSWxsbmVzc2VzT3RoZXIpCiAgICAgICAgfQogICAgICAgIGlmICh2YWx1ZXMuZXhwb3N1cmVMb2NhdGlvbikgewogICAgICAgICAgcmVxdWVzdC5yaXNrQXJlYXMgPSByZXF1ZXN0LnJpc2tBcmVhcy5jb25jYXQoCiAgICAgICAgICAgIHZhbHVlcy5leHBvc3VyZUxvY2F0aW9uLm1hcCgKICAgICAgICAgICAgICAobG9jYXRpb246IHN0cmluZykgPT4gJ0NPTlRBQ1RfV0lUSF9DT1JPTkFfJyArIGxvY2F0aW9uCiAgICAgICAgICAgICkKICAgICAgICAgICkKICAgICAgICB9CiAgICAgICAgcmVxdWVzdC53ZWFrZW5lZEltbXVuZVN5c3RlbSA9ICEhcmVxdWVzdC5wcmVJbGxuZXNzZXMgLy8gVE9ETzogRG8gd2UgbmVlZCB0aGlzIGZpZWxkPwogICAgICAgICAgLmZpbmQoKGlsbG5lc3M6IHN0cmluZykgPT4gaWxsbmVzcyA9PT0gJ0lNTVVOT0RFRklDSUVOQ1knKQogICAgICAgIHJlcXVlc3QuY29yb25hQ29udGFjdHMgPSAhIXJlcXVlc3Qucmlza0FyZWFzIC8vIFRPRE86IERPIHdlIG5lZWQgdGhpcyBmaWVsZD8KICAgICAgICAgIC5maW5kKChyaXNrQXJlYTogc3RyaW5nKSA9PgogICAgICAgICAgICByaXNrQXJlYS5zdGFydHNXaXRoKCdDT05UQUNUX1dJVEhfQ09ST05BJykKICAgICAgICAgICkKICAgICAgICBBcGkuYWRkUGF0aWVudFVzaW5nUG9zdChyZXF1ZXN0KS50aGVuKChwYXRpZW50KSA9PiB7CiAgICAgICAgICB0aGlzLmNyZWF0ZWRQYXRpZW50ID0gcGF0aWVudAogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgb25DaGVja2VkQ2hhbmdlKGU6IEV2ZW50KSB7CiAgICAgIGlmICghZT8udGFyZ2V0KSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgdGhpcy5jaGVja2VkID0gKGUudGFyZ2V0IGFzIGFueSkuY2hlY2tlZAogICAgICBpZiAodGhpcy5jaGVja2VkKSB7CiAgICAgICAgdGhpcy5zaG93Q2hlY2tlZEVycm9yID0gZmFsc2UKICAgICAgfQogICAgfSwKICAgIHN5bXB0b21zQ2hhbmdlZChldmVudDogRXZlbnQpIHsKICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIGFueQogICAgICB0aGlzLnNob3dPdGhlclN5bXB0b21zID0gdGFyZ2V0LmNoZWNrZWQKICAgIH0sCiAgICBwcmVJbGxuZXNzZXNDaGFuZ2VkKGV2ZW50OiBFdmVudCkgewogICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgYW55CiAgICAgIHRoaXMuc2hvd090aGVyUHJlSWxsbmVzc2VzID0gdGFyZ2V0LmNoZWNrZWQKICAgIH0sCiAgICBleHBvc3VyZXNDaGFuZ2VkKGNoZWNrZWRWYWx1ZXM6IHN0cmluZ1tdKSB7CiAgICAgIHRoaXMuZGlzYWJsZUV4cG9zdXJlTG9jYXRpb24gPSAhY2hlY2tlZFZhbHVlcy5pbmNsdWRlcygKICAgICAgICAnQ09OVEFDVF9XSVRIX0NPUk9OQV9DQVNFJwogICAgICApCiAgICB9LAogIH0sCn0pCg=="},{"version":3,"sources":["PublicRegister.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PublicRegister.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"public-register-outer-container\">\n    <a-card class=\"card\">\n      <div style=\"display: flex; align-items: center; justify-content: center;\">\n        <img\n          aspect-ratio=\"1.7\"\n          src=\"../assets/logo.png\"\n          style=\"vertical-align: middle; height: 100px; margin-right: 25px;\"\n        />\n        <h1 style=\"margin: 0;\">Selbstregistrierung</h1>\n      </div>\n      <div style=\"margin-top: 35px;\">\n        <a-steps\n          id=\"scroll-anchor\"\n          style=\"margin-bottom: 20px;\"\n          class=\"steps\"\n          @change=\"(current) => (this.current = current)\"\n          :current=\"current\"\n          :direction=\"stepsDirection\"\n        >\n          <a-step\n            :key=\"item.title\"\n            :title=\"item.title\"\n            :disabled=\"\n              maxCurrent < steps.findIndex((elem) => elem.title === item.title)\n            \"\n            v-for=\"item in steps\"\n          />\n        </a-steps>\n\n        <a-form\n          :form=\"form\"\n          :labelCol=\"{ sm: { span: 8 }, xs: { span: 24 } }\"\n          :layout=\"'horizontal'\"\n          :wrapperCol=\"{ xs: { span: 24 }, sm: { span: 16 } }\"\n        >\n          <!-- Symptome -->\n          <div :style=\"{ display: current === 0 ? 'block' : 'none' }\">\n            <h2>\n              Welche der folgenden Symptome hatten Sie in den letzten 24h?\n            </h2>\n            <div style=\"display: flex;\">\n              <span style=\"flex: 1 1 auto;\" />\n              <div>\n                <a-form-item style=\"margin-bottom: 0;\">\n                  <a-checkbox-group\n                    :options=\"symptoms\"\n                    class=\"checkbox-group\"\n                    v-decorator=\"['symptoms']\"\n                  />\n                </a-form-item>\n                <div class=\"checkbox-group\">\n                  <div\n                    style=\"\n                      display: flex;\n                      align-items: center;\n                      align-self: stretch;\n                    \"\n                  >\n                    <a-checkbox @change=\"symptomsChanged\">Andere:</a-checkbox>\n                    <a-form-item style=\"flex: 1 1 100%; margin-bottom: 0;\">\n                      <a-input\n                        :disabled=\"!showOtherSymptoms\"\n                        v-decorator=\"['symptomsOther']\"\n                      />\n                    </a-form-item>\n                  </div>\n                </div>\n              </div>\n              <span style=\"flex: 1 1 auto;\" />\n            </div>\n          </div>\n\n          <!-- Exposition -->\n          <div :style=\"{ display: current === 1 ? 'block' : 'none' }\">\n            <h2>Welche Formen der Exposition treffen auf Sie zu?</h2>\n            <div style=\"display: flex;\">\n              <span style=\"flex: 1 1 auto;\" />\n              <div style=\"display: flex; flex-direction: column;\">\n                <a-form-item>\n                  <a-checkbox-group\n                    :options=\"exposures\"\n                    @change=\"exposuresChanged\"\n                    class=\"checkbox-group\"\n                    v-decorator=\"['exposures']\"\n                  />\n                </a-form-item>\n                <a-form-item style=\"padding-left: 35px;\">\n                  <a-checkbox-group\n                    :disabled=\"disableExposureLocation\"\n                    :options=\"exposureLocation\"\n                    class=\"checkbox-group\"\n                    v-decorator=\"['exposureLocation']\"\n                  />\n                </a-form-item>\n              </div>\n              <span style=\"flex: 1 1 auto;\" />\n            </div>\n          </div>\n\n          <!-- Risiken -->\n          <div :style=\"{ display: current === 2 ? 'block' : 'none' }\">\n            <h2>\n              Welche Vorerkrankungen und Risikofaktoren treffen auf Sie zu?\n            </h2>\n            <div style=\"display: flex;\">\n              <span style=\"flex: 1 1 auto;\" />\n              <div>\n                <a-form-item style=\"margin-bottom: 0;\">\n                  <a-checkbox-group\n                    :options=\"preIllnesses\"\n                    class=\"checkbox-group\"\n                    v-decorator=\"['preIllnesses']\"\n                  />\n                </a-form-item>\n                <div class=\"checkbox-group\">\n                  <div\n                    style=\"\n                      display: flex;\n                      align-items: center;\n                      align-self: stretch;\n                    \"\n                  >\n                    <a-checkbox @change=\"preIllnessesChanged\"\n                      >Andere:</a-checkbox\n                    >\n                    <a-form-item style=\"flex: 1 1 100%; margin-bottom: 0;\">\n                      <a-input\n                        :disabled=\"!showOtherPreIllnesses\"\n                        v-decorator=\"['preIllnessesOther']\"\n                      />\n                    </a-form-item>\n                  </div>\n                </div>\n              </div>\n              <span style=\"flex: 1 1 auto;\" />\n            </div>\n          </div>\n\n          <!-- Persönliche Daten -->\n          <div\n            :style=\"{ display: current === 3 ? 'block' : 'none' }\"\n            class=\"data-form\"\n          >\n            <h2>Bitte erfassen Sie nun Ihre persönlichen Daten.</h2>\n            <PatientStammdaten :form=\"form\" />\n          </div>\n\n          <!-- Finish -->\n          <div :style=\"{ display: current === 4 ? 'block' : 'none' }\">\n            <div v-if=\"!createdPatient\">\n              <h2>Sie haben es fast geschafft!</h2>\n              <a-form-item>\n                <a-checkbox @change=\"onCheckedChange\">\n                  Ich erkläre mich mit der Übermittlung meiner Daten zur\n                  weiteren Verarbeitung einverstanden.\n                </a-checkbox>\n                <span style=\"color: red;\" v-if=\"showCheckedError\"\n                  >Bitte bestätigen</span\n                >\n              </a-form-item>\n              <a-button\n                @click=\"save\"\n                :disabled=\"!checked\"\n                block\n                shape=\"round\"\n                size=\"large\"\n                style=\"width: 200px; margin-bottom: 25px;\"\n                type=\"primary\"\n              >\n                <a-icon type=\"save\" />\n                Daten übermitteln\n              </a-button>\n            </div>\n            <div v-if=\"createdPatient\">\n              <h2>Geschafft!</h2>\n              <div\n                style=\"\n                  margin-bottom: 20px;\n                  display: flex;\n                  align-items: center;\n                  justify-content: center;\n                \"\n              >\n                <a-icon\n                  :style=\"{ fontSize: '38px', color: '#08c' }\"\n                  style=\"margin-right: 25px;\"\n                  type=\"check-circle\"\n                />\n                <span>Sie erhalten in Kürze eine Email zur Bestätigung.</span>\n              </div>\n            </div>\n          </div>\n        </a-form>\n      </div>\n\n      <div class=\"button-row\">\n        <a-button\n          :style=\"{\n            visibility: current === 0 || createdPatient ? 'hidden' : 'visible',\n          }\"\n          @click=\"prev\"\n          block\n          class=\"button-row-button\"\n          shape=\"round\"\n          size=\"large\"\n          style=\"flex: 0 1 150px;\"\n          type=\"primary\"\n        >\n          <a-icon type=\"arrow-left\" />\n          Zurück\n        </a-button>\n        <a-button\n          :style=\"{ visibility: current === 4 ? 'hidden' : 'visible' }\"\n          @click=\"next\"\n          block\n          class=\"button-row-button\"\n          shape=\"round\"\n          size=\"large\"\n          style=\"flex: 0 1 150px;\"\n          type=\"primary\"\n        >\n          Weiter\n          <a-icon type=\"arrow-right\" />\n        </a-button>\n      </div>\n    </a-card>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue'\nimport Api from '@/api'\nimport { Patient } from '@/api/SwaggerApi'\nimport { Option } from '@/models'\nimport { SYMPTOMS } from '@/models/symptoms'\nimport { PRE_ILLNESSES } from '@/models/pre-illnesses'\nimport PatientStammdaten from '@/components/PatientStammdaten.vue'\nimport { EXPOSURE_LOCATIONS, EXPOSURES_PUBLIC } from '@/models/exposures'\n\ninterface State {\n  form: any\n  current: number\n  maxCurrent: number\n  createdPatient: Patient | null\n  symptoms: Option[]\n  exposures: Option[]\n  exposureLocation: Option[]\n  preIllnesses: Option[]\n  steps: any[]\n  checked: boolean\n  showCheckedError: boolean\n  disableExposureLocation: boolean\n  showOtherSymptoms: boolean\n  showOtherPreIllnesses: boolean\n}\n\nexport default Vue.extend({\n  name: 'PublicRegisterComponent',\n  components: {\n    PatientStammdaten,\n  },\n  data(): State {\n    return {\n      form: this.$form.createForm(this),\n      current: 0,\n      maxCurrent: 0,\n      createdPatient: null,\n      symptoms: SYMPTOMS,\n      preIllnesses: PRE_ILLNESSES,\n      exposures: EXPOSURES_PUBLIC,\n      exposureLocation: EXPOSURE_LOCATIONS,\n      steps: [\n        {\n          title: 'Symptome',\n        },\n        {\n          title: 'Exposition',\n        },\n        {\n          title: 'Risiken',\n          description: 'Vorerkrankungen und Risikofaktoren',\n        },\n        {\n          title: 'Persönliche Daten',\n        },\n      ],\n      checked: false,\n      showCheckedError: false,\n      disableExposureLocation: true,\n      showOtherSymptoms: false,\n      showOtherPreIllnesses: false,\n    }\n  },\n  computed: {\n    stepsDirection() {\n      return window.innerWidth >= 700 ? 'horizontal' : 'vertical'\n    },\n  },\n  methods: {\n    scrollToFormTop() {\n      (document.getElementById('scroll-anchor') as Element).scrollIntoView()\n\n      /*\n      // Scroll all parents\n      let currElem: Element = scrollAnchor\n      let container: Element | null = currElem.parentElement\n      while (container) {\n        container.scrollTo({ top: currElem.offsetY })\n\n        currElem = container\n        container = currElem.parentElement\n      }\n      */\n    },\n    prev() {\n      this.current--\n      this.scrollToFormTop()\n    },\n    next() {\n      const showNext = () => {\n        this.current++\n        this.maxCurrent = Math.max(this.current, this.maxCurrent)\n        this.scrollToFormTop()\n      }\n      if (this.current === 3) {\n        this.form.validateFields((err: any) => {\n          if (!err) {\n            showNext()\n          }\n        })\n      } else {\n        showNext()\n      }\n    },\n    save() {\n      if (!this.checked) {\n        this.showCheckedError = true\n        return\n      }\n      this.form.validateFields((err: any, values: any) => {\n        if (err) {\n          console.error(err)\n          return\n        }\n\n        const request = {\n          ...values,\n          dateOfBirth: values.dateOfBirth.format('YYYY-MM-DD'),\n          patientStatus: 'REGISTERED',\n          fluImmunization: false, // TODO: Do we need a form field for this?\n          speedOfSymptomsOutbreak: '', // TODO: Do we need a form field for this?\n          // TODO: exposures is not listed here, so currently we \"misuse\" risk areas...\n          riskAreas: [],\n        }\n        if (!request.symptoms) {\n          request.symptoms = []\n        }\n        if (!request.preIllnesses) {\n          request.preIllnesses = []\n        }\n        if (values.exposures) {\n          request.riskAreas = request.riskAreas.concat(values.exposures)\n        }\n        if (this.showOtherSymptoms) {\n          request.symptoms.push(values.symptomsOther)\n        }\n        if (this.showOtherPreIllnesses) {\n          request.preIllnesses.push(values.preIllnessesOther)\n        }\n        if (values.exposureLocation) {\n          request.riskAreas = request.riskAreas.concat(\n            values.exposureLocation.map(\n              (location: string) => 'CONTACT_WITH_CORONA_' + location\n            )\n          )\n        }\n        request.weakenedImmuneSystem = !!request.preIllnesses // TODO: Do we need this field?\n          .find((illness: string) => illness === 'IMMUNODEFICIENCY')\n        request.coronaContacts = !!request.riskAreas // TODO: DO we need this field?\n          .find((riskArea: string) =>\n            riskArea.startsWith('CONTACT_WITH_CORONA')\n          )\n        Api.addPatientUsingPost(request).then((patient) => {\n          this.createdPatient = patient\n        })\n      })\n    },\n    onCheckedChange(e: Event) {\n      if (!e?.target) {\n        return\n      }\n      this.checked = (e.target as any).checked\n      if (this.checked) {\n        this.showCheckedError = false\n      }\n    },\n    symptomsChanged(event: Event) {\n      const target = event.target as any\n      this.showOtherSymptoms = target.checked\n    },\n    preIllnessesChanged(event: Event) {\n      const target = event.target as any\n      this.showOtherPreIllnesses = target.checked\n    },\n    exposuresChanged(checkedValues: string[]) {\n      this.disableExposureLocation = !checkedValues.includes(\n        'CONTACT_WITH_CORONA_CASE'\n      )\n    },\n  },\n})\n</script>\n\n<!-- Bitte kein scoped hinzufügen. -->\n<!-- Damit die Usability (v.a. auf Touchgeräten) besser ist, -->\n<!-- greifen wir etwas in das antdesign css ein. -->\n<!-- Mit scoped geht das nicht. Wir verhindern, dass andere Views betroffen -->\n<!-- sind, indem wir die Eingriffe nur unterhalb der -->\n<!-- Klasse public-register-outer-container gelten lassen. -->\n<style lang=\"scss\">\n.public-register-outer-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: auto;\n  background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),\n    url('../assets/wave-bg.svg');\n  background-size: cover;\n  color: rgba(255, 255, 255, 0.87);\n\n  .button-row-button {\n    box-shadow: 0 3px 3px -2px rgba(0, 0, 0, 0.2),\n      0 3px 4px 0 rgba(0, 0, 0, 0.14), 0 1px 8px 0 rgba(0, 0, 0, 0.12);\n  }\n\n  .ant-form-item-control-wrapper {\n    width: 100%;\n  }\n\n  .data-form .ant-form-item-control-wrapper {\n    width: 66%;\n  }\n\n  .checkbox-group {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n\n    .ant-checkbox-inner {\n      width: 30px;\n      height: 30px;\n    }\n\n    .ant-checkbox-inner::after {\n      width: 8px;\n      height: 15px;\n      top: 48%;\n    }\n\n    .ant-checkbox-wrapper {\n      margin: 5px;\n      font-size: 18px;\n      display: flex;\n      align-items: center;\n      text-align: left;\n    }\n  }\n\n  .ant-btn:focus {\n    background: #1890ff;\n  }\n\n  .card {\n    max-width: 80%;\n    margin: 4rem auto 0 auto;\n    border-radius: 10px;\n    box-shadow: 0 8px 9px -5px rgba(0, 0, 0, 0.2),\n      0 15px 22px 2px rgba(0, 0, 0, 0.14), 0 6px 28px 5px rgba(0, 0, 0, 0.12);\n    border: none;\n  }\n\n  .steps {\n    text-align: start;\n    padding-left: 10pt;\n    padding-right: 10pt;\n  }\n\n  h1 {\n    font-weight: bold;\n    color: rgba(0, 0, 0, 0.78);\n  }\n\n  h2 {\n    color: rgba(0, 0, 0, 0.7);\n    margin: 35px 0 25px 0;\n  }\n\n  .button-row {\n    background: rgb(211, 211, 211);\n    display: flex;\n    justify-content: space-around;\n    padding: 10px 0;\n    margin: 15px -24px -24px -24px;\n    border-radius: 0 0 10px 10px;\n  }\n\n  @media (max-width: 750px) {\n    h1 {\n      display: none;\n    }\n    .card {\n      max-width: 95%;\n      margin: 3rem auto 3rem auto;\n    }\n    .data-form .ant-form-item-control-wrapper {\n      width: 100%;\n    }\n  }\n\n  @media (min-width: 1200px) {\n    .card {\n      max-width: 1000px;\n      margin: 3rem auto 3rem auto;\n    }\n  }\n}\n</style>\n"]}]}