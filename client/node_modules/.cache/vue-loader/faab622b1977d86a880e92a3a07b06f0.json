{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/PatientList.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/PatientList.vue","mtime":1589906836724},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSAnYW50LWRlc2lnbi12dWUvdHlwZXMvdGFibGUvY29sdW1uJwppbXBvcnQgVnVlIGZyb20gJ3Z1ZScKaW1wb3J0IHsgUGF0aWVudCwgUGF0aWVudFNlYXJjaFBhcmFtc0RUTyB9IGZyb20gJ0AvYXBpL1N3YWdnZXJBcGknCmltcG9ydCB7IGV2ZW50VHlwZXMgfSBmcm9tICdAL21vZGVscy9ldmVudC10eXBlcycKaW1wb3J0IHsgUGF0aWVudFN0YXR1cyB9IGZyb20gJ0AvbW9kZWxzJwppbXBvcnQgeyBkb3dubG9hZENzdiB9IGZyb20gJ0AvdXRpbC9leHBvcnQtc2VydmljZScKaW1wb3J0IEFwaSBmcm9tICdAL2FwaScKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnCmltcG9ydCBJbmRleFBhdGllbnRUYWJsZUNlbGwgZnJvbSAnQC9jb21wb25lbnRzL0luZGV4UGF0aWVudFRhYmxlQ2VsbC52dWUnCgpjb25zdCBjb2x1bW5zU2NoZW1hOiBQYXJ0aWFsPENvbHVtbj5bXSA9IFsKICB7CiAgICB0aXRsZTogJycsCiAgICBkYXRhSW5kZXg6ICdvcGVyYXRpb24nLAogICAgc2NvcGVkU2xvdHM6IHsKICAgICAgY3VzdG9tUmVuZGVyOiBbJ29wZXJhdGlvbiddLAogICAgfSwKICB9LAogIHsKICAgIHRpdGxlOiAnTmFtZScsCiAgICBrZXk6ICdsYXN0TmFtZScsCiAgICBzY29wZWRTbG90czogewogICAgICBjdXN0b21SZW5kZXI6IFsnbmFtZSddLAogICAgfSwKICB9LAogIHsKICAgIHRpdGxlOiAnR2VzY2hsZWNodCcsCiAgICBkYXRhSW5kZXg6ICdnZW5kZXInLAogICAga2V5OiAnZ2VuZGVyJywKICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgIGN1c3RvbVJlbmRlcjogJ2dlbmRlcicsCiAgICB9LAogIH0sCiAgewogICAgdGl0bGU6ICdTdGF0dXMnLAogICAgZGF0YUluZGV4OiAncGF0aWVudFN0YXR1cycsCiAgICBrZXk6ICdwYXRpZW50U3RhdHVzJywKICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgIGN1c3RvbVJlbmRlcjogJ3BhdGllbnRTdGF0dXMnLAogICAgfSwKICAgIHNvcnRlcjogdHJ1ZSwKICB9LAogIHsKICAgIHRpdGxlOiAnU3RhZHQnLAogICAga2V5OiAnY2l0eScsCiAgICBzY29wZWRTbG90czogewogICAgICBjdXN0b21SZW5kZXI6ICdjaXR5JywKICAgIH0sCiAgfSwKICB7CiAgICB0aXRsZTogJ0FsdGVyJywKICAgIGRhdGFJbmRleDogJ2RhdGVPZkJpcnRoJywKICAgIGtleTogJ2FnZScsCiAgICBzY29wZWRTbG90czogewogICAgICBjdXN0b21SZW5kZXI6ICdhZ2UnLAogICAgfSwKICB9LAogIHsKICAgIHRpdGxlOiAnSW5kZXhwYXRpZW50JywKICAgIGRhdGFJbmRleDogJ2lkJywKICAgIGtleTogJ2luZGV4cGF0aWVudCcsCiAgICBzY29wZWRTbG90czogewogICAgICBjdXN0b21SZW5kZXI6ICdpbmRleHBhdGllbnQnLAogICAgfSwKICB9LAogIHsKICAgIHRpdGxlOiAnSUQnLAogICAgZGF0YUluZGV4OiAnaWQnLAogICAga2V5OiAnaWQnLAogICAgZGVmYXVsdFNvcnRPcmRlcjogJ2FzY2VuZCcsCiAgfSwKXQoKaW50ZXJmYWNlIFNpbXBsZUZvcm0gewogIHF1ZXJ5OiBzdHJpbmcKICBvcmRlcjogc3RyaW5nCiAgb3JkZXJCeTogc3RyaW5nCiAgb2Zmc2V0UGFnZTogbnVtYmVyCiAgcGFnZVNpemU6IG51bWJlcgp9CgppbnRlcmZhY2UgU3RhdGUgewogIGZvcm06IFNpbXBsZUZvcm0KICBhZHZhbmNlZEZvcm06IFBhcnRpYWw8UGF0aWVudFNlYXJjaFBhcmFtc0RUTz4KICBxdWFyYW50aW5lU2VsZWN0aW9uOiBzdHJpbmcKICBjdXJyZW50UGF0aWVudHM6IFBhdGllbnRbXQoKICBba2V5OiBzdHJpbmddOiBhbnkKfQoKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1BhdGllbnRMaXN0JywKICBjb21wb25lbnRzOiB7CiAgICBJbmRleFBhdGllbnRUYWJsZUNlbGwsCiAgfSwKICBkYXRhKCk6IFN0YXRlIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBxdWVyeTogJycsCiAgICAgICAgb3JkZXI6ICdhc2MnLAogICAgICAgIG9yZGVyQnk6ICdsYXN0TmFtZScsCiAgICAgICAgb2Zmc2V0UGFnZTogMCwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIH0sCiAgICAgIGFkdmFuY2VkRm9ybTogewogICAgICAgIGdlbmRlcjogJycsCiAgICAgICAgY2l0eTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHBob25lTnVtYmVyOiAnJywKICAgICAgICBzdHJlZXQ6ICcnLAogICAgICAgIGhvdXNlTnVtYmVyOiAnJywKICAgICAgICB6aXA6ICcnLAogICAgICAgIGluc3VyYW5jZUNvbXBhbnk6ICcnLAogICAgICAgIGluc3VyYW5jZU1lbWJlcnNoaXBOdW1iZXI6ICcnLAogICAgICAgIGRvY3RvcklkOiAnJywKICAgICAgICBsYWJvcmF0b3J5SWQ6ICcnLAogICAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgICAgbGFzdE5hbWU6ICcnLAogICAgICAgIHBhdGllbnRTdGF0dXM6IHVuZGVmaW5lZCwKICAgICAgICBxdWFyYW50aW5lU3RhdHVzOiB1bmRlZmluZWQsCiAgICAgICAgaWQ6ICcnLAogICAgICB9LAogICAgICBxdWFyYW50aW5lU2VsZWN0aW9uOiAnJywKICAgICAgY29udGVudDogJycsCiAgICAgIGNvdW50OiAxMCwKICAgICAgY3VycmVudFBhZ2U6IDEsIC8vIFN0YXJ0cyBhdCAxCiAgICAgIGNvbHVtbnNTY2hlbWEsCiAgICAgIGRhdGE6IFtdLCAvLyBkYXRhCiAgICAgIHNob3dBZHZhbmNlZFNlYXJjaDogZmFsc2UsCiAgICAgIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsCiAgICAgIGN1cnJlbnRQYXRpZW50czogW10sCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgY3VycmVudFBhZ2UoKSB7CiAgICAgIHRoaXMubG9hZFBhZ2UoKQogICAgfSwKICAgICckcm91dGUucXVlcnkucXVlcnknKCkgewogICAgICB0aGlzLmxvYWRBZnRlclVybENoYW5nZSgpCiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5kZXhQYXRpZW50TWFwID0gbmV3IE1hcCgpCiAgICB0aGlzLmxvYWRBZnRlclVybENoYW5nZSgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkQWZ0ZXJVcmxDaGFuZ2UoKSB7CiAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy4kcm91dGUucXVlcnkucXVlcnkKICAgICAgaWYgKHF1ZXJ5KSB7CiAgICAgICAgdGhpcy5mb3JtLnF1ZXJ5ID0gcXVlcnkudG9TdHJpbmcoKQogICAgICB9CiAgICAgIHRoaXMubG9hZFBhZ2UoKQogICAgfSwKICAgIGhhbmRsZVNlYXJjaCgpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDEKICAgICAgdGhpcy5sb2FkUGFnZSgpCiAgICB9LAogICAgb25TaG93U2l6ZUNoYW5nZShjdXJyZW50OiBudW1iZXIsIHBhZ2VTaXplOiBudW1iZXIpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IGN1cnJlbnQKICAgICAgdGhpcy5hZHZhbmNlZEZvcm0ucGFnZVNpemUgPSBwYWdlU2l6ZQogICAgICB0aGlzLmxvYWRQYWdlKCkKICAgIH0sCiAgICBsb2FkUGFnZSgpIHsKICAgICAgdGhpcy5mb3JtLm9mZnNldFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlIC0gMQogICAgICBsZXQgY291bnRQcm9taXNlCiAgICAgIGxldCBxdWVyeVByb21pc2UKICAgICAgaWYgKHRoaXMuc2hvd0FkdmFuY2VkU2VhcmNoKSB7CiAgICAgICAgY29uc3QgZm9ybVZhbHVlcyA9IHsgLi4udGhpcy5mb3JtLCAuLi50aGlzLmFkdmFuY2VkRm9ybSB9CgogICAgICAgIGlmICghZm9ybVZhbHVlcy5wYXRpZW50U3RhdHVzKSB7CiAgICAgICAgICAvLyBCYWNrZW5kIGZhaWxzIG9uIGVtcHR5IHN0cmluZwogICAgICAgICAgZm9ybVZhbHVlcy5wYXRpZW50U3RhdHVzID0gdW5kZWZpbmVkCiAgICAgICAgfQogICAgICAgIGZvcm1WYWx1ZXMucXVhcmFudGluZVN0YXR1cyA9IHRoaXMuZ2V0UXVhcmFudGluZVNlbGVjdGlvbigpIGFzIFBhdGllbnRTdGF0dXNbXQoKICAgICAgICBjb3VudFByb21pc2UgPSBBcGkuY291bnRRdWVyeVBhdGllbnRzVXNpbmdQb3N0KGZvcm1WYWx1ZXMpCiAgICAgICAgcXVlcnlQcm9taXNlID0gQXBpLnF1ZXJ5UGF0aWVudHNVc2luZ1Bvc3QoZm9ybVZhbHVlcykKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBxdWVyeSA9IHRoaXMuZm9ybS5xdWVyeQogICAgICAgIGNvdW50UHJvbWlzZSA9IEFwaS5jb3VudFF1ZXJ5UGF0aWVudHNTaW1wbGVVc2luZ0dldCh7IHF1ZXJ5IH0pCiAgICAgICAgcXVlcnlQcm9taXNlID0gQXBpLnF1ZXJ5UGF0aWVudHNTaW1wbGVVc2luZ1Bvc3QoeyAuLi50aGlzLmZvcm0gfSkKICAgICAgfQoKICAgICAgY291bnRQcm9taXNlLnRoZW4oKGNvdW50KSA9PiB7CiAgICAgICAgdGhpcy5jb3VudCA9IGNvdW50CiAgICAgIH0pCiAgICAgIHF1ZXJ5UHJvbWlzZQogICAgICAgIC50aGVuKChyZXN1bHQ6IFBhdGllbnRbXSkgPT4gewogICAgICAgICAgdGhpcy5jdXJyZW50UGF0aWVudHMgPSByZXN1bHQKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpCiAgICAgICAgICBjb25zdCBub3RpZmljYXRpb24gPSB7CiAgICAgICAgICAgIG1lc3NhZ2U6ICdGZWhsZXIgYmVpbSBMYWRlbiBkZXIgUGF0aWVudGVuZGF0ZW4uJywKICAgICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UsCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLiRub3RpZmljYXRpb24uZXJyb3Iobm90aWZpY2F0aW9uKQogICAgICAgIH0pCiAgICB9LAogICAgdG9nZ2xlQWR2YW5jZWRTZWFyY2goKSB7CiAgICAgIHRoaXMuc2hvd0FkdmFuY2VkU2VhcmNoID0gIXRoaXMuc2hvd0FkdmFuY2VkU2VhcmNoCiAgICB9LAogICAgZG93bmxvYWRQYXRpZW50cygpIHsKICAgICAgdGhpcy5mb3JtLm9mZnNldFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlIC0gMQogICAgICBsZXQgY291bnRQcm9taXNlCiAgICAgIGxldCBmb3JtVmFsdWVzOiBhbnkKICAgICAgaWYgKHRoaXMuc2hvd0FkdmFuY2VkU2VhcmNoKSB7CiAgICAgICAgZm9ybVZhbHVlcyA9IHsgLi4udGhpcy5mb3JtLCAuLi50aGlzLmFkdmFuY2VkRm9ybSB9CiAgICAgICAgaWYgKCFmb3JtVmFsdWVzLnBhdGllbnRTdGF0dXMpIHsKICAgICAgICAgIC8vIEJhY2tlbmQgZmFpbHMgb24gZW1wdHkgc3RyaW5nCiAgICAgICAgICBkZWxldGUgZm9ybVZhbHVlcy5wYXRpZW50U3RhdHVzCiAgICAgICAgfQogICAgICAgIGZvcm1WYWx1ZXMucXVhcmFudGluZVN0YXR1cyA9IHRoaXMuZ2V0UXVhcmFudGluZVNlbGVjdGlvbigpCiAgICAgICAgY291bnRQcm9taXNlID0gQXBpLmNvdW50UXVlcnlQYXRpZW50c1VzaW5nUG9zdChmb3JtVmFsdWVzKQogICAgICB9IGVsc2UgewogICAgICAgIGZvcm1WYWx1ZXMgPSB7IC4uLnRoaXMuZm9ybSB9CiAgICAgICAgY29uc3QgcXVlcnkgPSB0aGlzLmZvcm0ucXVlcnkKICAgICAgICBjb3VudFByb21pc2UgPSBBcGkuY291bnRRdWVyeVBhdGllbnRzU2ltcGxlVXNpbmdHZXQoeyBxdWVyeSB9KQogICAgICB9CgogICAgICBjb3VudFByb21pc2UudGhlbigoY291bnQpID0+IHsKICAgICAgICAvLyBEb3dubG9hZCBhbGwgZGF0YSB0aGF0IGFwcGxpZXMgdG8gdGhlIGN1cnJlbnQgZmlsdGVyCiAgICAgICAgZm9ybVZhbHVlcy5vZmZzZXRQYWdlID0gMAogICAgICAgIGZvcm1WYWx1ZXMucGFnZVNpemUgPSBjb3VudAoKICAgICAgICBsZXQgcXVlcnlQcm9taXNlOiBQcm9taXNlPFBhdGllbnRbXT4KICAgICAgICBpZiAodGhpcy5zaG93QWR2YW5jZWRTZWFyY2gpIHsKICAgICAgICAgIHF1ZXJ5UHJvbWlzZSA9IEFwaS5xdWVyeVBhdGllbnRzVXNpbmdQb3N0KGZvcm1WYWx1ZXMpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHF1ZXJ5UHJvbWlzZSA9IEFwaS5xdWVyeVBhdGllbnRzU2ltcGxlVXNpbmdQb3N0KGZvcm1WYWx1ZXMpCiAgICAgICAgfQoKICAgICAgICBxdWVyeVByb21pc2UKICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgY29uc3QgaGVhZGVyID0KICAgICAgICAgICAgICAnSUQ7Vm9ybmFtZTtOYWNobmFtZTtHZXNjaGxlY2h0O1N0YXR1cztHZWJ1cnRzZGF0dW07U3RhZHQ7RS1NYWlsO1RlbGVmb25udW1tZXI7JyArCiAgICAgICAgICAgICAgJ1N0cmHDn2U7SGF1c251bW1lcjtTdGFkdDtWZXJzaWNoZXJ1bmc7VmVyc2ljaGVydGVubnVtbWVyJwogICAgICAgICAgICBjb25zdCBwYXRpZW50cyA9IHJlc3VsdAogICAgICAgICAgICAgIC5tYXAoCiAgICAgICAgICAgICAgICAocGF0aWVudDogUGF0aWVudCkgPT4KICAgICAgICAgICAgICAgICAgYCR7cGF0aWVudC5pZH07JHtwYXRpZW50LmZpcnN0TmFtZX07JHtwYXRpZW50Lmxhc3ROYW1lfTske3BhdGllbnQuZ2VuZGVyfTske3BhdGllbnQucGF0aWVudFN0YXR1c307YCArCiAgICAgICAgICAgICAgICAgIGAke3BhdGllbnQuZGF0ZU9mQmlydGh9OyR7cGF0aWVudC5jaXR5fTske3BhdGllbnQuZW1haWx9OyR7cGF0aWVudC5waG9uZU51bWJlcn07JHtwYXRpZW50LnN0cmVldH07YCArCiAgICAgICAgICAgICAgICAgIGAke3BhdGllbnQuaG91c2VOdW1iZXJ9OyR7cGF0aWVudC5jaXR5fTske3BhdGllbnQuaW5zdXJhbmNlQ29tcGFueX07JHtwYXRpZW50Lmluc3VyYW5jZU1lbWJlcnNoaXBOdW1iZXJ9YAogICAgICAgICAgICAgICkKICAgICAgICAgICAgICAuam9pbignXG4nKQogICAgICAgICAgICBjb25zdCBmaWxlbmFtZSA9CiAgICAgICAgICAgICAgbW9tZW50KCkuZm9ybWF0KCdZWVlZX01NX0REJykgKyAnX3BhdGllbnRlbl9leHBvcnQuY3N2JwogICAgICAgICAgICBkb3dubG9hZENzdihoZWFkZXIgKyAnXG4nICsgcGF0aWVudHMsIGZpbGVuYW1lKQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyb3I6IEVycm9yKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpCiAgICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IHsKICAgICAgICAgICAgICBtZXNzYWdlOiAnRmVobGVyIGJlaW0gTGFkZW4gZGVyIFBhdGllbnRlbmRhdGVuLicsCiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy4kbm90aWZpY2F0aW9uLmVycm9yKG5vdGlmaWNhdGlvbikKICAgICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlVGFibGVDaGFuZ2UocGFnaW5hdGlvbjogYW55LCBmaWx0ZXJzOiBhbnksIHNvcnRlcjogYW55KSB7CiAgICAgIGNvbnN0IHNvcnRLZXkgPSBzb3J0ZXIuZmllbGQgPyBzb3J0ZXIuZmllbGQgOiAnbGFzdE5hbWUnCiAgICAgIGxldCBzb3J0T3JkZXIgPSAnYXNjJwogICAgICBpZiAoc29ydGVyLm9yZGVyID09PSAnZGVzY2VuZCcpIHsKICAgICAgICBzb3J0T3JkZXIgPSAnZGVzYycKICAgICAgfQogICAgICB0aGlzLmZvcm0ub3JkZXIgPSBzb3J0T3JkZXIKICAgICAgdGhpcy5mb3JtLm9yZGVyQnkgPSBzb3J0S2V5CiAgICAgIHRoaXMubG9hZFBhZ2UoKQogICAgfSwKICAgIGhhbmRsZVBhdGllbnRDbGljayhwYXRpZW50OiBQYXRpZW50KSB7CiAgICAgIGlmIChwYXRpZW50LmlkKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ3BhdGllbnQtZGV0YWlsJywKICAgICAgICAgIHBhcmFtczogeyBpZDogcGF0aWVudC5pZCB9LAogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICBjdXN0b21Sb3cocmVjb3JkOiBQYXRpZW50KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgb246IHsKICAgICAgICAgIGRibGNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZVBhdGllbnRDbGljayhyZWNvcmQpLAogICAgICAgIH0sCiAgICAgIH0KICAgIH0sCiAgICBnZXRRdWFyYW50aW5lU2VsZWN0aW9uKCk6IChQYXRpZW50U3RhdHVzIHwgbnVsbClbXSB7CiAgICAgIGlmICghdGhpcy5xdWFyYW50aW5lU2VsZWN0aW9uKSB7CiAgICAgICAgcmV0dXJuIFtdCiAgICAgIH0KICAgICAgaWYgKHRoaXMucXVhcmFudGluZVNlbGVjdGlvbiA9PT0gJ05PX1NFTEVDVElPTicpIHsKICAgICAgICByZXR1cm4gWwogICAgICAgICAgJ1FVQVJBTlRJTkVfUkVMRUFTRUQnLAogICAgICAgICAgJ1FVQVJBTlRJTkVfUFJPRkVTU0lPTkJBTl9SRUxFQVNFRCcsCiAgICAgICAgICBudWxsLAogICAgICAgIF0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gW3RoaXMucXVhcmFudGluZVNlbGVjdGlvbiBhcyBQYXRpZW50U3RhdHVzXQogICAgICB9CiAgICB9LAogICAgbW9tZW50LAogIH0sCn0pCg=="},{"version":3,"sources":["PatientList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PatientList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <a-card class=\"table-container\">\n      <!-- TODO refactor search in own component -->\n      <a-form :model=\"form\" class=\"search-container\">\n        <a-form-item style=\"width: 600px; max-width: 100%;\">\n          <a-input\n            :disabled=\"showAdvancedSearch\"\n            placeholder=\"Suche über ID, Name, Stadt, Email oder Telefon (z.B. 'Max Mustermann Berlin')\"\n            v-model=\"form.query\"\n          >\n            <a-icon slot=\"prefix\" type=\"search\" />\n          </a-input>\n        </a-form-item>\n        <a-button @click=\"toggleAdvancedSearch\">\n          <a-icon :type=\"showAdvancedSearch ? 'down' : 'right'\" />\n          Erweiterte Suche\n        </a-button>\n        <a-button\n          @click=\"handleSearch\"\n          html-type=\"submit\"\n          icon=\"search\"\n          type=\"primary\"\n        >\n          Suche\n        </a-button>\n      </a-form>\n      <a-form\n        :model=\"advancedForm\"\n        class=\"search-container\"\n        v-if=\"showAdvancedSearch\"\n      >\n        <a-form-item label=\"Vorname\">\n          <a-input placeholder=\"Vorname\" v-model=\"advancedForm.firstName\">\n            <a-icon slot=\"prefix\" type=\"user\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Nachname\">\n          <a-input placeholder=\"Nachname\" v-model=\"advancedForm.lastName\">\n            <a-icon slot=\"prefix\" type=\"user\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Status\">\n          <a-select\n            placeholder=\"Status\"\n            style=\"width: 250px;\"\n            v-model=\"advancedForm.patientStatus\"\n          >\n            <a-select-option value=\"\">Alle</a-select-option>\n            <a-select-option\n              :key=\"eventType.id\"\n              v-for=\"eventType in eventTypes\"\n            >\n              <a-icon :type=\"eventType.icon\" style=\"margin-right: 5px;\" />\n              {{ eventType.label }}\n            </a-select-option>\n          </a-select>\n        </a-form-item>\n        <a-form-item label=\"ID\">\n          <a-input placeholder=\"ID\" v-model=\"advancedForm.id\">\n            <a-icon slot=\"prefix\" type=\"hdd\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Geschlecht\">\n          <a-select\n            placeholder=\"Geschlecht\"\n            style=\"width: 120px;\"\n            v-model=\"advancedForm.gender\"\n          >\n            <a-select-option value=\"\">Alle</a-select-option>\n            <a-select-option value=\"female\">\n              <a-icon style=\"margin-right: 5px;\" type=\"woman\" />\n              Weiblich\n            </a-select-option>\n            <a-select-option value=\"male\">\n              <a-icon style=\"margin-right: 5px;\" type=\"man\" />\n              Männlich\n            </a-select-option>\n            <a-select-option value=\"divers\">Sonstiges</a-select-option>\n          </a-select>\n        </a-form-item>\n        <a-form-item label=\"Stadt\">\n          <a-input placeholder=\"Stadt\" v-model=\"advancedForm.city\">\n            <a-icon slot=\"prefix\" type=\"home\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"E-Mail\">\n          <a-input placeholder=\"E-Mail\" v-model=\"advancedForm.email\">\n            <a-icon slot=\"prefix\" type=\"mail\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Telefonnummer\">\n          <a-input\n            placeholder=\"Telefonnummer\"\n            v-model=\"advancedForm.phoneNumber\"\n          >\n            <a-icon slot=\"prefix\" type=\"phone\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Straße\">\n          <a-input placeholder=\"Straße\" v-model=\"advancedForm.street\">\n            <a-icon slot=\"prefix\" type=\"home\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Hausnummer\" style=\"width: 100px;\">\n          <a-input placeholder=\"Hausnr.\" v-model=\"advancedForm.houseNumber\">\n            <a-icon slot=\"prefix\" type=\"home\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Postleitzahl\" style=\"width: 100px;\">\n          <a-input placeholder=\"PLZ\" v-model=\"advancedForm.zip\">\n            <a-icon slot=\"prefix\" type=\"home\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Versicherung\">\n          <a-input\n            placeholder=\"Versicherung\"\n            v-model=\"advancedForm.insuranceCompany\"\n          >\n            <a-icon slot=\"prefix\" type=\"hdd\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Versicherungsnummer\">\n          <a-input\n            placeholder=\"Versicherungsnummer\"\n            v-model=\"advancedForm.insuranceMembershipNumber\"\n          >\n            <a-icon slot=\"prefix\" type=\"idcard\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Arzt-ID\">\n          <a-input placeholder=\"Arzt-ID\" v-model=\"advancedForm.doctorId\">\n            <a-icon slot=\"prefix\" type=\"hdd\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Labor-ID\">\n          <a-input placeholder=\"Labor-ID\" v-model=\"advancedForm.laboratoryId\">\n            <a-icon slot=\"prefix\" type=\"hdd\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Quarantänestatus\">\n          <a-select\n            placeholder=\"Quarantänestatus\"\n            style=\"width: 250px;\"\n            v-model=\"quarantineSelection\"\n          >\n            <a-select-option value=\"\">Alle</a-select-option>\n            <a-select-option key=\"QUARANTINE_MANDATED\"\n              >Quarantäne angeordnet</a-select-option\n            >\n            <a-select-option key=\"QUARANTINE_SELECTED\"\n              >Quarantäne vorgemerkt</a-select-option\n            >\n            <a-select-option key=\"NO_SELECTION\"\n              >Keine Anordnung</a-select-option\n            >\n          </a-select>\n        </a-form-item>\n        <!-- Invisible Button so user can use enter to search -->\n        <a-button\n          @click=\"handleSearch\"\n          html-type=\"submit\"\n          style=\"visibility: hidden;\"\n        />\n      </a-form>\n      <a-table\n        :columns=\"columnsSchema\"\n        :customRow=\"customRow\"\n        :dataSource=\"currentPatients\"\n        :pagination=\"{ pageSize: 500 }\"\n        :scroll=\"{ x: 0, y: 0 }\"\n        @change=\"handleTableChange\"\n        class=\"imis-table-no-pagination\"\n        rowKey=\"id\"\n      >\n        <div slot=\"gender\" slot-scope=\"gender\">\n          {{\n            gender === 'male'\n              ? 'männlich'\n              : gender === 'female'\n              ? 'weiblich'\n              : 'divers'\n          }}\n        </div>\n        <div slot=\"patientStatus\" slot-scope=\"patientStatus\">\n          <a-icon\n            :type=\"eventTypes.find((type) => type.id === patientStatus).icon\"\n            style=\"margin-right: 5px;\"\n          />\n          {{ eventTypes.find((type) => type.id === patientStatus).label }}\n        </div>\n        <div\n          slot=\"operation\"\n          slot-scope=\"nothing, patient\"\n          style=\"cursor: pointer;\"\n        >\n          <a-icon\n            @click=\"() => handlePatientClick(patient)\"\n            style=\"margin-right: 5px; cursor: pointer;\"\n            type=\"import\"\n          />\n        </div>\n        <div slot=\"name\" slot-scope=\"patient\">\n          {{ patient.lastName }}, {{ patient.firstName }}\n        </div>\n        <div slot=\"city\" slot-scope=\"patient\">\n          {{ patient.zip }} {{ patient.city }}\n        </div>\n        <div slot=\"age\" slot-scope=\"dateOfBirth\">\n          {{ moment().diff(moment(dateOfBirth), 'years') }}\n        </div>\n        <div slot=\"indexpatient\" slot-scope=\"id\">\n          <index-patient-table-cell :patient-id=\"id\"></index-patient-table-cell>\n        </div>\n      </a-table>\n      <div\n        style=\"\n          display: flex;\n          width: 100%;\n          margin: 15px 0;\n          justify-content: flex-end;\n          align-items: center;\n        \"\n      >\n        <a-button\n          @click=\"downloadPatients\"\n          style=\"margin-right: 50px;\"\n          type=\"primary\"\n          >CSV exportieren</a-button\n        >\n        <span style=\"margin-right: 10px;\">{{ count }} Patienten</span>\n        <a-pagination\n          :pageSize.sync=\"form.pageSize\"\n          :total=\"count\"\n          @showSizeChange=\"onShowSizeChange\"\n          showSizeChanger\n          v-model=\"currentPage\"\n        />\n      </div>\n    </a-card>\n  </div>\n</template>\n\n<!--// TestStationen Ordnen ProbeIds und durchzuführrende Tests den Patienten zu-->\n\n<script lang=\"ts\">\nimport { Column } from 'ant-design-vue/types/table/column'\nimport Vue from 'vue'\nimport { Patient, PatientSearchParamsDTO } from '@/api/SwaggerApi'\nimport { eventTypes } from '@/models/event-types'\nimport { PatientStatus } from '@/models'\nimport { downloadCsv } from '@/util/export-service'\nimport Api from '@/api'\nimport moment from 'moment'\nimport IndexPatientTableCell from '@/components/IndexPatientTableCell.vue'\n\nconst columnsSchema: Partial<Column>[] = [\n  {\n    title: '',\n    dataIndex: 'operation',\n    scopedSlots: {\n      customRender: ['operation'],\n    },\n  },\n  {\n    title: 'Name',\n    key: 'lastName',\n    scopedSlots: {\n      customRender: ['name'],\n    },\n  },\n  {\n    title: 'Geschlecht',\n    dataIndex: 'gender',\n    key: 'gender',\n    scopedSlots: {\n      customRender: 'gender',\n    },\n  },\n  {\n    title: 'Status',\n    dataIndex: 'patientStatus',\n    key: 'patientStatus',\n    scopedSlots: {\n      customRender: 'patientStatus',\n    },\n    sorter: true,\n  },\n  {\n    title: 'Stadt',\n    key: 'city',\n    scopedSlots: {\n      customRender: 'city',\n    },\n  },\n  {\n    title: 'Alter',\n    dataIndex: 'dateOfBirth',\n    key: 'age',\n    scopedSlots: {\n      customRender: 'age',\n    },\n  },\n  {\n    title: 'Indexpatient',\n    dataIndex: 'id',\n    key: 'indexpatient',\n    scopedSlots: {\n      customRender: 'indexpatient',\n    },\n  },\n  {\n    title: 'ID',\n    dataIndex: 'id',\n    key: 'id',\n    defaultSortOrder: 'ascend',\n  },\n]\n\ninterface SimpleForm {\n  query: string\n  order: string\n  orderBy: string\n  offsetPage: number\n  pageSize: number\n}\n\ninterface State {\n  form: SimpleForm\n  advancedForm: Partial<PatientSearchParamsDTO>\n  quarantineSelection: string\n  currentPatients: Patient[]\n\n  [key: string]: any\n}\n\nexport default Vue.extend({\n  name: 'PatientList',\n  components: {\n    IndexPatientTableCell,\n  },\n  data(): State {\n    return {\n      form: {\n        query: '',\n        order: 'asc',\n        orderBy: 'lastName',\n        offsetPage: 0,\n        pageSize: 10,\n      },\n      advancedForm: {\n        gender: '',\n        city: '',\n        email: '',\n        phoneNumber: '',\n        street: '',\n        houseNumber: '',\n        zip: '',\n        insuranceCompany: '',\n        insuranceMembershipNumber: '',\n        doctorId: '',\n        laboratoryId: '',\n        firstName: '',\n        lastName: '',\n        patientStatus: undefined,\n        quarantineStatus: undefined,\n        id: '',\n      },\n      quarantineSelection: '',\n      content: '',\n      count: 10,\n      currentPage: 1, // Starts at 1\n      columnsSchema,\n      data: [], // data\n      showAdvancedSearch: false,\n      eventTypes: eventTypes,\n      currentPatients: [],\n    }\n  },\n  watch: {\n    currentPage() {\n      this.loadPage()\n    },\n    '$route.query.query'() {\n      this.loadAfterUrlChange()\n    },\n  },\n  created() {\n    this.indexPatientMap = new Map()\n    this.loadAfterUrlChange()\n  },\n  methods: {\n    loadAfterUrlChange() {\n      const query = this.$route.query.query\n      if (query) {\n        this.form.query = query.toString()\n      }\n      this.loadPage()\n    },\n    handleSearch() {\n      this.currentPage = 1\n      this.loadPage()\n    },\n    onShowSizeChange(current: number, pageSize: number) {\n      this.currentPage = current\n      this.advancedForm.pageSize = pageSize\n      this.loadPage()\n    },\n    loadPage() {\n      this.form.offsetPage = this.currentPage - 1\n      let countPromise\n      let queryPromise\n      if (this.showAdvancedSearch) {\n        const formValues = { ...this.form, ...this.advancedForm }\n\n        if (!formValues.patientStatus) {\n          // Backend fails on empty string\n          formValues.patientStatus = undefined\n        }\n        formValues.quarantineStatus = this.getQuarantineSelection() as PatientStatus[]\n\n        countPromise = Api.countQueryPatientsUsingPost(formValues)\n        queryPromise = Api.queryPatientsUsingPost(formValues)\n      } else {\n        const query = this.form.query\n        countPromise = Api.countQueryPatientsSimpleUsingGet({ query })\n        queryPromise = Api.queryPatientsSimpleUsingPost({ ...this.form })\n      }\n\n      countPromise.then((count) => {\n        this.count = count\n      })\n      queryPromise\n        .then((result: Patient[]) => {\n          this.currentPatients = result\n        })\n        .catch((error) => {\n          console.error(error)\n          const notification = {\n            message: 'Fehler beim Laden der Patientendaten.',\n            description: error.message,\n          }\n          this.$notification.error(notification)\n        })\n    },\n    toggleAdvancedSearch() {\n      this.showAdvancedSearch = !this.showAdvancedSearch\n    },\n    downloadPatients() {\n      this.form.offsetPage = this.currentPage - 1\n      let countPromise\n      let formValues: any\n      if (this.showAdvancedSearch) {\n        formValues = { ...this.form, ...this.advancedForm }\n        if (!formValues.patientStatus) {\n          // Backend fails on empty string\n          delete formValues.patientStatus\n        }\n        formValues.quarantineStatus = this.getQuarantineSelection()\n        countPromise = Api.countQueryPatientsUsingPost(formValues)\n      } else {\n        formValues = { ...this.form }\n        const query = this.form.query\n        countPromise = Api.countQueryPatientsSimpleUsingGet({ query })\n      }\n\n      countPromise.then((count) => {\n        // Download all data that applies to the current filter\n        formValues.offsetPage = 0\n        formValues.pageSize = count\n\n        let queryPromise: Promise<Patient[]>\n        if (this.showAdvancedSearch) {\n          queryPromise = Api.queryPatientsUsingPost(formValues)\n        } else {\n          queryPromise = Api.queryPatientsSimpleUsingPost(formValues)\n        }\n\n        queryPromise\n          .then((result) => {\n            const header =\n              'ID;Vorname;Nachname;Geschlecht;Status;Geburtsdatum;Stadt;E-Mail;Telefonnummer;' +\n              'Straße;Hausnummer;Stadt;Versicherung;Versichertennummer'\n            const patients = result\n              .map(\n                (patient: Patient) =>\n                  `${patient.id};${patient.firstName};${patient.lastName};${patient.gender};${patient.patientStatus};` +\n                  `${patient.dateOfBirth};${patient.city};${patient.email};${patient.phoneNumber};${patient.street};` +\n                  `${patient.houseNumber};${patient.city};${patient.insuranceCompany};${patient.insuranceMembershipNumber}`\n              )\n              .join('\\n')\n            const filename =\n              moment().format('YYYY_MM_DD') + '_patienten_export.csv'\n            downloadCsv(header + '\\n' + patients, filename)\n          })\n          .catch((error: Error) => {\n            console.error(error)\n            const notification = {\n              message: 'Fehler beim Laden der Patientendaten.',\n              description: error.message,\n            }\n            this.$notification.error(notification)\n          })\n      })\n    },\n    handleTableChange(pagination: any, filters: any, sorter: any) {\n      const sortKey = sorter.field ? sorter.field : 'lastName'\n      let sortOrder = 'asc'\n      if (sorter.order === 'descend') {\n        sortOrder = 'desc'\n      }\n      this.form.order = sortOrder\n      this.form.orderBy = sortKey\n      this.loadPage()\n    },\n    handlePatientClick(patient: Patient) {\n      if (patient.id) {\n        this.$router.push({\n          name: 'patient-detail',\n          params: { id: patient.id },\n        })\n      }\n    },\n    customRow(record: Patient) {\n      return {\n        on: {\n          dblclick: () => this.handlePatientClick(record),\n        },\n      }\n    },\n    getQuarantineSelection(): (PatientStatus | null)[] {\n      if (!this.quarantineSelection) {\n        return []\n      }\n      if (this.quarantineSelection === 'NO_SELECTION') {\n        return [\n          'QUARANTINE_RELEASED',\n          'QUARANTINE_PROFESSIONBAN_RELEASED',\n          null,\n        ]\n      } else {\n        return [this.quarantineSelection as PatientStatus]\n      }\n    },\n    moment,\n  },\n})\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\nh3 {\n  margin: 20px 10px;\n}\n\n.table-container {\n  width: 100%;\n}\n\n.search-container {\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 15px;\n  align-items: flex-end;\n}\n\n.search-container > * {\n  margin: 0 10px;\n  max-width: 250px;\n}\n\n.search-container > button {\n  margin-bottom: 5px;\n  margin-top: 5px;\n}\n</style>\n"]}]}