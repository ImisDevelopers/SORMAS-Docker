{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/RegisterPatient.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/RegisterPatient.vue","mtime":1589906836724},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgVnVlIGZyb20gJ3Z1ZScKaW1wb3J0IEFwaSBmcm9tICdAL2FwaScKaW1wb3J0IHsgUGF0aWVudCB9IGZyb20gJ0AvYXBpL1N3YWdnZXJBcGknCmltcG9ydCBQYXRpZW50U3RhbW1kYXRlbiBmcm9tICdAL2NvbXBvbmVudHMvUGF0aWVudFN0YW1tZGF0ZW4udnVlJwppbXBvcnQgeyBTWU1QVE9NUyB9IGZyb20gJ0AvbW9kZWxzL3N5bXB0b21zJwppbXBvcnQgeyBPcHRpb24gfSBmcm9tICdAL21vZGVscycKaW1wb3J0IHsgQURESVRJT05BTF9QUkVfSUxMTkVTU0VTLCBQUkVfSUxMTkVTU0VTIH0gZnJvbSAnQC9tb2RlbHMvcHJlLWlsbG5lc3NlcycKaW1wb3J0IHsgRVhQT1NVUkVfTE9DQVRJT05TLCBFWFBPU1VSRVNfSU5URVJOQUwgfSBmcm9tICdAL21vZGVscy9leHBvc3VyZXMnCmltcG9ydCBEYXRlSW5wdXQgZnJvbSAnQC9jb21wb25lbnRzL0RhdGVJbnB1dC52dWUnCmltcG9ydCB7IEV2ZW50VHlwZUl0ZW0sIGV2ZW50VHlwZXMgfSBmcm9tICdAL21vZGVscy9ldmVudC10eXBlcycKaW1wb3J0IG1vbWVudCwgeyBNb21lbnQgfSBmcm9tICdtb21lbnQnCgppbnRlcmZhY2UgU3RhdGUgewogIGZvcm06IGFueQogIGNyZWF0ZWRQYXRpZW50OiBQYXRpZW50IHwgbnVsbAogIFNZTVBUT01TOiBPcHRpb25bXQogIFBSRV9JTExORVNTRVM6IE9wdGlvbltdCiAgQURESVRJT05BTF9QUkVfSUxMTkVTU0VTOiBPcHRpb25bXQogIEVYUE9TVVJFU19JTlRFUk5BTDogT3B0aW9uW10KICBFWFBPU1VSRV9MT0NBVElPTlM6IE9wdGlvbltdCiAgRVZFTlRfVFlQRVM6IEV2ZW50VHlwZUl0ZW1bXQogIHNob3dPdGhlclN5bXB0b21zOiBib29sZWFuCiAgc2hvd090aGVyUHJlSWxsbmVzc2VzOiBib29sZWFuCiAgZGlzYWJsZUV4cG9zdXJlTG9jYXRpb246IGJvb2xlYW4KICBkaXNhYmxlSG9zcGl0YWxpemF0aW9uOiBib29sZWFuCiAgdG9kYXk6IE1vbWVudAp9CgpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBjb21wb25lbnRzOiB7CiAgICBQYXRpZW50U3RhbW1kYXRlbiwKICAgIERhdGVJbnB1dCwKICB9LAogIG5hbWU6ICdSZWdpc3RlclBhdGllbnQnLAogIGRhdGEoKTogU3RhdGUgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMsIHsgbmFtZTogJ2Nvb3JkaW5hdGVkJyB9KSwKICAgICAgY3JlYXRlZFBhdGllbnQ6IG51bGwsCiAgICAgIFNZTVBUT01TLAogICAgICBBRERJVElPTkFMX1BSRV9JTExORVNTRVMsCiAgICAgIFBSRV9JTExORVNTRVMsCiAgICAgIEVYUE9TVVJFU19JTlRFUk5BTCwKICAgICAgRVhQT1NVUkVfTE9DQVRJT05TLAogICAgICBFVkVOVF9UWVBFUzogZXZlbnRUeXBlcywKICAgICAgZGlzYWJsZUV4cG9zdXJlTG9jYXRpb246IHRydWUsCiAgICAgIHNob3dPdGhlclN5bXB0b21zOiBmYWxzZSwKICAgICAgc2hvd090aGVyUHJlSWxsbmVzc2VzOiBmYWxzZSwKICAgICAgZGlzYWJsZUhvc3BpdGFsaXphdGlvbjogdHJ1ZSwKICAgICAgdG9kYXk6IG1vbWVudCgpLAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VibWl0KCkgewogICAgICB0aGlzLmZvcm0udmFsaWRhdGVGaWVsZHMoYXN5bmMgKGVycjogRXJyb3IsIHZhbHVlczogYW55KSA9PiB7CiAgICAgICAgaWYgKGVycikgewogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7CiAgICAgICAgICAuLi52YWx1ZXMsCiAgICAgICAgICBkYXRlT2ZCaXJ0aDogdmFsdWVzLmRhdGVPZkJpcnRoLmZvcm1hdCgnWVlZWS1NTS1ERCcpLAogICAgICAgICAgcmlza0FyZWFzOiBbXSwKICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZXMuZGF0ZW9mSWxsbmVzcykgewogICAgICAgICAgcmVxdWVzdC5kYXRlT2ZJbGxuZXNzID0gdmFsdWVzLmRhdGVPZklsbG5lc3MuZm9ybWF0KCdZWVlZLU1NLUREJykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVxdWVzdC5kYXRlT2ZJbGxuZXNzID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJykKICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZXMuZGF0ZU9mUmVwb3J0aW5nKSB7CiAgICAgICAgICByZXF1ZXN0LmRhdGVPZlJlcG9ydGluZyA9IHZhbHVlcy5kYXRlT2ZSZXBvcnRpbmcuZm9ybWF0KCdZWVlZLU1NLUREJykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVxdWVzdC5kYXRlT2ZSZXBvcnRpbmcgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKQogICAgICAgIH0KCiAgICAgICAgaWYgKCFyZXF1ZXN0LnN5bXB0b21zKSB7CiAgICAgICAgICByZXF1ZXN0LnN5bXB0b21zID0gW10KICAgICAgICB9CiAgICAgICAgaWYgKCFyZXF1ZXN0LnByZUlsbG5lc3NlcykgewogICAgICAgICAgcmVxdWVzdC5wcmVJbGxuZXNzZXMgPSBbXQogICAgICAgIH0KCiAgICAgICAgaWYgKHJlcXVlc3QuZGF0ZU9mRGVhdGgpIHsKICAgICAgICAgIHJlcXVlc3QuZGF0ZU9mRGVhdGggPSByZXF1ZXN0LmRhdGVPZkRlYXRoLmZvcm1hdCgnWVlZWS1NTS1ERCcpCiAgICAgICAgfQoKICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZUhvc3BpdGFsaXphdGlvbikgewogICAgICAgICAgcmVxdWVzdC5kYXRlT2ZIb3NwaXRhbGl6YXRpb24gPSB2YWx1ZXMuZGF0ZU9mSG9zcGl0YWxpemF0aW9uLmZvcm1hdCgKICAgICAgICAgICAgJ1lZWVktTU0tREQnCiAgICAgICAgICApCiAgICAgICAgICByZXF1ZXN0Lm9uSW50ZW5zaXZlQ2FyZVVuaXQgPSB2YWx1ZXMub25JbnRlbnNpdmVDYXJlVW5pdAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXF1ZXN0LmRhdGVPZkhvc3BpdGFsaXphdGlvbiA9IG51bGwKICAgICAgICAgIHJlcXVlc3Qub25JbnRlbnNpdmVDYXJlVW5pdCA9IG51bGwKICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZXMuZXhwb3N1cmVzKSB7CiAgICAgICAgICByZXF1ZXN0LnJpc2tBcmVhcyA9IHJlcXVlc3Qucmlza0FyZWFzLmNvbmNhdCh2YWx1ZXMuZXhwb3N1cmVzKQogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5zaG93T3RoZXJTeW1wdG9tcykgewogICAgICAgICAgcmVxdWVzdC5zeW1wdG9tcy5wdXNoKHZhbHVlcy5zeW1wdG9tc090aGVyKQogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5zaG93T3RoZXJQcmVJbGxuZXNzZXMpIHsKICAgICAgICAgIHJlcXVlc3QucHJlSWxsbmVzc2VzLnB1c2godmFsdWVzLnByZUlsbG5lc3Nlc090aGVyKQogICAgICAgIH0KICAgICAgICBpZiAodmFsdWVzLmV4cG9zdXJlTG9jYXRpb24pIHsKICAgICAgICAgIHJlcXVlc3Qucmlza0FyZWFzID0gcmVxdWVzdC5yaXNrQXJlYXMuY29uY2F0KAogICAgICAgICAgICB2YWx1ZXMuZXhwb3N1cmVMb2NhdGlvbi5tYXAoCiAgICAgICAgICAgICAgKGxvY2F0aW9uOiBzdHJpbmcpID0+ICdDT05UQUNUX1dJVEhfQ09ST05BXycgKyBsb2NhdGlvbgogICAgICAgICAgICApCiAgICAgICAgICApCiAgICAgICAgfQoKICAgICAgICBBcGkuYWRkUGF0aWVudFVzaW5nUG9zdChyZXF1ZXN0KQogICAgICAgICAgLnRoZW4oKHBhdGllbnQ6IFBhdGllbnQpID0+IHsKICAgICAgICAgICAgdGhpcy5mb3JtLnJlc2V0RmllbGRzKCkKICAgICAgICAgICAgdGhpcy5jcmVhdGVkUGF0aWVudCA9IHBhdGllbnQgYXMgYW55CiAgICAgICAgICAgIHRoaXMuZGlzYWJsZUV4cG9zdXJlTG9jYXRpb24gPSB0cnVlCiAgICAgICAgICAgIHRoaXMuZGlzYWJsZUhvc3BpdGFsaXphdGlvbiA9IHRydWUKICAgICAgICAgICAgdGhpcy5zaG93T3RoZXJTeW1wdG9tcyA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuZm9ybS5zZXRGaWVsZHNWYWx1ZSh7CiAgICAgICAgICAgICAgc3ltcHRvbXNPdGhlcjogdW5kZWZpbmVkLAogICAgICAgICAgICAgIHN5bXB0b21zT3RoZXJBY3RpdmF0ZWQ6IHVuZGVmaW5lZCwKICAgICAgICAgICAgICBwcmVJbGxuZXNzZXNPdGhlcjogdW5kZWZpbmVkLAogICAgICAgICAgICAgIHByZUlsbG5lc3Nlc0FjdGl2YXRlZDogdW5kZWZpbmVkLAogICAgICAgICAgICB9KQogICAgICAgICAgICBjb25zdCBub3RpZmljYXRpb24gPSB7CiAgICAgICAgICAgICAgbWVzc2FnZTogJ1BhdGllbnQvaW4gcmVnaXN0cmllcnQuJywKICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1BhdGllbnQvaW4gd3VyZGUgZXJmb2xncmVpY2ggcmVnaXN0cmllcnQuJywKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRub3RpZmljYXRpb24uc3VjY2Vzcyhub3RpZmljYXRpb24pCiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyb3I6IEVycm9yKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpCiAgICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IHsKICAgICAgICAgICAgICBtZXNzYWdlOiAnUGF0aWVudC9pbiBuaWNodCByZWdpc3RyaWVydC4nLAogICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUGF0aWVudC9pbiBrb25udGUgbmljaHQgcmVnaXN0cmllcnQgd2VyZGVuLicsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy4kbm90aWZpY2F0aW9uLmVycm9yKG5vdGlmaWNhdGlvbikKICAgICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgc3ltcHRvbXNDaGFuZ2VkKGV2ZW50OiBFdmVudCkgewogICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgYW55CiAgICAgIHRoaXMuc2hvd090aGVyU3ltcHRvbXMgPSB0YXJnZXQuY2hlY2tlZAogICAgfSwKICAgIHByZUlsbG5lc3Nlc0NoYW5nZWQoZXZlbnQ6IEV2ZW50KSB7CiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBhbnkKICAgICAgdGhpcy5zaG93T3RoZXJQcmVJbGxuZXNzZXMgPSB0YXJnZXQuY2hlY2tlZAogICAgfSwKICAgIGV4cG9zdXJlc0NoYW5nZWQoY2hlY2tlZFZhbHVlczogc3RyaW5nW10pIHsKICAgICAgdGhpcy5kaXNhYmxlRXhwb3N1cmVMb2NhdGlvbiA9ICFjaGVja2VkVmFsdWVzLmluY2x1ZGVzKAogICAgICAgICdDT05UQUNUX1dJVEhfQ09ST05BX0NBU0UnCiAgICAgICkKICAgIH0sCiAgICBob3NwaXRhbGl6YXRpb25DaGFuZ2VkKGV2ZW50OiBFdmVudCkgewogICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgYW55CiAgICAgIHRoaXMuZGlzYWJsZUhvc3BpdGFsaXphdGlvbiA9ICF0YXJnZXQuY2hlY2tlZAogICAgfSwKICB9LAp9KQo="},{"version":3,"sources":["RegisterPatient.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RegisterPatient.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"wrapper register-patient-container\">\n    <!-- Patient successfully created info -->\n    <div\n      style=\"display: flex; justify-content: center; text-align: center;\"\n      v-if=\"createdPatient\"\n    >\n      <a-card style=\"max-width: 600px; margin-bottom: 25px;\">\n        <div style=\"display: flex; flex-direction: column; position: relative;\">\n          <a-icon\n            @click=\"createdPatient = null\"\n            style=\"top: 0; right: 0; position: absolute; cursor: pointer;\"\n            type=\"close\"\n          />\n          <div style=\"display: flex; align-items: center; margin: 10px;\">\n            <a-icon\n              :style=\"{ fontSize: '38px', color: '#08c' }\"\n              style=\"margin: 0 25px 0 0;\"\n              type=\"check-circle\"\n            />\n            <h3 style=\"margin-bottom: 0;\">\n              Patient/in wurde erfolgreich registriert.\n            </h3>\n          </div>\n          <table\n            style=\"\n              border-collapse: separate;\n              border-spacing: 15px 5px;\n              text-align: left;\n            \"\n          >\n            <tbody>\n              <tr>\n                <td>Name:</td>\n                <td>\n                  {{ createdPatient.firstName }} {{ createdPatient.lastName }}\n                </td>\n              </tr>\n              <tr>\n                <td>Patienten-ID:</td>\n                <td>{{ createdPatient.id }}</td>\n              </tr>\n            </tbody>\n          </table>\n          <div style=\"margin-top: 15px;\">\n            <router-link\n              :to=\"{\n                name: 'patient-detail',\n                params: { id: createdPatient.id },\n              }\"\n              style=\"margin-right: 15px;\"\n            >\n              <a-button type=\"primary\">\n                Patienten/in einsehen\n              </a-button>\n            </router-link>\n            <router-link :to=\"{ name: 'register-test' }\">\n              <a-button type=\"primary\">\n                Probe zuordnen\n              </a-button>\n            </router-link>\n          </div>\n        </div>\n      </a-card>\n    </div>\n\n    <!-- Patient Registration Form -->\n    <div>\n      <h3>\n        Registrieren Sie hier neue Patienten in IMIS. Bitte erfassen Sie die\n        nachfolgenden Daten so vollständig wie möglich. Pflichtangaben sind mit\n        \"*\" markiert.\n      </h3>\n\n      <a-form\n        :form=\"form\"\n        :labelCol=\"{ span: 8 }\"\n        :layout=\"'horizontal'\"\n        :wrapperCol=\"{ span: 16 }\"\n        @submit.prevent=\"handleSubmit\"\n      >\n        <a-collapse defaultActiveKey=\"1\">\n          <!-- Stammdaten -->\n          <a-collapse-panel header=\"Personendaten\" key=\"1\">\n            <PatientStammdaten\n              :form=\"form\"\n              :show-death=\"true\"\n              :show-stay=\"true\"\n            />\n          </a-collapse-panel>\n\n          <!-- Infektionskette / Exposure -->\n          <a-collapse-panel header=\"Exposition\" key=\"2\">\n            <a-form-item\n              :label=\"'Bitte zutreffendes ankreuzen:'\"\n              :labelCol=\"{ div: 24 }\"\n              :wrapperCol=\"{ div: 24 }\"\n            >\n              <a-checkbox-group\n                @change=\"exposuresChanged\"\n                v-decorator=\"['exposures']\"\n              >\n                <a-row>\n                  <a-col\n                    :key=\"exposure.value\"\n                    :span=\"24\"\n                    v-for=\"exposure in EXPOSURES_INTERNAL\"\n                  >\n                    <a-checkbox :value=\"exposure.value\">\n                      {{ exposure.label }}\n                    </a-checkbox>\n                  </a-col>\n                </a-row>\n              </a-checkbox-group>\n              <a-checkbox-group\n                :disabled=\"disableExposureLocation\"\n                style=\"padding-left: 30px;\"\n                v-decorator=\"['exposureLocation']\"\n              >\n                <a-row>\n                  <a-col\n                    :key=\"exposure.value\"\n                    :span=\"24\"\n                    v-for=\"exposure in EXPOSURE_LOCATIONS\"\n                  >\n                    <a-checkbox :value=\"exposure.value\">\n                      {{ exposure.label }}\n                    </a-checkbox>\n                  </a-col>\n                </a-row>\n              </a-checkbox-group>\n            </a-form-item>\n          </a-collapse-panel>\n\n          <!-- Symptoms -->\n          <a-collapse-panel header=\"Symptome\" key=\"3\">\n            <a-form-item\n              class=\"no-double-colon-form-field\"\n              :label=\"'Welche Symptome weist der Patient/die Patientin auf?'\"\n              :labelCol=\"{ div: 24 }\"\n              :wrapperCol=\"{ div: 24 }\"\n            >\n              <a-checkbox-group v-decorator=\"['symptoms']\">\n                <a-row>\n                  <a-col\n                    :key=\"symptom.value\"\n                    :span=\"\n                      symptom.value === 'LOSS_OF_SENSE_OF_SMELL_TASTE' ? 12 : 6\n                    \"\n                    v-for=\"symptom in SYMPTOMS\"\n                  >\n                    <a-checkbox :value=\"symptom.value\">\n                      {{ symptom.label }}\n                    </a-checkbox>\n                  </a-col>\n                </a-row>\n              </a-checkbox-group>\n              <div\n                style=\"display: flex; align-items: center; align-self: stretch;\"\n              >\n                <a-checkbox\n                  :checked=\"showOtherSymptoms\"\n                  @change=\"symptomsChanged\"\n                  style=\"flex: 0 0 auto;\"\n                >\n                  Andere:\n                </a-checkbox>\n                <a-form-item\n                  style=\"flex: 1 1 100%; margin-bottom: 0; max-width: 600px;\"\n                >\n                  <a-input\n                    :disabled=\"!showOtherSymptoms\"\n                    v-decorator=\"['symptomsOther']\"\n                  />\n                </a-form-item>\n              </div>\n            </a-form-item>\n\n            <a-form-item\n              :labelCol=\"{ div: 24 }\"\n              :wrapperCol=\"{ div: 24 }\"\n              class=\"no-double-colon-form-field\"\n              label=\"Wie schnell sind die Beschwerden aufgetreten?\"\n            >\n              <a-radio-group v-decorator=\"['speedOfSymptomsOutbreak']\">\n                <a-radio value=\"suddenly\">\n                  Plötzlich, innerhalb von einem Tag\n                </a-radio>\n                <a-radio value=\"slow\">\n                  Langsam, innerhalb von mehreren Tagen\n                </a-radio>\n              </a-radio-group>\n            </a-form-item>\n\n            <a-form-item\n              class=\"no-double-colon-form-field\"\n              :label=\"'Hat der Patient/die Patientin für diese Saison eine Influenza-Impfung erhalten?'\"\n              :labelCol=\"{ div: 24 }\"\n              :wrapperCol=\"{ div: 24 }\"\n            >\n              <a-radio-group v-decorator=\"['fluImmunization']\">\n                <a-radio value=\"true\">Ja</a-radio>\n                <a-radio value=\"false\">Nein</a-radio>\n              </a-radio-group>\n            </a-form-item>\n          </a-collapse-panel>\n\n          <!-- Risks / Pre Illnesses -->\n          <a-collapse-panel header=\"Vorerkrankungen und Risikofaktoren\" key=\"4\">\n            <a-form-item\n              class=\"no-double-colon-form-field\"\n              :label=\"'Welche Vorerkrankungen und Risikofaktoren liegen vor?'\"\n              :labelCol=\"{ div: 24 }\"\n              :wrapperCol=\"{ div: 24 }\"\n            >\n              <a-checkbox-group v-decorator=\"['preIllnesses']\">\n                <a-row>\n                  <a-col\n                    :key=\"preIllness.value\"\n                    :span=\"8\"\n                    v-for=\"preIllness in PRE_ILLNESSES\"\n                  >\n                    <a-checkbox :value=\"preIllness.value\">\n                      {{ preIllness.label }}\n                    </a-checkbox>\n                  </a-col>\n                  <a-col\n                    :key=\"preIllness.value\"\n                    :span=\"12\"\n                    v-for=\"preIllness in ADDITIONAL_PRE_ILLNESSES\"\n                  >\n                    <a-checkbox :value=\"preIllness.value\">\n                      {{ preIllness.label }}\n                    </a-checkbox>\n                  </a-col>\n                </a-row>\n              </a-checkbox-group>\n              <div\n                style=\"display: flex; align-items: center; align-self: stretch;\"\n              >\n                <a-checkbox\n                  :checked=\"showOtherPreIllnesses\"\n                  @change=\"preIllnessesChanged\"\n                  style=\"flex: 0 0 auto;\"\n                >\n                  Andere:\n                </a-checkbox>\n                <a-form-item\n                  style=\"flex: 1 1 100%; margin-bottom: 0; max-width: 600px;\"\n                >\n                  <a-input\n                    :disabled=\"!showOtherPreIllnesses\"\n                    v-decorator=\"['preIllnessesOther']\"\n                  />\n                </a-form-item>\n              </div>\n            </a-form-item>\n          </a-collapse-panel>\n\n          <!-- Krankheitsdetails -->\n          <a-collapse-panel header=\"Krankheit und Zustand\" key=\"5\">\n            <a-row>\n              <a-col :span=\"1\"></a-col>\n              <a-col :span=\"8\">\n                <a-form-item label=\"Art der Erkrankung\">\n                  <a-select\n                    placeholder=\"Bitte wählen...\"\n                    v-decorator=\"[\n                      'illnessType',\n                      {\n                        rules: [\n                          {\n                            required: true,\n                            message: 'Bitte Erkrankung wählen',\n                          },\n                        ],\n                        initialValue: 'CORONA',\n                      },\n                    ]\"\n                  >\n                    <a-select-option value=\"CORONA\">COVID-19</a-select-option>\n                  </a-select>\n                </a-form-item>\n              </a-col>\n              <a-col :span=\"8\">\n                <a-form-item label=\"Fallstatus\">\n                  <a-select\n                    placeholder=\"Status\"\n                    style=\"width: 250px;\"\n                    v-decorator=\"[\n                      'patientStatus',\n                      {\n                        rules: [\n                          {\n                            required: true,\n                            message: 'Bitte Status wählen',\n                          },\n                        ],\n                        initialValue: 'SUSPECTED',\n                      },\n                    ]\"\n                  >\n                    <a-select-option\n                      :key=\"eventType.id\"\n                      v-for=\"eventType in EVENT_TYPES\"\n                    >\n                      <a-icon\n                        :type=\"eventType.icon\"\n                        style=\"margin-right: 5px;\"\n                      />\n                      {{ eventType.label }}\n                    </a-select-option>\n                  </a-select>\n                </a-form-item>\n              </a-col>\n            </a-row>\n            <a-row>\n              <a-col :span=\"1\"></a-col>\n              <a-col :span=\"8\">\n                <a-form-item label=\"Erkrankungsdatum\">\n                  <DateInput\n                    v-decorator=\"[\n                      'dateOfIllness',\n                      {\n                        rules: [\n                          {\n                            required: true,\n                            message: 'Bitte Erkrankungsdatum wählen',\n                          },\n                        ],\n                        initialValue: today,\n                      },\n                    ]\"\n                  />\n                </a-form-item>\n              </a-col>\n              <a-col :span=\"8\">\n                <a-form-item label=\"Meldedatum\">\n                  <DateInput\n                    v-decorator=\"[\n                      'dateOfReporting',\n                      {\n                        rules: [\n                          {\n                            required: true,\n                            message: 'Bitte Meldedatum wählen',\n                          },\n                        ],\n                        initialValue: today,\n                      },\n                    ]\"\n                  />\n                </a-form-item>\n              </a-col>\n            </a-row>\n            <a-row>\n              <a-col :span=\"2\" />\n              <a-col :span=\"16\">\n                <div style=\"display: flex; align-items: center;\">\n                  <a-form-item :wrapperCol=\"{ span: 24 }\">\n                    <a-checkbox\n                      :checked=\"!disableHospitalization\"\n                      @change=\"hospitalizationChanged\"\n                    >\n                      Patient/in ist hospitalisiert\n                    </a-checkbox>\n                  </a-form-item>\n                  <DateInput\n                    :decorator=\"['dateOfHospitalization']\"\n                    :disabled=\"disableHospitalization\"\n                    label=\"Seit\"\n                    style=\"flex: 0 1 400px;\"\n                  />\n                  <a-form-item\n                    :wrapperCol=\"{ span: 24 }\"\n                    style=\"padding-left: 15px;\"\n                  >\n                    <a-checkbox\n                      :decorator=\"['onIntensiveCareUnit']\"\n                      :disabled=\"disableHospitalization\"\n                    >\n                      Auf der Intensivstation\n                    </a-checkbox>\n                  </a-form-item>\n                </div>\n              </a-col>\n            </a-row>\n          </a-collapse-panel>\n        </a-collapse>\n\n        <!-- Submit Button -->\n        <a-form-item\n          :wrapperCol=\"{ span: 24, offset: 0 }\"\n          style=\"margin-top: 15px;\"\n        >\n          <a-row :gutter=\"16\" justify=\"end\" type=\"flex\">\n            <a-col>\n              <a-button html-type=\"submit\" size=\"large\" type=\"primary\">\n                <a-icon type=\"save\" />\n                Patient registrieren\n              </a-button>\n            </a-col>\n          </a-row>\n        </a-form-item>\n      </a-form>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue'\nimport Api from '@/api'\nimport { Patient } from '@/api/SwaggerApi'\nimport PatientStammdaten from '@/components/PatientStammdaten.vue'\nimport { SYMPTOMS } from '@/models/symptoms'\nimport { Option } from '@/models'\nimport { ADDITIONAL_PRE_ILLNESSES, PRE_ILLNESSES } from '@/models/pre-illnesses'\nimport { EXPOSURE_LOCATIONS, EXPOSURES_INTERNAL } from '@/models/exposures'\nimport DateInput from '@/components/DateInput.vue'\nimport { EventTypeItem, eventTypes } from '@/models/event-types'\nimport moment, { Moment } from 'moment'\n\ninterface State {\n  form: any\n  createdPatient: Patient | null\n  SYMPTOMS: Option[]\n  PRE_ILLNESSES: Option[]\n  ADDITIONAL_PRE_ILLNESSES: Option[]\n  EXPOSURES_INTERNAL: Option[]\n  EXPOSURE_LOCATIONS: Option[]\n  EVENT_TYPES: EventTypeItem[]\n  showOtherSymptoms: boolean\n  showOtherPreIllnesses: boolean\n  disableExposureLocation: boolean\n  disableHospitalization: boolean\n  today: Moment\n}\n\nexport default Vue.extend({\n  components: {\n    PatientStammdaten,\n    DateInput,\n  },\n  name: 'RegisterPatient',\n  data(): State {\n    return {\n      form: this.$form.createForm(this, { name: 'coordinated' }),\n      createdPatient: null,\n      SYMPTOMS,\n      ADDITIONAL_PRE_ILLNESSES,\n      PRE_ILLNESSES,\n      EXPOSURES_INTERNAL,\n      EXPOSURE_LOCATIONS,\n      EVENT_TYPES: eventTypes,\n      disableExposureLocation: true,\n      showOtherSymptoms: false,\n      showOtherPreIllnesses: false,\n      disableHospitalization: true,\n      today: moment(),\n    }\n  },\n  methods: {\n    handleSubmit() {\n      this.form.validateFields(async (err: Error, values: any) => {\n        if (err) {\n          return\n        }\n        const request = {\n          ...values,\n          dateOfBirth: values.dateOfBirth.format('YYYY-MM-DD'),\n          riskAreas: [],\n        }\n\n        if (values.dateofIllness) {\n          request.dateOfIllness = values.dateOfIllness.format('YYYY-MM-DD')\n        } else {\n          request.dateOfIllness = moment().format('YYYY-MM-DD')\n        }\n\n        if (values.dateOfReporting) {\n          request.dateOfReporting = values.dateOfReporting.format('YYYY-MM-DD')\n        } else {\n          request.dateOfReporting = moment().format('YYYY-MM-DD')\n        }\n\n        if (!request.symptoms) {\n          request.symptoms = []\n        }\n        if (!request.preIllnesses) {\n          request.preIllnesses = []\n        }\n\n        if (request.dateOfDeath) {\n          request.dateOfDeath = request.dateOfDeath.format('YYYY-MM-DD')\n        }\n\n        if (!this.disableHospitalization) {\n          request.dateOfHospitalization = values.dateOfHospitalization.format(\n            'YYYY-MM-DD'\n          )\n          request.onIntensiveCareUnit = values.onIntensiveCareUnit\n        } else {\n          request.dateOfHospitalization = null\n          request.onIntensiveCareUnit = null\n        }\n\n        if (values.exposures) {\n          request.riskAreas = request.riskAreas.concat(values.exposures)\n        }\n        if (this.showOtherSymptoms) {\n          request.symptoms.push(values.symptomsOther)\n        }\n        if (this.showOtherPreIllnesses) {\n          request.preIllnesses.push(values.preIllnessesOther)\n        }\n        if (values.exposureLocation) {\n          request.riskAreas = request.riskAreas.concat(\n            values.exposureLocation.map(\n              (location: string) => 'CONTACT_WITH_CORONA_' + location\n            )\n          )\n        }\n\n        Api.addPatientUsingPost(request)\n          .then((patient: Patient) => {\n            this.form.resetFields()\n            this.createdPatient = patient as any\n            this.disableExposureLocation = true\n            this.disableHospitalization = true\n            this.showOtherSymptoms = false\n            this.form.setFieldsValue({\n              symptomsOther: undefined,\n              symptomsOtherActivated: undefined,\n              preIllnessesOther: undefined,\n              preIllnessesActivated: undefined,\n            })\n            const notification = {\n              message: 'Patient/in registriert.',\n              description: 'Patient/in wurde erfolgreich registriert.',\n            }\n            this.$notification.success(notification)\n            window.scrollTo(0, 0)\n          })\n          .catch((error: Error) => {\n            console.error(error)\n            const notification = {\n              message: 'Patient/in nicht registriert.',\n              description: 'Patient/in konnte nicht registriert werden.',\n            }\n            this.$notification.error(notification)\n          })\n      })\n    },\n    symptomsChanged(event: Event) {\n      const target = event.target as any\n      this.showOtherSymptoms = target.checked\n    },\n    preIllnessesChanged(event: Event) {\n      const target = event.target as any\n      this.showOtherPreIllnesses = target.checked\n    },\n    exposuresChanged(checkedValues: string[]) {\n      this.disableExposureLocation = !checkedValues.includes(\n        'CONTACT_WITH_CORONA_CASE'\n      )\n    },\n    hospitalizationChanged(event: Event) {\n      const target = event.target as any\n      this.disableHospitalization = !target.checked\n    },\n  },\n})\n</script>\n\n<style lang=\"scss\">\n.register-patient-container {\n  .no-double-colon-form-field {\n    .ant-form-item-label {\n      label::after {\n        display: none;\n      }\n    }\n  }\n\n  .ant-row.ant-form-item {\n    margin-bottom: 8px;\n  }\n\n  .ant-divider {\n    margin: 1rem 0;\n  }\n}\n</style>\n\n<style scoped lang=\"scss\">\n.wrapper {\n  text-align: left;\n  padding: 2%;\n  width: 100%;\n}\n</style>\n"]}]}