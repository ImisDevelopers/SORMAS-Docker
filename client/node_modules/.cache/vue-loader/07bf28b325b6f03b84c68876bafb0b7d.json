{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/PatientList.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/PatientList.vue","mtime":1586713315430},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSAnYW50LWRlc2lnbi12dWUvdHlwZXMvdGFibGUvY29sdW1uJwppbXBvcnQgVnVlIGZyb20gJ3Z1ZScKaW1wb3J0IHsgUGF0aWVudCwgUGF0aWVudFNlYXJjaFBhcmFtc0RUTyB9IGZyb20gJ0AvYXBpL1N3YWdnZXJBcGknCmltcG9ydCB7IGV2ZW50VHlwZXMgfSBmcm9tICdAL21vZGVscy9ldmVudC10eXBlcycKaW1wb3J0IHsgZG93bmxvYWRDc3YgfSBmcm9tICdAL3V0aWwvZXhwb3J0LXNlcnZpY2UnCmltcG9ydCBBcGkgZnJvbSAnQC9hcGknCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwoKY29uc3QgY29sdW1uc1NjaGVtYTogUGFydGlhbDxDb2x1bW4+W10gPSBbCiAgewogICAgdGl0bGU6ICcnLAogICAgZGF0YUluZGV4OiAnb3BlcmF0aW9uJywKICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgIGN1c3RvbVJlbmRlcjogWydvcGVyYXRpb24nXSwKICAgIH0sCiAgfSwKICB7CiAgICB0aXRsZTogJ05hY2huYW1lJywKICAgIC8vIHNvcnRlcjogKGEsIGIpID0+IGEubGFzdE5hbWUubG9jYWxlQ29tcGFyZShiLmxhc3ROYW1lKSwKICAgIGRhdGFJbmRleDogJ2xhc3ROYW1lJywKICAgIGtleTogJ2xhc3ROYW1lJywKICB9LAogIHsKICAgIHRpdGxlOiAnVm9ybmFtZScsCiAgICAvLyBzb3J0ZXI6IChhLCBiKSA9PiBhLmZpcnN0TmFtZS5sb2NhbGVDb21wYXJlKGIuZmlyc3ROYW1lKSwKICAgIGRhdGFJbmRleDogJ2ZpcnN0TmFtZScsCiAgICBrZXk6ICdmaXJzdE5hbWUnLAogIH0sCiAgewogICAgdGl0bGU6ICdHZXNjaGxlY2h0JywKICAgIGRhdGFJbmRleDogJ2dlbmRlcicsCiAgICBrZXk6ICdnZW5kZXInLAogIH0sCiAgewogICAgdGl0bGU6ICdTdGF0dXMnLAogICAgZGF0YUluZGV4OiAncGF0aWVudFN0YXR1cycsCiAgICBrZXk6ICdwYXRpZW50U3RhdHVzJywKICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgIGN1c3RvbVJlbmRlcjogJ3BhdGllbnRTdGF0dXMnLAogICAgfSwKICAgIHNvcnRlcjogdHJ1ZSwKICB9LAogIHsKICAgIHRpdGxlOiAnU3RhZHQnLAogICAgZGF0YUluZGV4OiAnY2l0eScsCiAgICBrZXk6ICdjaXR5JywKICB9LAogIHsKICAgIHRpdGxlOiAnRS1NYWlsJywKICAgIGRhdGFJbmRleDogJ2VtYWlsJywKICAgIGtleTogJ2VtYWlsJywKICB9LAogIHsKICAgIHRpdGxlOiAnSUQnLAogICAgZGF0YUluZGV4OiAnaWQnLAogICAga2V5OiAnaWQnLAogICAgZGVmYXVsdFNvcnRPcmRlcjogJ2FzY2VuZCcsCiAgfSwKXQoKaW50ZXJmYWNlIFNpbXBsZUZvcm0gewogIHF1ZXJ5OiBzdHJpbmc7CiAgb3JkZXI6IHN0cmluZzsKICBvcmRlckJ5OiBzdHJpbmc7CiAgb2Zmc2V0UGFnZTogbnVtYmVyOwogIHBhZ2VTaXplOiBudW1iZXI7Cn0KCmludGVyZmFjZSBTdGF0ZSB7CiAgZm9ybTogU2ltcGxlRm9ybTsKICBhZHZhbmNlZEZvcm06IFBhcnRpYWw8UGF0aWVudFNlYXJjaFBhcmFtc0RUTz47CgogIFtrZXk6IHN0cmluZ106IGFueTsKfQoKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1BhdGllbnRMaXN0JywKICBkYXRhKCk6IFN0YXRlIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBxdWVyeTogJycsCiAgICAgICAgb3JkZXI6ICdhc2MnLAogICAgICAgIG9yZGVyQnk6ICdsYXN0TmFtZScsCiAgICAgICAgb2Zmc2V0UGFnZTogMCwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIH0sCiAgICAgIGFkdmFuY2VkRm9ybTogewogICAgICAgIGdlbmRlcjogJycsCiAgICAgICAgY2l0eTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHBob25lTnVtYmVyOiAnJywKICAgICAgICBzdHJlZXQ6ICcnLAogICAgICAgIGhvdXNlTnVtYmVyOiAnJywKICAgICAgICB6aXA6ICcnLAogICAgICAgIGluc3VyYW5jZUNvbXBhbnk6ICcnLAogICAgICAgIGluc3VyYW5jZU1lbWJlcnNoaXBOdW1iZXI6ICcnLAogICAgICAgIGRvY3RvcklkOiAnJywKICAgICAgICBsYWJvcmF0b3J5SWQ6ICcnLAogICAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgICAgbGFzdE5hbWU6ICcnLAogICAgICAgIHBhdGllbnRTdGF0dXM6IHVuZGVmaW5lZCwKICAgICAgICBpZDogJycsCiAgICAgIH0sCiAgICAgIGNvbnRlbnQ6ICcnLAogICAgICBjb3VudDogMCwKICAgICAgY3VycmVudFBhZ2U6IDEsIC8vIFN0YXJ0cyBhdCAxCiAgICAgIGNvbHVtbnNTY2hlbWEsCiAgICAgIGRhdGE6IFtdLCAvLyBkYXRhCiAgICAgIHNob3dBZHZhbmNlZFNlYXJjaDogZmFsc2UsCiAgICAgIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsCiAgICAgIGFjdHVhbFBhdGllbnRzOiBbXSwKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBjdXJyZW50UGFnZSgpIHsKICAgICAgdGhpcy5sb2FkUGFnZSgpCiAgICB9LAogICAgJyRyb3V0ZS5xdWVyeS5xdWVyeScoKSB7CiAgICAgIHRoaXMubG9hZEFmdGVyVXJsQ2hhbmdlKCkKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkQWZ0ZXJVcmxDaGFuZ2UoKQogIH0sCiAgbWV0aG9kczogewogICAgbG9hZEFmdGVyVXJsQ2hhbmdlKCkgewogICAgICBjb25zdCBxdWVyeSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnF1ZXJ5CiAgICAgIGlmIChxdWVyeSkgewogICAgICAgIHRoaXMuZm9ybS5xdWVyeSA9IHF1ZXJ5LnRvU3RyaW5nKCkKICAgICAgfQogICAgICB0aGlzLmxvYWRQYWdlKCkKICAgIH0sCiAgICBoYW5kbGVTZWFyY2goKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxCiAgICAgIHRoaXMubG9hZFBhZ2UoKQogICAgfSwKICAgIG9uU2hvd1NpemVDaGFuZ2UoY3VycmVudDogbnVtYmVyLCBwYWdlU2l6ZTogbnVtYmVyKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBjdXJyZW50CiAgICAgIHRoaXMuYWR2YW5jZWRGb3JtLnBhZ2VTaXplID0gcGFnZVNpemUKICAgICAgdGhpcy5sb2FkUGFnZSgpCiAgICB9LAogICAgbG9hZFBhZ2UoKSB7CiAgICAgIHRoaXMuZm9ybS5vZmZzZXRQYWdlID0gdGhpcy5jdXJyZW50UGFnZSAtIDEKICAgICAgbGV0IGNvdW50UHJvbWlzZQogICAgICBsZXQgcXVlcnlQcm9taXNlCiAgICAgIGlmICh0aGlzLnNob3dBZHZhbmNlZFNlYXJjaCkgewogICAgICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7IC4uLnRoaXMuZm9ybSwgLi4udGhpcy5hZHZhbmNlZEZvcm0gfQoKICAgICAgICBpZiAoZm9ybVZhbHVlcy5wYXRpZW50U3RhdHVzKSB7CiAgICAgICAgICAvLyBCYWNrZW5kIGZhaWxzIG9uIGVtcHR5IHN0cmluZwogICAgICAgICAgZm9ybVZhbHVlcy5wYXRpZW50U3RhdHVzID0gdW5kZWZpbmVkCiAgICAgICAgfQoKICAgICAgICBjb3VudFByb21pc2UgPSBBcGkuYXBpLmNvdW50UXVlcnlQYXRpZW50c1VzaW5nUG9zdChmb3JtVmFsdWVzKQogICAgICAgIHF1ZXJ5UHJvbWlzZSA9IEFwaS5hcGkucXVlcnlQYXRpZW50c1VzaW5nUG9zdChmb3JtVmFsdWVzKQogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5mb3JtLnF1ZXJ5CiAgICAgICAgY291bnRQcm9taXNlID0gQXBpLmFwaS5jb3VudFF1ZXJ5UGF0aWVudHNTaW1wbGVVc2luZ0dldCh7IHF1ZXJ5IH0pCiAgICAgICAgcXVlcnlQcm9taXNlID0gQXBpLmFwaS5xdWVyeVBhdGllbnRzU2ltcGxlVXNpbmdQb3N0KHsgLi4udGhpcy5mb3JtIH0pCiAgICAgIH0KCiAgICAgIGNvdW50UHJvbWlzZS50aGVuKGNvdW50ID0+IHsKICAgICAgICB0aGlzLmNvdW50ID0gY291bnQKICAgICAgfSkKICAgICAgcXVlcnlQcm9taXNlLnRoZW4oKHJlc3VsdDogUGF0aWVudFtdKSA9PiB7CiAgICAgICAgdGhpcy5hY3R1YWxQYXRpZW50cyA9IHJlc3VsdAogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcikKICAgICAgICBjb25zdCBub3RpZmljYXRpb24gPSB7CiAgICAgICAgICBtZXNzYWdlOiAnRmVobGVyIGJlaW0gTGFkZW4gZGVyIFBhdGllbnRlbmRhdGVuLicsCiAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSwKICAgICAgICB9CiAgICAgICAgdGhpcy4kbm90aWZpY2F0aW9uLmVycm9yKG5vdGlmaWNhdGlvbikKICAgICAgfSkKICAgIH0sCiAgICB0b2dnbGVBZHZhbmNlZFNlYXJjaCgpIHsKICAgICAgdGhpcy5zaG93QWR2YW5jZWRTZWFyY2ggPSAhdGhpcy5zaG93QWR2YW5jZWRTZWFyY2gKICAgIH0sCiAgICBkb3dubG9hZFBhdGllbnRzKCkgewogICAgICB0aGlzLmZvcm0ub2Zmc2V0UGFnZSA9IHRoaXMuY3VycmVudFBhZ2UgLSAxCiAgICAgIGxldCBjb3VudFByb21pc2UKICAgICAgbGV0IGZvcm1WYWx1ZXM6IGFueQogICAgICBpZiAodGhpcy5zaG93QWR2YW5jZWRTZWFyY2gpIHsKICAgICAgICBmb3JtVmFsdWVzID0geyAuLi50aGlzLmZvcm0sIC4uLnRoaXMuYWR2YW5jZWRGb3JtIH0KICAgICAgICBpZiAoZm9ybVZhbHVlcy5wYXRpZW50U3RhdHVzKSB7CiAgICAgICAgICAvLyBCYWNrZW5kIGZhaWxzIG9uIGVtcHR5IHN0cmluZwogICAgICAgICAgZm9ybVZhbHVlcy5wYXRpZW50U3RhdHVzID0gdW5kZWZpbmVkCiAgICAgICAgfQogICAgICAgIGNvdW50UHJvbWlzZSA9IEFwaS5hcGkuY291bnRRdWVyeVBhdGllbnRzVXNpbmdQb3N0KGZvcm1WYWx1ZXMpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9ybVZhbHVlcyA9IHsgLi4udGhpcy5mb3JtIH0KICAgICAgICBjb25zdCBxdWVyeSA9IHRoaXMuZm9ybS5xdWVyeQogICAgICAgIGNvdW50UHJvbWlzZSA9IEFwaS5hcGkuY291bnRRdWVyeVBhdGllbnRzU2ltcGxlVXNpbmdHZXQoeyBxdWVyeSB9KQogICAgICB9CgogICAgICBjb3VudFByb21pc2UudGhlbihjb3VudCA9PiB7CiAgICAgICAgLy8gRG93bmxvYWQgYWxsIGRhdGEgdGhhdCBhcHBsaWVzIHRvIHRoZSBjdXJyZW50IGZpbHRlcgogICAgICAgIGZvcm1WYWx1ZXMub2Zmc2V0UGFnZSA9IDAKICAgICAgICBmb3JtVmFsdWVzLnBhZ2VTaXplID0gY291bnQKCiAgICAgICAgbGV0IHF1ZXJ5UHJvbWlzZTogUHJvbWlzZTxQYXRpZW50W10+CiAgICAgICAgaWYgKHRoaXMuc2hvd0FkdmFuY2VkU2VhcmNoKSB7CiAgICAgICAgICBxdWVyeVByb21pc2UgPSBBcGkuYXBpLnF1ZXJ5UGF0aWVudHNVc2luZ1Bvc3QoZm9ybVZhbHVlcykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcXVlcnlQcm9taXNlID0gQXBpLmFwaS5xdWVyeVBhdGllbnRzU2ltcGxlVXNpbmdQb3N0KGZvcm1WYWx1ZXMpCiAgICAgICAgfQoKICAgICAgICBxdWVyeVByb21pc2UudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgY29uc3QgaGVhZGVyID0gJ0lELFZvcm5hbWUsTmFjaG5hbWUsR2VzY2hsZWNodCxTdGF0dXMsR2VidXJ0c2RhdHVtLFN0YWR0LEUtTWFpbDtUZWxlZm9ubnVtbWVyOycgKwogICAgICAgICAgICAnU3RyYcOfZTtIYXVzbnVtbWVyO1N0YWR0O1ZlcnNpY2hlcnVuZztWZXJzaWNoZXJ0ZW5udW1tZXI7JwogICAgICAgICAgY29uc3QgcGF0aWVudHMgPSByZXN1bHQubWFwKChwYXRpZW50OiBQYXRpZW50KSA9PgogICAgICAgICAgICBgJHtwYXRpZW50LmlkfTske3BhdGllbnQuZmlyc3ROYW1lfTske3BhdGllbnQubGFzdE5hbWV9OyR7cGF0aWVudC5nZW5kZXJ9OyR7cGF0aWVudC5wYXRpZW50U3RhdHVzfTtgICsKICAgICAgICAgICAgYCR7cGF0aWVudC5kYXRlT2ZCaXJ0aH07JHtwYXRpZW50LmNpdHl9OyR7cGF0aWVudC5lbWFpbH07JHtwYXRpZW50LnBob25lTnVtYmVyfTske3BhdGllbnQuc3RyZWV0fTtgICsKICAgICAgICAgICAgYCR7cGF0aWVudC5ob3VzZU51bWJlcn07JHtwYXRpZW50LmNpdHl9OyR7cGF0aWVudC5pbnN1cmFuY2VDb21wYW55fTske3BhdGllbnQuaW5zdXJhbmNlTWVtYmVyc2hpcE51bWJlcn1gLAogICAgICAgICAgKS5qb2luKCdcbicpCiAgICAgICAgICBjb25zdCBmaWxlbmFtZSA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWV9NTV9ERCcpICsgJ19wYXRpZW50ZW5fZXhwb3J0LmNzdicKICAgICAgICAgIGRvd25sb2FkQ3N2KGhlYWRlciArICdcbicgKyBwYXRpZW50cywgZmlsZW5hbWUpCiAgICAgICAgfSkuY2F0Y2goKGVycm9yOiBFcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcikKICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IHsKICAgICAgICAgICAgbWVzc2FnZTogJ0ZlaGxlciBiZWltIExhZGVuIGRlciBQYXRpZW50ZW5kYXRlbi4nLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSwKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuJG5vdGlmaWNhdGlvbi5lcnJvcihub3RpZmljYXRpb24pCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVUYWJsZUNoYW5nZShwYWdpbmF0aW9uOiBhbnksIGZpbHRlcnM6IGFueSwgc29ydGVyOiBhbnkpIHsKICAgICAgY29uc3Qgc29ydEtleSA9IHNvcnRlci5maWVsZCA/IHNvcnRlci5maWVsZCA6ICdsYXN0TmFtZScKICAgICAgbGV0IHNvcnRPcmRlciA9ICdhc2MnCiAgICAgIGlmIChzb3J0ZXIub3JkZXIgPT09ICdkZXNjZW5kJykgewogICAgICAgIHNvcnRPcmRlciA9ICdkZXNjJwogICAgICB9CiAgICAgIHRoaXMuZm9ybS5vcmRlciA9IHNvcnRPcmRlcgogICAgICB0aGlzLmZvcm0ub3JkZXJCeSA9IHNvcnRLZXkKICAgICAgdGhpcy5sb2FkUGFnZSgpCiAgICB9LAogICAgaGFuZGxlUGF0aWVudENsaWNrKHBhdGllbnQ6IFBhdGllbnQpIHsKICAgICAgaWYgKHBhdGllbnQuaWQpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdwYXRpZW50LWRldGFpbCcsIHBhcmFtczogeyBpZDogcGF0aWVudC5pZCB9IH0pCiAgICAgIH0KICAgIH0sCiAgICBjdXN0b21Sb3cocmVjb3JkOiBQYXRpZW50KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgb246IHsKICAgICAgICAgIGRibGNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZVBhdGllbnRDbGljayhyZWNvcmQpLAogICAgICAgIH0sCiAgICAgIH0KICAgIH0sCiAgfSwKfSkKCg=="},{"version":3,"sources":["PatientList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PatientList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <a-card class=\"table-container\">\n      <!-- TODO refactor search in own component -->\n      <a-form class=\"search-container\" :model=\"form\">\n        <a-form-item style=\"width: 600px; max-width: 100%\">\n          <a-input v-model=\"form.query\"\n                   placeholder=\"Suche über ID, Name, Stadt, Email oder Telefon (z.B. 'Max Mustermann Berlin')\"\n                   :disabled=\"showAdvancedSearch\">\n            <a-icon slot=\"prefix\" type=\"search\" />\n          </a-input>\n        </a-form-item>\n        <a-button @click=\"toggleAdvancedSearch\">\n          <a-icon :type=\"showAdvancedSearch ? 'down' : 'right'\" />\n          Erweiterte Suche\n        </a-button>\n        <a-button icon=\"search\" type=\"primary\" html-type=\"submit\"\n                  @click=\"handleSearch\">\n          Suche\n        </a-button>\n      </a-form>\n      <a-form class=\"search-container\" :model=\"advancedForm\" v-if=\"showAdvancedSearch\">\n        <a-form-item label=\"Vorname\">\n          <a-input v-model=\"advancedForm.firstName\" placeholder=\"Vorname\">\n            <a-icon slot=\"prefix\" type=\"user\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Nachname\">\n          <a-input v-model=\"advancedForm.lastName\" placeholder=\"Nachname\">\n            <a-icon slot=\"prefix\" type=\"user\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Status\">\n          <a-select style=\"width: 250px\" placeholder=\"Status\" v-model=\"advancedForm.patientStatus\">\n            <a-select-option value=\"\">Alle</a-select-option>\n            <a-select-option v-for=\"eventType in eventTypes\" :key=\"eventType.id\">\n              <a-icon :type=\"eventType.icon\" style=\"margin-right: 5px\" />\n              {{eventType.label}}\n            </a-select-option>\n          </a-select>\n        </a-form-item>\n        <a-form-item label=\"ID\">\n          <a-input v-model=\"advancedForm.id\" placeholder=\"ID\">\n            <a-icon slot=\"prefix\" type=\"hdd\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Geschlecht\">\n          <a-select v-model=\"advancedForm.gender\" style=\"width: 120px\" placeholder=\"Geschlecht\">\n            <a-select-option value=\"\">Alle</a-select-option>\n            <a-select-option value=\"weiblich\">\n              <a-icon type=\"woman\" style=\"margin-right: 5px\" />\n              Weiblich\n            </a-select-option>\n            <a-select-option value=\"männlich\">\n              <a-icon type=\"man\" style=\"margin-right: 5px\" />\n              Männlich\n            </a-select-option>\n            <a-select-option value=\"sonstiges\">Sonstiges</a-select-option>\n          </a-select>\n        </a-form-item>\n        <a-form-item label=\"Stadt\">\n          <a-input v-model=\"advancedForm.city\" placeholder=\"Stadt\">\n            <a-icon slot=\"prefix\" type=\"home\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"E-Mail\">\n          <a-input v-model=\"advancedForm.email\" placeholder=\"E-Mail\">\n            <a-icon slot=\"prefix\" type=\"mail\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Telefonnummer\">\n          <a-input v-model=\"advancedForm.phoneNumber\" placeholder=\"Telefonnummer\">\n            <a-icon slot=\"prefix\" type=\"phone\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Straße\">\n          <a-input v-model=\"advancedForm.street\" placeholder=\"Straße\">\n            <a-icon slot=\"prefix\" type=\"home\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Hausnummer\" style=\"width: 100px\">\n          <a-input v-model=\"advancedForm.houseNumber\" placeholder=\"Hausnr.\">\n            <a-icon slot=\"prefix\" type=\"home\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Postleitzahl\" style=\"width: 100px\">\n          <a-input v-model=\"advancedForm.zip\" placeholder=\"PLZ\">\n            <a-icon slot=\"prefix\" type=\"home\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Versicherung\">\n          <a-input v-model=\"advancedForm.insuranceCompany\" placeholder=\"Versicherung\">\n            <a-icon slot=\"prefix\" type=\"hdd\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Versicherungsnummer\">\n          <a-input v-model=\"advancedForm.insuranceMembershipNumber\" placeholder=\"Versicherungsnummer\">\n            <a-icon slot=\"prefix\" type=\"idcard\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Arzt-ID\">\n          <a-input v-model=\"advancedForm.doctorId\" placeholder=\"Arzt-ID\">\n            <a-icon slot=\"prefix\" type=\"hdd\" />\n          </a-input>\n        </a-form-item>\n        <a-form-item label=\"Labor-ID\">\n          <a-input v-model=\"advancedForm.laboratoryId\" placeholder=\"Labor-ID\">\n            <a-icon slot=\"prefix\" type=\"hdd\" />\n          </a-input>\n        </a-form-item>\n        <!-- Invisible Button so user can use enter to search -->\n        <a-button style=\"visibility: hidden\" html-type=\"submit\"\n                  @click=\"handleSearch\" />\n      </a-form>\n      <a-table\n        class=\"imis-table-no-pagination\"\n        :columns=\"columnsSchema\"\n        :dataSource=\"actualPatients\"\n        :scroll=\"{x: 0, y: 0}\"\n        :pagination=\"{ pageSize: 500 }\"\n        rowKey=\"id\"\n        :customRow=\"customRow\"\n        @change=\"handleTableChange\"\n      >\n        <div slot=\"patientStatus\" slot-scope=\"patientStatus\">\n          <a-icon :type=\"eventTypes.find(type => type.id === patientStatus).icon\" style=\"margin-right: 5px\" />\n          {{eventTypes.find(type => type.id === patientStatus).label}}\n        </div>\n        <div slot=\"operation\" slot-scope=\"nothing, patient\" style=\"cursor: pointer\">\n          <a-icon type=\"search\" style=\"margin-right: 5px; cursor: pointer\" @click=\"() => handlePatientClick(patient)\" />\n        </div>\n      </a-table>\n      <div style=\"display: flex; width: 100%; margin: 15px 0; justify-content: flex-end; align-items: center\">\n        <a-button type=\"primary\" style=\"margin-right: 50px\" @click=\"downloadPatients\">CSV exportieren</a-button>\n        <span style=\"margin-right: 10px\">{{count}} Patienten</span>\n        <a-pagination\n          showSizeChanger\n          :pageSize.sync=\"form.pageSize\"\n          @showSizeChange=\"onShowSizeChange\"\n          :total=\"count\"\n          v-model=\"currentPage\"\n        />\n      </div>\n    </a-card>\n  </div>\n</template>\n\n<!--// TestStationen Ordnen ProbeIds und durchzuführrende Tests den Patienten zu-->\n\n<script lang=\"ts\">\nimport { Column } from 'ant-design-vue/types/table/column'\nimport Vue from 'vue'\nimport { Patient, PatientSearchParamsDTO } from '@/api/SwaggerApi'\nimport { eventTypes } from '@/models/event-types'\nimport { downloadCsv } from '@/util/export-service'\nimport Api from '@/api'\nimport moment from 'moment'\n\nconst columnsSchema: Partial<Column>[] = [\n  {\n    title: '',\n    dataIndex: 'operation',\n    scopedSlots: {\n      customRender: ['operation'],\n    },\n  },\n  {\n    title: 'Nachname',\n    // sorter: (a, b) => a.lastName.localeCompare(b.lastName),\n    dataIndex: 'lastName',\n    key: 'lastName',\n  },\n  {\n    title: 'Vorname',\n    // sorter: (a, b) => a.firstName.localeCompare(b.firstName),\n    dataIndex: 'firstName',\n    key: 'firstName',\n  },\n  {\n    title: 'Geschlecht',\n    dataIndex: 'gender',\n    key: 'gender',\n  },\n  {\n    title: 'Status',\n    dataIndex: 'patientStatus',\n    key: 'patientStatus',\n    scopedSlots: {\n      customRender: 'patientStatus',\n    },\n    sorter: true,\n  },\n  {\n    title: 'Stadt',\n    dataIndex: 'city',\n    key: 'city',\n  },\n  {\n    title: 'E-Mail',\n    dataIndex: 'email',\n    key: 'email',\n  },\n  {\n    title: 'ID',\n    dataIndex: 'id',\n    key: 'id',\n    defaultSortOrder: 'ascend',\n  },\n]\n\ninterface SimpleForm {\n  query: string;\n  order: string;\n  orderBy: string;\n  offsetPage: number;\n  pageSize: number;\n}\n\ninterface State {\n  form: SimpleForm;\n  advancedForm: Partial<PatientSearchParamsDTO>;\n\n  [key: string]: any;\n}\n\nexport default Vue.extend({\n  name: 'PatientList',\n  data(): State {\n    return {\n      form: {\n        query: '',\n        order: 'asc',\n        orderBy: 'lastName',\n        offsetPage: 0,\n        pageSize: 10,\n      },\n      advancedForm: {\n        gender: '',\n        city: '',\n        email: '',\n        phoneNumber: '',\n        street: '',\n        houseNumber: '',\n        zip: '',\n        insuranceCompany: '',\n        insuranceMembershipNumber: '',\n        doctorId: '',\n        laboratoryId: '',\n        firstName: '',\n        lastName: '',\n        patientStatus: undefined,\n        id: '',\n      },\n      content: '',\n      count: 0,\n      currentPage: 1, // Starts at 1\n      columnsSchema,\n      data: [], // data\n      showAdvancedSearch: false,\n      eventTypes: eventTypes,\n      actualPatients: [],\n    }\n  },\n  watch: {\n    currentPage() {\n      this.loadPage()\n    },\n    '$route.query.query'() {\n      this.loadAfterUrlChange()\n    },\n  },\n  created() {\n    this.loadAfterUrlChange()\n  },\n  methods: {\n    loadAfterUrlChange() {\n      const query = this.$route.query.query\n      if (query) {\n        this.form.query = query.toString()\n      }\n      this.loadPage()\n    },\n    handleSearch() {\n      this.currentPage = 1\n      this.loadPage()\n    },\n    onShowSizeChange(current: number, pageSize: number) {\n      this.currentPage = current\n      this.advancedForm.pageSize = pageSize\n      this.loadPage()\n    },\n    loadPage() {\n      this.form.offsetPage = this.currentPage - 1\n      let countPromise\n      let queryPromise\n      if (this.showAdvancedSearch) {\n        const formValues = { ...this.form, ...this.advancedForm }\n\n        if (formValues.patientStatus) {\n          // Backend fails on empty string\n          formValues.patientStatus = undefined\n        }\n\n        countPromise = Api.api.countQueryPatientsUsingPost(formValues)\n        queryPromise = Api.api.queryPatientsUsingPost(formValues)\n      } else {\n        const query = this.form.query\n        countPromise = Api.api.countQueryPatientsSimpleUsingGet({ query })\n        queryPromise = Api.api.queryPatientsSimpleUsingPost({ ...this.form })\n      }\n\n      countPromise.then(count => {\n        this.count = count\n      })\n      queryPromise.then((result: Patient[]) => {\n        this.actualPatients = result\n      }).catch(error => {\n        console.error(error)\n        const notification = {\n          message: 'Fehler beim Laden der Patientendaten.',\n          description: error.message,\n        }\n        this.$notification.error(notification)\n      })\n    },\n    toggleAdvancedSearch() {\n      this.showAdvancedSearch = !this.showAdvancedSearch\n    },\n    downloadPatients() {\n      this.form.offsetPage = this.currentPage - 1\n      let countPromise\n      let formValues: any\n      if (this.showAdvancedSearch) {\n        formValues = { ...this.form, ...this.advancedForm }\n        if (formValues.patientStatus) {\n          // Backend fails on empty string\n          formValues.patientStatus = undefined\n        }\n        countPromise = Api.api.countQueryPatientsUsingPost(formValues)\n      } else {\n        formValues = { ...this.form }\n        const query = this.form.query\n        countPromise = Api.api.countQueryPatientsSimpleUsingGet({ query })\n      }\n\n      countPromise.then(count => {\n        // Download all data that applies to the current filter\n        formValues.offsetPage = 0\n        formValues.pageSize = count\n\n        let queryPromise: Promise<Patient[]>\n        if (this.showAdvancedSearch) {\n          queryPromise = Api.api.queryPatientsUsingPost(formValues)\n        } else {\n          queryPromise = Api.api.queryPatientsSimpleUsingPost(formValues)\n        }\n\n        queryPromise.then(result => {\n          const header = 'ID,Vorname,Nachname,Geschlecht,Status,Geburtsdatum,Stadt,E-Mail;Telefonnummer;' +\n            'Straße;Hausnummer;Stadt;Versicherung;Versichertennummer;'\n          const patients = result.map((patient: Patient) =>\n            `${patient.id};${patient.firstName};${patient.lastName};${patient.gender};${patient.patientStatus};` +\n            `${patient.dateOfBirth};${patient.city};${patient.email};${patient.phoneNumber};${patient.street};` +\n            `${patient.houseNumber};${patient.city};${patient.insuranceCompany};${patient.insuranceMembershipNumber}`,\n          ).join('\\n')\n          const filename = moment().format('YYYY_MM_DD') + '_patienten_export.csv'\n          downloadCsv(header + '\\n' + patients, filename)\n        }).catch((error: Error) => {\n          console.error(error)\n          const notification = {\n            message: 'Fehler beim Laden der Patientendaten.',\n            description: error.message,\n          }\n          this.$notification.error(notification)\n        })\n      })\n    },\n    handleTableChange(pagination: any, filters: any, sorter: any) {\n      const sortKey = sorter.field ? sorter.field : 'lastName'\n      let sortOrder = 'asc'\n      if (sorter.order === 'descend') {\n        sortOrder = 'desc'\n      }\n      this.form.order = sortOrder\n      this.form.orderBy = sortKey\n      this.loadPage()\n    },\n    handlePatientClick(patient: Patient) {\n      if (patient.id) {\n        this.$router.push({ name: 'patient-detail', params: { id: patient.id } })\n      }\n    },\n    customRow(record: Patient) {\n      return {\n        on: {\n          dblclick: () => this.handlePatientClick(record),\n        },\n      }\n    },\n  },\n})\n\n</script>\n\n<style lang=\"scss\">\n  .imis-table-no-pagination {\n    .ant-table-pagination {\n      display: none;\n    }\n  }\n</style>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n  h3 {\n    margin: 20px 10px;\n  }\n\n  .table-container {\n    width: 100%;\n  }\n\n  .search-container {\n    display: flex;\n    flex-wrap: wrap;\n    margin-bottom: 15px;\n    align-items: flex-end;\n  }\n\n  .search-container > * {\n    margin: 0 10px;\n    max-width: 250px;\n  }\n\n  .search-container > button {\n    margin-bottom: 5px;\n    margin-top: 5px;\n  }\n</style>\n"]}]}