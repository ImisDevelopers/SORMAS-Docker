{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js??ref--14-3!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/components/PatientStammdaten.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/components/PatientStammdaten.vue","mtime":1586713315430},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgUklTS19PQ0NVUEFUSU9OUyB9IGZyb20gJ0AvbW9kZWxzL3Jpc2stb2NjdXBhdGlvbic7CmltcG9ydCBEYXRlSW5wdXQgZnJvbSAnQC9jb21wb25lbnRzL0RhdGVJbnB1dC52dWUnOwppbXBvcnQgUGx6SW5wdXQgZnJvbSAnQC9jb21wb25lbnRzL1BseklucHV0LnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICdQYXRpZW50U3RhbW1kYXRlbicsCiAgcHJvcHM6IFsnZm9ybScsICdzaG93U3RheScsICdzaG93RGVhdGgnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGx6czogW10sCiAgICAgIGRpc2FibGVPY2N1cGF0aW9uOiB0cnVlLAogICAgICByaXNrT2NjdXBhdGlvbnM6IFJJU0tfT0NDVVBBVElPTlMsCiAgICAgIHNob3dEYXRlT2ZEZWF0aDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBEYXRlSW5wdXQ6IERhdGVJbnB1dCwKICAgIFBseklucHV0OiBQbHpJbnB1dAogIH0sCiAgbWV0aG9kczogewogICAgc2V0U3RheVBMWjogZnVuY3Rpb24gc2V0U3RheVBMWihwbHopIHsKICAgICAgdGhpcy5mb3JtLnNldEZpZWxkc1ZhbHVlKHsKICAgICAgICBzdGF5WmlwOiBwbHouZmllbGRzLnBseiwKICAgICAgICBzdGF5Q2l0eTogcGx6LmZpZWxkcy5ub3RlCiAgICAgIH0pOwogICAgICB2YXIgbmV4dElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nvb3JkaW5hdGVkX2VtYWlsJyk7CgogICAgICBpZiAoIW5leHRJbnB1dCkgewogICAgICAgIG5leHRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbCcpOwogICAgICB9CgogICAgICBpZiAobmV4dElucHV0KSB7CiAgICAgICAgbmV4dElucHV0LmZvY3VzKCk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRQTFo6IGZ1bmN0aW9uIHNldFBMWihwbHopIHsKICAgICAgdGhpcy5mb3JtLnNldEZpZWxkc1ZhbHVlKHsKICAgICAgICB6aXA6IHBsei5maWVsZHMucGx6LAogICAgICAgIGNpdHk6IHBsei5maWVsZHMubm90ZQogICAgICB9KTsKICAgICAgdmFyIG5leHRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb29yZGluYXRlZF9lbWFpbCcpOwoKICAgICAgaWYgKCFuZXh0SW5wdXQpIHsKICAgICAgICBuZXh0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwnKTsKICAgICAgfQoKICAgICAgaWYgKG5leHRJbnB1dCkgewogICAgICAgIG5leHRJbnB1dC5mb2N1cygpOwogICAgICB9CiAgICB9LAogICAgcmlza09jY3VwYXRpb25TZWxlY3RlZDogZnVuY3Rpb24gcmlza09jY3VwYXRpb25TZWxlY3RlZCh2YWx1ZSkgewogICAgICB0aGlzLmRpc2FibGVPY2N1cGF0aW9uID0gdmFsdWUgIT09ICdOT19SSVNLX09DQ1VQQVRJT04nOwogICAgICB2YXIgb2NjdXBhdGlvbjsKCiAgICAgIGlmICh0aGlzLmRpc2FibGVPY2N1cGF0aW9uKSB7CiAgICAgICAgdmFyIF90aGlzJHJpc2tPY2N1cGF0aW9uczsKCiAgICAgICAgb2NjdXBhdGlvbiA9ICgoX3RoaXMkcmlza09jY3VwYXRpb25zID0gdGhpcy5yaXNrT2NjdXBhdGlvbnMuZmluZChmdW5jdGlvbiAocmlza09jY3VwYXRpb24pIHsKICAgICAgICAgIHJldHVybiByaXNrT2NjdXBhdGlvbi52YWx1ZSA9PT0gdmFsdWU7CiAgICAgICAgfSkpID09PSBudWxsIHx8IF90aGlzJHJpc2tPY2N1cGF0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcmlza09jY3VwYXRpb25zLmxhYmVsKSB8fCAnJzsKICAgICAgfQoKICAgICAgdGhpcy5mb3JtLnNldEZpZWxkc1ZhbHVlKHsKICAgICAgICBvY2N1cGF0aW9uOiBvY2N1cGF0aW9uCiAgICAgIH0pOwogICAgfSwKICAgIGdlbmRlclNlbGVjdGVkOiBmdW5jdGlvbiBnZW5kZXJTZWxlY3RlZChldmVudCkgewogICAgICB2YXIgZ2VuZGVyID0gZXZlbnQudGFyZ2V0LnZhbHVlOwogICAgICB0aGlzLiRlbWl0KCdnZW5kZXInLCBnZW5kZXIpOwogICAgfSwKICAgIGRpZWRDaGFuZ2VkOiBmdW5jdGlvbiBkaWVkQ2hhbmdlZChldmVudCkgewogICAgICB0aGlzLnNob3dEYXRlT2ZEZWF0aCA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/components/PatientStammdaten.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";AA8OA,OAAO,GAAP,MAAgB,KAAhB;AAGA,SAAS,gBAAT,QAAuD,0BAAvD;AACA,OAAO,SAAP,MAAsB,4BAAtB;AACA,OAAO,QAAP,MAAqB,2BAArB;AAgBA,eAAe,GAAG,CAAC,MAAJ,CAAW;AACxB,EAAA,IAAI,EAAE,mBADkB;AAExB,EAAA,KAAK,EAAE,CAAC,MAAD,EAAS,UAAT,EAAqB,WAArB,CAFiB;AAGxB,EAAA,IAHwB,kBAGpB;AACF,WAAO;AACL,MAAA,IAAI,EAAE,EADD;AAEL,MAAA,iBAAiB,EAAE,IAFd;AAGL,MAAA,eAAe,EAAE,gBAHZ;AAIL,MAAA,eAAe,EAAE;AAJZ,KAAP;AAMD,GAVuB;AAWxB,EAAA,UAAU,EAAE;AACV,IAAA,SAAS,EAAT,SADU;AAEV,IAAA,QAAQ,EAAR;AAFU,GAXY;AAexB,EAAA,OAAO,EAAE;AACP,IAAA,UADO,sBACI,GADJ,EACY;AACjB,WAAK,IAAL,CAAU,cAAV,CAAyB;AACvB,QAAA,OAAO,EAAE,GAAG,CAAC,MAAJ,CAAW,GADG;AAEvB,QAAA,QAAQ,EAAE,GAAG,CAAC,MAAJ,CAAW;AAFE,OAAzB;AAIA,UAAI,SAAS,GAAG,QAAQ,CAAC,cAAT,CAAwB,mBAAxB,CAAhB;;AACA,UAAI,CAAC,SAAL,EAAgB;AACd,QAAA,SAAS,GAAG,QAAQ,CAAC,cAAT,CAAwB,OAAxB,CAAZ;AACD;;AACD,UAAI,SAAJ,EAAe;AACb,QAAA,SAAS,CAAC,KAAV;AACD;AACF,KAbM;AAcP,IAAA,MAdO,kBAcA,GAdA,EAcQ;AACb,WAAK,IAAL,CAAU,cAAV,CAAyB;AACvB,QAAA,GAAG,EAAE,GAAG,CAAC,MAAJ,CAAW,GADO;AAEvB,QAAA,IAAI,EAAE,GAAG,CAAC,MAAJ,CAAW;AAFM,OAAzB;AAIA,UAAI,SAAS,GAAG,QAAQ,CAAC,cAAT,CAAwB,mBAAxB,CAAhB;;AACA,UAAI,CAAC,SAAL,EAAgB;AACd,QAAA,SAAS,GAAG,QAAQ,CAAC,cAAT,CAAwB,OAAxB,CAAZ;AACD;;AACD,UAAI,SAAJ,EAAe;AACb,QAAA,SAAS,CAAC,KAAV;AACD;AACF,KA1BM;AA2BP,IAAA,sBA3BO,kCA2BgB,KA3BhB,EA2BqC;AAC1C,WAAK,iBAAL,GAAyB,KAAK,KAAK,oBAAnC;AACA,UAAI,UAAJ;;AACA,UAAI,KAAK,iBAAT,EAA4B;AAAA;;AAC1B,QAAA,UAAU,GAAG,+BAAK,eAAL,CAAqB,IAArB,CAA0B,UAAA,cAAc;AAAA,iBAAI,cAAc,CAAC,KAAf,KAAyB,KAA7B;AAAA,SAAxC,iFAA6E,KAA7E,KAAsF,EAAnG;AACD;;AACD,WAAK,IAAL,CAAU,cAAV,CAAyB;AACvB,QAAA,UAAU,EAAE;AADW,OAAzB;AAGD,KApCM;AAqCP,IAAA,cArCO,0BAqCQ,KArCR,EAqCoB;AACzB,UAAM,MAAM,GAAI,KAAK,CAAC,MAAN,CAAqB,KAArC;AACA,WAAK,KAAL,CAAW,QAAX,EAAqB,MAArB;AACD,KAxCM;AAyCP,IAAA,WAzCO,uBAyCK,KAzCL,EAyCiB;AACtB,WAAK,eAAL,GAAwB,KAAK,CAAC,MAAN,CAAqB,KAA7C;AACD;AA3CM;AAfe,CAAX,CAAf","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport { Plz } from '@/util/plz-service'\nimport { RiskOccupation } from '@/models'\nimport { RISK_OCCUPATIONS, RiskOccupationOption } from '@/models/risk-occupation'\nimport DateInput from '@/components/DateInput.vue'\nimport PlzInput from '@/components/PlzInput.vue'\n\n/**\n * Autocomplete for Patients\n *\n * props:\n * - validation: put in v-decorator object\n */\n\nexport interface State {\n  plzs: Plz[];\n  disableOccupation: boolean;\n  riskOccupations: RiskOccupationOption[];\n  showDateOfDeath: boolean;\n}\n\nexport default Vue.extend({\n  name: 'PatientStammdaten',\n  props: ['form', 'showStay', 'showDeath'],\n  data(): State {\n    return {\n      plzs: [],\n      disableOccupation: true,\n      riskOccupations: RISK_OCCUPATIONS,\n      showDateOfDeath: false,\n    }\n  },\n  components: {\n    DateInput,\n    PlzInput,\n  },\n  methods: {\n    setStayPLZ(plz: Plz) {\n      this.form.setFieldsValue({\n        stayZip: plz.fields.plz,\n        stayCity: plz.fields.note,\n      })\n      let nextInput = document.getElementById('coordinated_email')\n      if (!nextInput) {\n        nextInput = document.getElementById('email')\n      }\n      if (nextInput) {\n        nextInput.focus()\n      }\n    },\n    setPLZ(plz: Plz) {\n      this.form.setFieldsValue({\n        zip: plz.fields.plz,\n        city: plz.fields.note,\n      })\n      let nextInput = document.getElementById('coordinated_email')\n      if (!nextInput) {\n        nextInput = document.getElementById('email')\n      }\n      if (nextInput) {\n        nextInput.focus()\n      }\n    },\n    riskOccupationSelected(value: RiskOccupation) {\n      this.disableOccupation = value !== 'NO_RISK_OCCUPATION'\n      let occupation\n      if (this.disableOccupation) {\n        occupation = this.riskOccupations.find(riskOccupation => riskOccupation.value === value)?.label || ''\n      }\n      this.form.setFieldsValue({\n        occupation: occupation,\n      })\n    },\n    genderSelected(event: Event) {\n      const gender = (event.target as any).value\n      this.$emit('gender', gender)\n    },\n    diedChanged(event: Event) {\n      this.showDateOfDeath = (event.target as any).value\n    },\n  },\n})\n"],"sourceRoot":""}]}