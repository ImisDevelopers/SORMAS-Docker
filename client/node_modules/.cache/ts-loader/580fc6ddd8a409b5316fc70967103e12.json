{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js??ref--14-3!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/components/PatientStammdaten.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/components/PatientStammdaten.vue","mtime":1589906836721},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgUklTS19PQ0NVUEFUSU9OUyB9IGZyb20gJ0AvbW9kZWxzL3Jpc2stb2NjdXBhdGlvbic7CmltcG9ydCBEYXRlSW5wdXQgZnJvbSAnQC9jb21wb25lbnRzL0RhdGVJbnB1dC52dWUnOwppbXBvcnQgTG9jYXRpb25Gb3JtR3JvdXAgZnJvbSAnQC9jb21wb25lbnRzL0xvY2F0aW9uRm9ybUdyb3VwLnZ1ZSc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1BhdGllbnRTdGFtbWRhdGVuJywKICBwcm9wczogWydmb3JtJywgJ3Nob3dTdGF5JywgJ3Nob3dEZWF0aCcsICdwYXRpZW50J10sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLnBhdGllbnQpIHsKICAgICAgdGhpcy5wYXRpZW50SW5wdXQgPSB0aGlzLnBhdGllbnQ7CiAgICAgIHRoaXMuaW5pdGlhbERhdGVPZkJpcnRoID0gbW9tZW50KHRoaXMucGF0aWVudElucHV0LmRhdGVPZkJpcnRoKTsKCiAgICAgIGlmICh0aGlzLnBhdGllbnRJbnB1dC5kYXRlT2ZEZWF0aCkgewogICAgICAgIHRoaXMuaW5pdGlhbERhdGVPZkJpcnRoID0gbW9tZW50KHRoaXMucGF0aWVudElucHV0LmRhdGVPZkRlYXRoKTsKICAgICAgfQoKICAgICAgdGhpcy5pbml0aWFsUmlza09jY3VwYXRpb24gPSB0aGlzLnBhdGllbnRJbnB1dC5yaXNrT2NjdXBhdGlvbiB8fCAnTk9fUklTS19PQ0NVUEFUSU9OJzsKICAgICAgdGhpcy5kaXNhYmxlT2NjdXBhdGlvbiA9IGZhbHNlOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpc2FibGVPY2N1cGF0aW9uOiB0cnVlLAogICAgICByaXNrT2NjdXBhdGlvbnM6IFJJU0tfT0NDVVBBVElPTlMsCiAgICAgIHNob3dEYXRlT2ZEZWF0aDogZmFsc2UsCiAgICAgIHBhdGllbnRJbnB1dDoge30sCiAgICAgIGluaXRpYWxEYXRlT2ZCaXJ0aDogdW5kZWZpbmVkLAogICAgICBpbml0aWFsRGF0ZU9mRGVhdGg6IHVuZGVmaW5lZCwKICAgICAgaW5pdGlhbFJpc2tPY2N1cGF0aW9uOiB1bmRlZmluZWQKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBEYXRlSW5wdXQ6IERhdGVJbnB1dCwKICAgIExvY2F0aW9uRm9ybUdyb3VwOiBMb2NhdGlvbkZvcm1Hcm91cAogIH0sCiAgbWV0aG9kczogewogICAgcmlza09jY3VwYXRpb25TZWxlY3RlZDogZnVuY3Rpb24gcmlza09jY3VwYXRpb25TZWxlY3RlZCh2YWx1ZSkgewogICAgICB0aGlzLmRpc2FibGVPY2N1cGF0aW9uID0gdmFsdWUgIT09ICdOT19SSVNLX09DQ1VQQVRJT04nOwogICAgICB2YXIgb2NjdXBhdGlvbjsKCiAgICAgIGlmICh0aGlzLmRpc2FibGVPY2N1cGF0aW9uKSB7CiAgICAgICAgdmFyIF90aGlzJHJpc2tPY2N1cGF0aW9uczsKCiAgICAgICAgb2NjdXBhdGlvbiA9ICgoX3RoaXMkcmlza09jY3VwYXRpb25zID0gdGhpcy5yaXNrT2NjdXBhdGlvbnMuZmluZChmdW5jdGlvbiAocmlza09jY3VwYXRpb24pIHsKICAgICAgICAgIHJldHVybiByaXNrT2NjdXBhdGlvbi52YWx1ZSA9PT0gdmFsdWU7CiAgICAgICAgfSkpID09PSBudWxsIHx8IF90aGlzJHJpc2tPY2N1cGF0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcmlza09jY3VwYXRpb25zLmxhYmVsKSB8fCAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgb2NjdXBhdGlvbklucHV0ID0gdGhpcy4kcmVmcy5vY2N1cGF0aW9uLiRlbDsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIG9jY3VwYXRpb25JbnB1dC5mb2N1cygpOwogICAgICAgIH0sIDApOwogICAgICB9CgogICAgICB0aGlzLmZvcm0uc2V0RmllbGRzVmFsdWUoewogICAgICAgIG9jY3VwYXRpb246IG9jY3VwYXRpb24KICAgICAgfSk7CiAgICB9LAogICAgZ2VuZGVyU2VsZWN0ZWQ6IGZ1bmN0aW9uIGdlbmRlclNlbGVjdGVkKGV2ZW50KSB7CiAgICAgIHZhciBnZW5kZXIgPSBldmVudC50YXJnZXQudmFsdWU7CiAgICAgIHRoaXMuJGVtaXQoJ2dlbmRlcicsIGdlbmRlcik7CiAgICB9LAogICAgZGllZENoYW5nZWQ6IGZ1bmN0aW9uIGRpZWRDaGFuZ2VkKGV2ZW50KSB7CiAgICAgIHRoaXMuc2hvd0RhdGVPZkRlYXRoID0gZXZlbnQudGFyZ2V0LnZhbHVlOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/components/PatientStammdaten.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";AA8SA,OAAO,GAAP,MAAgB,KAAhB;AAEA,SACE,gBADF,QAGO,0BAHP;AAIA,OAAO,SAAP,MAAsB,4BAAtB;AACA,OAAO,iBAAP,MAA8B,oCAA9B;AAGA,OAAO,MAAP,MAA+B,QAA/B;AAmBA,eAAe,GAAG,CAAC,MAAJ,CAAW;AACxB,EAAA,IAAI,EAAE,mBADkB;AAExB,EAAA,KAAK,EAAE,CAAC,MAAD,EAAS,UAAT,EAAqB,WAArB,EAAkC,SAAlC,CAFiB;AAGxB,EAAA,OAHwB,qBAGjB;AACL,QAAI,KAAK,OAAT,EAAkB;AAChB,WAAK,YAAL,GAAoB,KAAK,OAAzB;AACA,WAAK,kBAAL,GAA0B,MAAM,CAAC,KAAK,YAAL,CAAkB,WAAnB,CAAhC;;AACA,UAAI,KAAK,YAAL,CAAkB,WAAtB,EAAmC;AACjC,aAAK,kBAAL,GAA0B,MAAM,CAAC,KAAK,YAAL,CAAkB,WAAnB,CAAhC;AACD;;AACD,WAAK,qBAAL,GACE,KAAK,YAAL,CAAkB,cAAlB,IAAoC,oBADtC;AAEA,WAAK,iBAAL,GAAyB,KAAzB;AACD;AACF,GAduB;AAexB,EAAA,IAfwB,kBAepB;AACF,WAAO;AACL,MAAA,iBAAiB,EAAE,IADd;AAEL,MAAA,eAAe,EAAE,gBAFZ;AAGL,MAAA,eAAe,EAAE,KAHZ;AAIL,MAAA,YAAY,EAAE,EAJT;AAKL,MAAA,kBAAkB,EAAE,SALf;AAML,MAAA,kBAAkB,EAAE,SANf;AAOL,MAAA,qBAAqB,EAAE;AAPlB,KAAP;AASD,GAzBuB;AA0BxB,EAAA,UAAU,EAAE;AACV,IAAA,SAAS,EAAT,SADU;AAEV,IAAA,iBAAiB,EAAjB;AAFU,GA1BY;AA8BxB,EAAA,OAAO,EAAE;AACP,IAAA,sBADO,kCACgB,KADhB,EACqC;AAC1C,WAAK,iBAAL,GAAyB,KAAK,KAAK,oBAAnC;AACA,UAAI,UAAJ;;AACA,UAAI,KAAK,iBAAT,EAA4B;AAAA;;AAC1B,QAAA,UAAU,GACR,+BAAK,eAAL,CAAqB,IAArB,CACE,UAAC,cAAD;AAAA,iBAAoB,cAAc,CAAC,KAAf,KAAyB,KAA7C;AAAA,SADF,iFAEG,KAFH,KAEY,EAHd;AAID,OALD,MAKO;AACL,YAAM,eAAe,GAAI,KAAK,KAAL,CAAW,UAAX,CACtB,GADH;AAEA,QAAA,UAAU,CAAC,YAAK;AACd,UAAA,eAAe,CAAC,KAAhB;AACD,SAFS,EAEP,CAFO,CAAV;AAGD;;AACD,WAAK,IAAL,CAAU,cAAV,CAAyB;AACvB,QAAA,UAAU,EAAE;AADW,OAAzB;AAGD,KAnBM;AAoBP,IAAA,cApBO,0BAoBQ,KApBR,EAoBoB;AACzB,UAAM,MAAM,GAAI,KAAK,CAAC,MAAN,CAAqB,KAArC;AACA,WAAK,KAAL,CAAW,QAAX,EAAqB,MAArB;AACD,KAvBM;AAwBP,IAAA,WAxBO,uBAwBK,KAxBL,EAwBiB;AACtB,WAAK,eAAL,GAAwB,KAAK,CAAC,MAAN,CAAqB,KAA7C;AACD;AA1BM;AA9Be,CAAX,CAAf","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport { RiskOccupation } from '@/models'\nimport {\n  RISK_OCCUPATIONS,\n  RiskOccupationOption,\n} from '@/models/risk-occupation'\nimport DateInput from '@/components/DateInput.vue'\nimport LocationFormGroup from '@/components/LocationFormGroup.vue'\nimport PlzInput from '@/components/PlzInput.vue'\nimport { Patient } from '@/api/SwaggerApi'\nimport moment, { Moment } from 'moment'\n\n/**\n * Autocomplete for Patients\n *\n * props:\n * - validation: put in v-decorator object\n */\n\nexport interface State {\n  disableOccupation: boolean\n  riskOccupations: RiskOccupationOption[]\n  showDateOfDeath: boolean\n  patientInput: Patient\n  initialDateOfBirth: Moment | undefined\n  initialDateOfDeath: Moment | undefined\n  initialRiskOccupation: string | undefined\n}\n\nexport default Vue.extend({\n  name: 'PatientStammdaten',\n  props: ['form', 'showStay', 'showDeath', 'patient'],\n  created() {\n    if (this.patient) {\n      this.patientInput = this.patient\n      this.initialDateOfBirth = moment(this.patientInput.dateOfBirth)\n      if (this.patientInput.dateOfDeath) {\n        this.initialDateOfBirth = moment(this.patientInput.dateOfDeath)\n      }\n      this.initialRiskOccupation =\n        this.patientInput.riskOccupation || 'NO_RISK_OCCUPATION'\n      this.disableOccupation = false\n    }\n  },\n  data(): State {\n    return {\n      disableOccupation: true,\n      riskOccupations: RISK_OCCUPATIONS,\n      showDateOfDeath: false,\n      patientInput: {},\n      initialDateOfBirth: undefined,\n      initialDateOfDeath: undefined,\n      initialRiskOccupation: undefined,\n    }\n  },\n  components: {\n    DateInput,\n    LocationFormGroup,\n  },\n  methods: {\n    riskOccupationSelected(value: RiskOccupation) {\n      this.disableOccupation = value !== 'NO_RISK_OCCUPATION'\n      let occupation\n      if (this.disableOccupation) {\n        occupation =\n          this.riskOccupations.find(\n            (riskOccupation) => riskOccupation.value === value\n          )?.label || ''\n      } else {\n        const occupationInput = (this.$refs.occupation as Vue)\n          .$el as HTMLElement\n        setTimeout(() => {\n          occupationInput.focus()\n        }, 0)\n      }\n      this.form.setFieldsValue({\n        occupation: occupation,\n      })\n    },\n    genderSelected(event: Event) {\n      const gender = (event.target as any).value\n      this.$emit('gender', gender)\n    },\n    diedChanged(event: Event) {\n      this.showDateOfDeath = (event.target as any).value\n    },\n  },\n})\n"],"sourceRoot":""}]}