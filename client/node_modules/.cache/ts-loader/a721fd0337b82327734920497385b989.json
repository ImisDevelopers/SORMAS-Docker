{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js??ref--14-3!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/components/ChangeInstitutionForm.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/components/ChangeInstitutionForm.vue","mtime":1589906836717},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvY2lyb3R6a2kvcHJvamVjdHMvdmlydXMvMV8wMTFfYV9pbmZla3Rpb25zZmFsbF91ZWJlcm1pdHRlbGx1bmcvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBhdXRoTWFwcGVyIH0gZnJvbSAnQC9zdG9yZS9tb2R1bGVzL2F1dGgubW9kdWxlJzsKaW1wb3J0IFBseklucHV0IGZyb20gJ0AvY29tcG9uZW50cy9QbHpJbnB1dC52dWUnOwpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBuYW1lOiAnQWNjb3VudCcsCiAgcHJvcHM6IFsndmlzaWJsZScsICdpbnN0aXR1dGlvbiddLAogIGNvbXBvbmVudHM6IHsKICAgIFBseklucHV0OiBQbHpJbnB1dAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHRoaXMuJGZvcm0uY3JlYXRlRm9ybSh0aGlzLCB7CiAgICAgICAgbmFtZTogJ2luc3RpdHV0aW9uJwogICAgICB9KQogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIGF1dGhNYXBwZXIubWFwQWN0aW9ucyh7CiAgICB1cGRhdGVJbnN0aXR1dGlvbjogJ3VwZGF0ZUluc3RpdHV0aW9uJwogIH0pLCB7CiAgICBzZXRQTFo6IGZ1bmN0aW9uIHNldFBMWihwbHopIHsKICAgICAgdGhpcy5mb3JtLnNldEZpZWxkc1ZhbHVlKHsKICAgICAgICB6aXA6IHBsei5maWVsZHMucGx6LAogICAgICAgIGNpdHk6IHBsei5maWVsZHMubm90ZQogICAgICB9KTsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5mb3JtLnZhbGlkYXRlRmllbGRzKGZ1bmN0aW9uIChlcnIsIHZhbHVlcykgewogICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMudXBkYXRlSW5zdGl0dXRpb24oX29iamVjdFNwcmVhZCh7fSwgdmFsdWVzLCB7CiAgICAgICAgICBpbnN0aXR1dGlvblR5cGU6IF90aGlzLmluc3RpdHV0aW9uLmluc3RpdHV0aW9uVHlwZSwKICAgICAgICAgIGlkOiBfdGhpcy5pbnN0aXR1dGlvbi5pZAogICAgICAgIH0pKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLiRub3RpZmljYXRpb24uc3VjY2Vzcyh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnN0aXR1dGlvbiBlcmZvbGdyZWljaCBnZcOkbmRlcnQnLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogJycKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzLmZvcm0ucmVzZXRGaWVsZHMoKTsKCiAgICAgICAgICBfdGhpcy4kZW1pdCgnY3JlYXRlJyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBfdGhpcy4kbm90aWZpY2F0aW9uLmVycm9yKHsKICAgICAgICAgICAgbWVzc2FnZTogJ0luc3RpdHV0aW9uIGtvbm50ZSBuaWNodCBnZcOkbmRlcnQgd2VyZGVuLicsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSkKfSk7"},{"version":3,"sources":["/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/components/ChangeInstitutionForm.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";AA0HA,OAAO,GAAP,MAAgB,KAAhB;AACA,SAAS,UAAT,QAA2B,6BAA3B;AAEA,OAAO,QAAP,MAAqB,2BAArB;AAEA,eAAe,GAAG,CAAC,MAAJ,CAAW;AACxB,EAAA,IAAI,EAAE,SADkB;AAExB,EAAA,KAAK,EAAE,CAAC,SAAD,EAAY,aAAZ,CAFiB;AAGxB,EAAA,UAAU,EAAE;AACV,IAAA,QAAQ,EAAR;AADU,GAHY;AAMxB,EAAA,IANwB,kBAMpB;AACF,WAAO;AACL,MAAA,IAAI,EAAE,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,EAA4B;AAAE,QAAA,IAAI,EAAE;AAAR,OAA5B;AADD,KAAP;AAGD,GAVuB;AAWxB,EAAA,OAAO,oBACF,UAAU,CAAC,UAAX,CAAsB;AACvB,IAAA,iBAAiB,EAAE;AADI,GAAtB,CADE;AAIL,IAAA,MAJK,kBAIE,GAJF,EAIU;AACb,WAAK,IAAL,CAAU,cAAV,CAAyB;AACvB,QAAA,GAAG,EAAE,GAAG,CAAC,MAAJ,CAAW,GADO;AAEvB,QAAA,IAAI,EAAE,GAAG,CAAC,MAAJ,CAAW;AAFM,OAAzB;AAID,KATI;AAUL,IAAA,IAVK,kBAUD;AAAA;;AACF,WAAK,IAAL,CAAU,cAAV,CAAyB,UAAC,GAAD,EAAW,MAAX,EAA0B;AACjD,YAAI,GAAJ,EAAS;AACP,UAAA,OAAO,CAAC,IAAR,CAAa,GAAb;AACA;AACD;;AACD,QAAA,KAAI,CAAC,iBAAL,mBACK,MADL;AAEE,UAAA,eAAe,EAAE,KAAI,CAAC,WAAL,CAAiB,eAFpC;AAGE,UAAA,EAAE,EAAE,KAAI,CAAC,WAAL,CAAiB;AAHvB,YAKG,IALH,CAKQ,YAAK;AACT,UAAA,KAAI,CAAC,aAAL,CAAmB,OAAnB,CAA2B;AACzB,YAAA,OAAO,EAAE,kCADgB;AAEzB,YAAA,WAAW,EAAE;AAFY,WAA3B;;AAIA,UAAA,KAAI,CAAC,IAAL,CAAU,WAAV;;AACA,UAAA,KAAI,CAAC,KAAL,CAAW,QAAX;AACD,SAZH,EAaG,KAbH,CAaS,UAAC,KAAD,EAAiB;AACtB,UAAA,KAAI,CAAC,aAAL,CAAmB,KAAnB,CAAyB;AACvB,YAAA,OAAO,EAAE,2CADc;AAEvB,YAAA,WAAW,EAAE,KAAK,CAAC;AAFI,WAAzB;AAID,SAlBH;AAmBD,OAxBD;AAyBD;AApCI;AAXiB,CAAX,CAAf","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport { authMapper } from '@/store/modules/auth.module'\nimport { Plz } from '@/util/plz-service'\nimport PlzInput from '@/components/PlzInput.vue'\n\nexport default Vue.extend({\n  name: 'Account',\n  props: ['visible', 'institution'],\n  components: {\n    PlzInput,\n  },\n  data() {\n    return {\n      form: this.$form.createForm(this, { name: 'institution' }),\n    }\n  },\n  methods: {\n    ...authMapper.mapActions({\n      updateInstitution: 'updateInstitution',\n    }),\n    setPLZ(plz: Plz) {\n      this.form.setFieldsValue({\n        zip: plz.fields.plz,\n        city: plz.fields.note,\n      })\n    },\n    save() {\n      this.form.validateFields((err: any, values: any) => {\n        if (err) {\n          console.warn(err)\n          return\n        }\n        this.updateInstitution({\n          ...values,\n          institutionType: this.institution.institutionType,\n          id: this.institution.id,\n        })\n          .then(() => {\n            this.$notification.success({\n              message: 'Institution erfolgreich geändert',\n              description: '',\n            })\n            this.form.resetFields()\n            this.$emit('create')\n          })\n          .catch((error: Error) => {\n            this.$notification.error({\n              message: 'Institution konnte nicht geändert werden.',\n              description: error.message,\n            })\n          })\n      })\n    },\n  },\n})\n"],"sourceRoot":""}]}