{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js??ref--14-3!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/RegisterTest.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/RegisterTest.vue","mtime":1589906836724},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2Npcm90emtpL3Byb2plY3RzL3ZpcnVzLzFfMDExX2FfaW5mZWt0aW9uc2ZhbGxfdWViZXJtaXR0ZWxsdW5nL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IERhdGVJbnB1dCBmcm9tICcuLi9jb21wb25lbnRzL0RhdGVJbnB1dC52dWUnOwppbXBvcnQgQXBpIGZyb20gJ0AvYXBpJzsKaW1wb3J0IFBhdGllbnRJbnB1dCBmcm9tICcuLi9jb21wb25lbnRzL1BhdGllbnRJbnB1dC52dWUnOwppbXBvcnQgTGFib3JhdG9yeUlucHV0IGZyb20gJy4uL2NvbXBvbmVudHMvTGFib3JhdG9yeUlucHV0LnZ1ZSc7CmltcG9ydCB7IHRlc3RUeXBlcyB9IGZyb20gJ0AvbW9kZWxzL3Rlc3QtdHlwZXMnOwppbXBvcnQgeyB0ZXN0UmVzdWx0cyB9IGZyb20gJ0AvbW9kZWxzL2V2ZW50LXR5cGVzJzsKaW1wb3J0IHsgdGVzdE1hdGVyaWFscyB9IGZyb20gJ0AvbW9kZWxzL3Rlc3QtbWF0ZXJpYWxzJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBuYW1lOiAnUmVnaXN0ZXJUZXN0JywKICBjb21wb25lbnRzOiB7CiAgICBQYXRpZW50SW5wdXQ6IFBhdGllbnRJbnB1dCwKICAgIExhYm9yYXRvcnlJbnB1dDogTGFib3JhdG9yeUlucHV0LAogICAgRGF0ZUlucHV0OiBEYXRlSW5wdXQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB0aGlzLiRmb3JtLmNyZWF0ZUZvcm0odGhpcyksCiAgICAgIHRlc3RUeXBlczogdGVzdFR5cGVzLAogICAgICB0ZXN0TWF0ZXJpYWxzOiB0ZXN0TWF0ZXJpYWxzLAogICAgICB0b2RheTogbW9tZW50KCkKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZm9ybS52YWxpZGF0ZUZpZWxkcyhmdW5jdGlvbiAoZXJyLCB2YWx1ZXMpIHsKICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgcmVxdWVzdCA9IF9vYmplY3RTcHJlYWQoe30sIHZhbHVlcyk7CgogICAgICAgIEFwaS5jcmVhdGVUZXN0Rm9yUGF0aWVudFVzaW5nUG9zdChyZXF1ZXN0KS50aGVuKGZ1bmN0aW9uIChsYWJUZXN0KSB7CiAgICAgICAgICB2YXIgX3Rlc3RSZXN1bHRzJGZpbmQ7CgogICAgICAgICAgdmFyIGNyZWF0ZWRMYWJUZXN0ID0gbGFiVGVzdDsKICAgICAgICAgIHZhciBjcmVhdGVkTGFiVGVzdFN0YXR1cyA9ICgoX3Rlc3RSZXN1bHRzJGZpbmQgPSB0ZXN0UmVzdWx0cy5maW5kKGZ1bmN0aW9uICh0ZXN0UmVzdWx0KSB7CiAgICAgICAgICAgIHJldHVybiB0ZXN0UmVzdWx0LmlkID09PSBsYWJUZXN0LnRlc3RTdGF0dXM7CiAgICAgICAgICB9KSkgPT09IG51bGwgfHwgX3Rlc3RSZXN1bHRzJGZpbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90ZXN0UmVzdWx0cyRmaW5kLmxhYmVsKSB8fCAnJzsKCiAgICAgICAgICBfdGhpcy5mb3JtLnJlc2V0RmllbGRzKCk7CgogICAgICAgICAgdmFyIGggPSBfdGhpcy4kY3JlYXRlRWxlbWVudDsKCiAgICAgICAgICBfdGhpcy4kc3VjY2Vzcyh7CiAgICAgICAgICAgIHRpdGxlOiAnRGVyIFRlc3Qgd3VyZGUgZXJmb2xncmVpY2ggYW5nZWxlZ3QuJywKICAgICAgICAgICAgY29udGVudDogaCgnZGl2Jywge30sIFtoKCdkaXYnLCAiVGVzdCBJRDogIi5jb25jYXQoY3JlYXRlZExhYlRlc3QudGVzdElkKSksIGgoJ2RpdicsICJUZXN0IFN0YXR1czogIi5jb25jYXQoY3JlYXRlZExhYlRlc3RTdGF0dXMpKV0pCiAgICAgICAgICB9KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICB2YXIgbm90aWZpY2F0aW9uID0gewogICAgICAgICAgICBtZXNzYWdlOiAnRmVobGVyIGJlaW0gQW5sZWdlbiBkZXMgVGVzdHMuJywKICAgICAgICAgICAgZGVzY3JpcHRpb246IGVyci5tZXNzYWdlCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzLiRub3RpZmljYXRpb24uZXJyb3Iobm90aWZpY2F0aW9uKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/RegisterTest.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;AAsJA,OAAO,GAAP,MAAgB,KAAhB;AACA,OAAO,SAAP,MAAsB,6BAAtB;AACA,OAAO,GAAP,MAAgB,OAAhB;AACA,OAAO,YAAP,MAAyB,gCAAzB;AACA,OAAO,eAAP,MAA4B,mCAA5B;AACA,SAAuB,SAAvB,QAAwC,qBAAxC;AACA,SAAS,WAAT,QAA4B,sBAA5B;AACA,SAA2B,aAA3B,QAAgD,yBAAhD;AACA,OAAO,MAAP,MAAmB,QAAnB;AASA,eAAe,GAAG,CAAC,MAAJ,CAAW;AACxB,EAAA,IAAI,EAAE,cADkB;AAExB,EAAA,UAAU,EAAE;AACV,IAAA,YAAY,EAAZ,YADU;AAEV,IAAA,eAAe,EAAf,eAFU;AAGV,IAAA,SAAS,EAAT;AAHU,GAFY;AAOxB,EAAA,IAPwB,kBAOpB;AACF,WAAO;AACL,MAAA,IAAI,EAAE,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,CADD;AAEL,MAAA,SAAS,EAAE,SAFN;AAGL,MAAA,aAAa,EAAE,aAHV;AAIL,MAAA,KAAK,EAAE,MAAM;AAJR,KAAP;AAMD,GAduB;AAexB,EAAA,OAAO,EAAE;AACP,IAAA,YADO,0BACK;AAAA;;AACV,WAAK,IAAL,CAAU,cAAV,CAAyB,UAAC,GAAD,EAAa,MAAb,EAAyC;AAChE,YAAI,GAAJ,EAAS;AACP;AACD;;AACD,YAAM,OAAO,qBACR,MADQ,CAAb;;AAIA,QAAA,GAAG,CAAC,6BAAJ,CAAkC,OAAlC,EACG,IADH,CACQ,UAAC,OAAD,EAAY;AAAA;;AAChB,cAAM,cAAc,GAAG,OAAvB;AACA,cAAM,oBAAoB,GACxB,sBAAA,WAAW,CAAC,IAAZ,CACE,UAAC,UAAD;AAAA,mBAAgB,UAAU,CAAC,EAAX,KAAkB,OAAO,CAAC,UAA1C;AAAA,WADF,yEAEG,KAFH,KAEY,EAHd;;AAIA,UAAA,KAAI,CAAC,IAAL,CAAU,WAAV;;AACA,cAAM,CAAC,GAAG,KAAI,CAAC,cAAf;;AACA,UAAA,KAAI,CAAC,QAAL,CAAc;AACZ,YAAA,KAAK,EAAE,sCADK;AAEZ,YAAA,OAAO,EAAE,CAAC,CAAC,KAAD,EAAQ,EAAR,EAAY,CACpB,CAAC,CAAC,KAAD,qBAAoB,cAAc,CAAC,MAAnC,EADmB,EAEpB,CAAC,CAAC,KAAD,yBAAwB,oBAAxB,EAFmB,CAAZ;AAFE,WAAd;AAOD,SAhBH,EAiBG,KAjBH,CAiBS,UAAC,GAAD,EAAQ;AACb,cAAM,YAAY,GAAG;AACnB,YAAA,OAAO,EAAE,gCADU;AAEnB,YAAA,WAAW,EAAE,GAAG,CAAC;AAFE,WAArB;;AAIA,UAAA,KAAI,CAAC,aAAL,CAAmB,KAAnB,CAAyB,YAAzB;AACD,SAvBH;AAwBD,OAhCD;AAiCD;AAnCM;AAfe,CAAX,CAAf","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { CreateLabTestDTO } from '@/api/SwaggerApi'\nimport Vue from 'vue'\nimport DateInput from '../components/DateInput.vue'\nimport Api from '@/api'\nimport PatientInput from '../components/PatientInput.vue'\nimport LaboratoryInput from '../components/LaboratoryInput.vue'\nimport { TestTypeItem, testTypes } from '@/models/test-types'\nimport { testResults } from '@/models/event-types'\nimport { TestMaterialItem, testMaterials } from '@/models/test-materials'\nimport moment from 'moment'\n\ninterface State {\n  form: any\n  testTypes: TestTypeItem[]\n  testMaterials: TestMaterialItem[]\n  today: moment.Moment\n}\n\nexport default Vue.extend({\n  name: 'RegisterTest',\n  components: {\n    PatientInput,\n    LaboratoryInput,\n    DateInput,\n  },\n  data(): State {\n    return {\n      form: this.$form.createForm(this),\n      testTypes: testTypes,\n      testMaterials: testMaterials,\n      today: moment(),\n    }\n  },\n  methods: {\n    handleSubmit() {\n      this.form.validateFields((err: Error, values: CreateLabTestDTO) => {\n        if (err) {\n          return\n        }\n        const request = {\n          ...values,\n        }\n\n        Api.createTestForPatientUsingPost(request)\n          .then((labTest) => {\n            const createdLabTest = labTest\n            const createdLabTestStatus =\n              testResults.find(\n                (testResult) => testResult.id === labTest.testStatus\n              )?.label || ''\n            this.form.resetFields()\n            const h = this.$createElement\n            this.$success({\n              title: 'Der Test wurde erfolgreich angelegt.',\n              content: h('div', {}, [\n                h('div', `Test ID: ${createdLabTest.testId}`),\n                h('div', `Test Status: ${createdLabTestStatus}`),\n              ]),\n            })\n          })\n          .catch((err) => {\n            const notification = {\n              message: 'Fehler beim Anlegen des Tests.',\n              description: err.message,\n            }\n            this.$notification.error(notification)\n          })\n      })\n    },\n  },\n})\n"],"sourceRoot":""}]}