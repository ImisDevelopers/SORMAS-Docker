{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js??ref--14-3!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/RegisterInstitution.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/RegisterInstitution.vue","mtime":1586713315433},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvY2lyb3R6a2kvcHJvamVjdHMvdmlydXMvMV8wMTFfYV9pbmZla3Rpb25zZmFsbF91ZWJlcm1pdHRlbGx1bmcvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgQXBpIGZyb20gJ0AvYXBpJzsKCmZ1bmN0aW9uIHZhbGlkYXRlUGFzc3dvcmRSZXBlYXQocGFzc3dvcmQsIHBhc3N3b3JkUmVwZWF0KSB7CiAgaWYgKHBhc3N3b3JkID09PSBwYXNzd29yZFJlcGVhdCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsaWRhdGVTdGF0dXM6ICdzdWNjZXNzJywKICAgICAgZXJyb3JNc2c6IG51bGwKICAgIH07CiAgfQoKICByZXR1cm4gewogICAgdmFsaWRhdGVTdGF0dXM6ICdlcnJvcicsCiAgICBlcnJvck1zZzogJ1Bhc3N3w7ZydGVyIHN0aW1tZW4gbmljaHQgw7xiZXJlaW4nCiAgfTsKfQoKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1JlZ2lzdGVySW5zdGl0dXRpb25QYWdlJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMsIHsKICAgICAgICBuYW1lOiAnY29vcmRpbmF0ZWQnCiAgICAgIH0pLAogICAgICBjcmVhdGVkSW5zdGl0dXRpb246IG51bGwsCiAgICAgIGRhdGFQcm9jZXNzaW5nQ2xhc3M6ICcnLAogICAgICBjaGVja2VkOiBmYWxzZSwKICAgICAgcGFzc3dvcmRSZXBlYXQ6IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25DaGVjazogZnVuY3Rpb24gb25DaGVjayhlKSB7CiAgICAgIHRoaXMuY2hlY2tlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7CiAgICB9LAogICAgLy8gRm9yIEV4cGxhbmF0aW9uIG9mIGR5bmFtaWMgZm9ybSB2YWxpZGF0aW9uCiAgICAvLyBzZWUgaHR0cHM6Ly93d3cuYW50ZHYuY29tL2NvbXBvbmVudHMvZm9ybS8jY29tcG9uZW50cy1mb3JtLWRlbW8taGFuZGxlLWZvcm0tZGF0YS1tYW51YWxseQogICAgaGFuZGxlUGFzc3dvcmRSZXBlYXRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVBhc3N3b3JkUmVwZWF0Q2hhbmdlKGV2ZW50KSB7CiAgICAgIHRoaXMucGFzc3dvcmRSZXBlYXQgPSB2YWxpZGF0ZVBhc3N3b3JkUmVwZWF0KHRoaXMuZm9ybS5nZXRGaWVsZFZhbHVlKCdwYXNzd29yZCcpLCBldmVudC50YXJnZXQudmFsdWUpOwogICAgfSwKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5mb3JtLnZhbGlkYXRlRmllbGRzKGZ1bmN0aW9uIChlcnIsIHZhbHVlcykgewogICAgICAgIGlmICghX3RoaXMuY2hlY2tlZCkgewogICAgICAgICAgX3RoaXMuZGF0YVByb2Nlc3NpbmdDbGFzcyA9ICdkYXRhLXByb2Nlc3Npbmctbm90LXNlbGVjdGVkJzsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgKGVycikgewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFsdWVzID0gX29iamVjdFNwcmVhZCh7fSwgdmFsdWVzLCB7CiAgICAgICAgICB1c2VyOiB7CiAgICAgICAgICAgIHVzZXJuYW1lOiB2YWx1ZXMudXNlcm5hbWUsCiAgICAgICAgICAgIHBhc3N3b3JkOiB2YWx1ZXMucGFzc3dvcmQsCiAgICAgICAgICAgIHVzZXJSb2xlOiAnVVNFUl9ST0xFX0FETUlOJwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIEFwaS5hcGkucmVnaXN0ZXJJbnN0aXR1dGlvblVzaW5nUG9zdCh2YWx1ZXMpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuZm9ybS5yZXNldEZpZWxkcygpOwoKICAgICAgICAgIHZhciBub3RpZmljYXRpb24gPSB7CiAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnN0aXR1dGlvbiByZWdpc3RyaWVydC4nLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RpZSBJbnN0aXR1dGlvbiB3dXJkZSBlcmZvbGdyZWljaCByZWdpc3RyaWVydC4nCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzLiRub3RpZmljYXRpb24uc3VjY2Vzcyhub3RpZmljYXRpb24pOwoKICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnYXV0aE1vZHVsZS9sb2dpbicsIHsKICAgICAgICAgICAgdXNlcm5hbWU6IHZhbHVlcy51c2VybmFtZSwKICAgICAgICAgICAgcGFzc3dvcmQ6IHZhbHVlcy5wYXNzd29yZAogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgdmFyIG5vdGlmaWNhdGlvbiA9IHsKICAgICAgICAgICAgbWVzc2FnZTogJ0ZlaGxlciBiZWltIFJlZ2lzdHJpZXJlbiBkZXIgSW5zdGl0dXRpb24uJywKICAgICAgICAgICAgZGVzY3JpcHRpb246IGVyci5tZXNzYWdlCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzLiRub3RpZmljYXRpb24uZXJyb3Iobm90aWZpY2F0aW9uKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/RegisterInstitution.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";AAqJA,OAAO,GAAP,MAAgB,KAAhB;AACA,OAAO,GAAP,MAAgB,OAAhB;;AAEA,SAAS,sBAAT,CAAgC,QAAhC,EAAkD,cAAlD,EAAwE;AACtE,MAAI,QAAQ,KAAK,cAAjB,EAAiC;AAC/B,WAAO;AACL,MAAA,cAAc,EAAE,SADX;AAEL,MAAA,QAAQ,EAAE;AAFL,KAAP;AAID;;AACD,SAAO;AACL,IAAA,cAAc,EAAE,OADX;AAEL,IAAA,QAAQ,EAAE;AAFL,GAAP;AAID;;AAED,eAAe,GAAG,CAAC,MAAJ,CAAW;AACxB,EAAA,IAAI,EAAE,yBADkB;AAExB,EAAA,IAFwB,kBAEpB;AACF,WAAO;AACL,MAAA,IAAI,EAAE,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,EAA4B;AAAE,QAAA,IAAI,EAAE;AAAR,OAA5B,CADD;AAEL,MAAA,kBAAkB,EAAE,IAFf;AAGL,MAAA,mBAAmB,EAAE,EAHhB;AAIL,MAAA,OAAO,EAAE,KAJJ;AAKL,MAAA,cAAc,EAAE;AALX,KAAP;AAOD,GAVuB;AAWxB,EAAA,OAAO,EAAE;AACP,IAAA,OADO,mBACC,CADD,EACO;AACZ,WAAK,OAAL,GAAe,CAAC,CAAC,MAAF,CAAS,OAAxB;AACD,KAHM;AAIP;AACA;AACA,IAAA,0BANO,sCAMoB,KANpB,EAM8B;AACnC,WAAK,cAAL,GAAsB,sBAAsB,CAAC,KAAK,IAAL,CAAU,aAAV,CAAwB,UAAxB,CAAD,EAAsC,KAAK,CAAC,MAAN,CAAa,KAAnD,CAA5C;AACD,KARM;AASP,IAAA,YATO,0BASK;AAAA;;AACV,WAAK,IAAL,CAAU,cAAV,CAAyB,UAAC,GAAD,EAAW,MAAX,EAA0B;AACjD,YAAI,CAAC,KAAI,CAAC,OAAV,EAAmB;AACjB,UAAA,KAAI,CAAC,mBAAL,GAA2B,8BAA3B;AACA;AACD,SAHD,MAGO,IAAI,GAAJ,EAAS;AACd,UAAA,OAAO,CAAC,KAAR,CAAc,GAAd;AACA;AACD;;AAED,QAAA,MAAM,qBACD,MADC;AAEJ,UAAA,IAAI,EAAE;AACJ,YAAA,QAAQ,EAAE,MAAM,CAAC,QADb;AAEJ,YAAA,QAAQ,EAAE,MAAM,CAAC,QAFb;AAGJ,YAAA,QAAQ,EAAE;AAHN;AAFF,UAAN;AAQA,QAAA,GAAG,CAAC,GAAJ,CAAQ,4BAAR,CAAqC,MAArC,EAA6C,IAA7C,CAAkD,YAAK;AACrD,UAAA,KAAI,CAAC,IAAL,CAAU,WAAV;;AACA,cAAM,YAAY,GAAG;AACnB,YAAA,OAAO,EAAE,0BADU;AAEnB,YAAA,WAAW,EAAE;AAFM,WAArB;;AAIA,UAAA,KAAI,CAAC,aAAL,CAAmB,OAAnB,CAA2B,YAA3B;;AACA,UAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,kBAArB,EAAyC;AACvC,YAAA,QAAQ,EAAE,MAAM,CAAC,QADsB;AAEvC,YAAA,QAAQ,EAAE,MAAM,CAAC;AAFsB,WAAzC;AAID,SAXD,EAWG,KAXH,CAWS,UAAA,GAAG,EAAG;AACb,cAAM,YAAY,GAAG;AACnB,YAAA,OAAO,EAAE,2CADU;AAEnB,YAAA,WAAW,EAAE,GAAG,CAAC;AAFE,WAArB;;AAIA,UAAA,KAAI,CAAC,aAAL,CAAmB,KAAnB,CAAyB,YAAzB;AACD,SAjBD;AAkBD,OAnCD;AAoCD;AA9CM;AAXe,CAAX,CAAf","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport Api from '@/api'\n\nfunction validatePasswordRepeat(password: string, passwordRepeat: string) {\n  if (password === passwordRepeat) {\n    return {\n      validateStatus: 'success',\n      errorMsg: null,\n    }\n  }\n  return {\n    validateStatus: 'error',\n    errorMsg: 'Passwörter stimmen nicht überein',\n  }\n}\n\nexport default Vue.extend({\n  name: 'RegisterInstitutionPage',\n  data() {\n    return {\n      form: this.$form.createForm(this, { name: 'coordinated' }),\n      createdInstitution: null,\n      dataProcessingClass: '',\n      checked: false,\n      passwordRepeat: {},\n    }\n  },\n  methods: {\n    onCheck(e: any) {\n      this.checked = e.target.checked\n    },\n    // For Explanation of dynamic form validation\n    // see https://www.antdv.com/components/form/#components-form-demo-handle-form-data-manually\n    handlePasswordRepeatChange(event: any) {\n      this.passwordRepeat = validatePasswordRepeat(this.form.getFieldValue('password'), event.target.value)\n    },\n    handleSubmit() {\n      this.form.validateFields((err: any, values: any) => {\n        if (!this.checked) {\n          this.dataProcessingClass = 'data-processing-not-selected'\n          return\n        } else if (err) {\n          console.error(err)\n          return\n        }\n\n        values = {\n          ...values,\n          user: {\n            username: values.username,\n            password: values.password,\n            userRole: 'USER_ROLE_ADMIN',\n          },\n        }\n        Api.api.registerInstitutionUsingPost(values).then(() => {\n          this.form.resetFields()\n          const notification = {\n            message: 'Institution registriert.',\n            description: 'Die Institution wurde erfolgreich registriert.',\n          }\n          this.$notification.success(notification)\n          this.$store.dispatch('authModule/login', {\n            username: values.username,\n            password: values.password,\n          })\n        }).catch(err => {\n          const notification = {\n            message: 'Fehler beim Registrieren der Institution.',\n            description: err.message,\n          }\n          this.$notification.error(notification)\n        })\n      })\n    },\n  },\n})\n"],"sourceRoot":""}]}