{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js??ref--14-3!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/components/PlzInput.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/components/PlzInput.vue","mtime":1586713315430},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2Npcm90emtpL3Byb2plY3RzL3ZpcnVzLzFfMDExX2FfaW5mZWt0aW9uc2ZhbGxfdWViZXJtaXR0ZWxsdW5nL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgZ2V0UGx6cyB9IGZyb20gJ0AvdXRpbC9wbHotc2VydmljZSc7CmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICdQbHpJbnB1dCcsCiAgcHJvcHM6IFsnZGVjb3JhdG9yJywgJ2Zvcm0nXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGx6czogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVQbHpTZWFyY2g6IGZ1bmN0aW9uIGhhbmRsZVBselNlYXJjaCh2YWx1ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKCF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPCAyKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmVzdWx0ID0gW107CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRQbHpzKHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5zZXRQTFoocmVzdWx0WzBdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX3RoaXMucGx6cyA9IHJlc3VsdDsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZVBselNlbGVjdGlvbjogZnVuY3Rpb24gaGFuZGxlUGx6U2VsZWN0aW9uKHZhbHVlKSB7CiAgICAgIHZhciBwbHogPSB0aGlzLnBsenMuZmluZChmdW5jdGlvbiAocGx6KSB7CiAgICAgICAgcmV0dXJuIHBsei5maWVsZHMucGx6ID09PSB2YWx1ZTsKICAgICAgfSk7CgogICAgICBpZiAocGx6KSB7CiAgICAgICAgdGhpcy5zZXRQTFoocGx6KTsKICAgICAgfQogICAgfSwKICAgIHNldFBMWjogZnVuY3Rpb24gc2V0UExaKHBseikgewogICAgICB0aGlzLiRlbWl0KCdwbHpDaGFuZ2VkJywgcGx6KTsKICAgICAgcGx6LmZpZWxkcy5ub3RlID0gJyc7IC8vIFNvIGNpdHkgZG9lcyBub3QgZGlzcGxheSBpbiBwbHogaW5wdXQKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/components/PlzInput.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;AAcA,OAAO,GAAP,MAAgB,KAAhB;AACA,SAAS,OAAT,QAA6B,oBAA7B;AAMA,eAAe,GAAG,CAAC,MAAJ,CAAW;AACxB,EAAA,IAAI,EAAE,UADkB;AAExB,EAAA,KAAK,EAAE,CAAC,WAAD,EAAc,MAAd,CAFiB;AAGxB,EAAA,IAHwB,kBAGpB;AACF,WAAO;AACL,MAAA,IAAI,EAAE;AADD,KAAP;AAGD,GAPuB;AAQxB,EAAA,OAAO,EAAE;AACD,IAAA,eADC,2BACe,KADf,EAC4B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAE7B,CAAC,KAAD,IAAU,KAAK,CAAC,MAAN,GAAe,CAFI;AAAA;AAAA;AAAA;;AAG/B,gBAAA,MAAM,GAAG,EAAT;AAH+B;AAAA;;AAAA;AAAA;AAAA,uBAKhB,OAAO,CAAC,KAAD,CALS;;AAAA;AAK/B,gBAAA,MAL+B;;AAM/B,oBAAI,MAAM,CAAC,MAAP,KAAkB,CAAtB,EAAyB;AACvB,kBAAA,KAAI,CAAC,MAAL,CAAY,MAAM,CAAC,CAAD,CAAlB;AACD;;AAR8B;AAUjC,gBAAA,KAAI,CAAC,IAAL,GAAY,MAAZ;;AAViC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWlC,KAZM;AAaP,IAAA,kBAbO,8BAaY,KAbZ,EAayB;AAC9B,UAAM,GAAG,GAAG,KAAK,IAAL,CAAU,IAAV,CAAe,UAAA,GAAG;AAAA,eAAI,GAAG,CAAC,MAAJ,CAAW,GAAX,KAAmB,KAAvB;AAAA,OAAlB,CAAZ;;AACA,UAAI,GAAJ,EAAS;AACP,aAAK,MAAL,CAAY,GAAZ;AACD;AACF,KAlBM;AAmBP,IAAA,MAnBO,kBAmBA,GAnBA,EAmBQ;AACb,WAAK,KAAL,CAAW,YAAX,EAAyB,GAAzB;AACA,MAAA,GAAG,CAAC,MAAJ,CAAW,IAAX,GAAkB,EAAlB,CAFa,CAEQ;AACtB;AAtBM;AARe,CAAX,CAAf","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport { getPlzs, Plz } from '@/util/plz-service'\n\nexport interface State {\n  plzs: Plz[];\n}\n\nexport default Vue.extend({\n  name: 'PlzInput',\n  props: ['decorator', 'form'],\n  data(): State {\n    return {\n      plzs: [],\n    }\n  },\n  methods: {\n    async handlePlzSearch(value: string) {\n      let result: Plz[]\n      if (!value || value.length < 2) {\n        result = []\n      } else {\n        result = await getPlzs(value)\n        if (result.length === 1) {\n          this.setPLZ(result[0])\n        }\n      }\n      this.plzs = result\n    },\n    handlePlzSelection(value: string) {\n      const plz = this.plzs.find(plz => plz.fields.plz === value)\n      if (plz) {\n        this.setPLZ(plz)\n      }\n    },\n    setPLZ(plz: Plz) {\n      this.$emit('plzChanged', plz)\n      plz.fields.note = '' // So city does not display in plz input\n    },\n  },\n})\n"],"sourceRoot":""}]}