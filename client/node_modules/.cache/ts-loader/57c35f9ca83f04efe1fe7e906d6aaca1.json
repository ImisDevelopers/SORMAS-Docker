{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js??ref--14-3!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/RequestQuarantine.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/RequestQuarantine.vue","mtime":1589906836724},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0IEFwaSBmcm9tICdAL2FwaSc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IERhdGVJbnB1dCBmcm9tICcuLi9jb21wb25lbnRzL0RhdGVJbnB1dC52dWUnOwppbXBvcnQgUGF0aWVudElucHV0IGZyb20gJy4uL2NvbXBvbmVudHMvUGF0aWVudElucHV0LnZ1ZSc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1JlcXVlc3RRdWFyYW50aW5lJywKICBjb21wb25lbnRzOiB7CiAgICBQYXRpZW50SW5wdXQ6IFBhdGllbnRJbnB1dCwKICAgIERhdGVJbnB1dDogRGF0ZUlucHV0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMpLAogICAgICBwYXRpZW50OiB1bmRlZmluZWQsCiAgICAgIHRvZGF5OiBtb21lbnQoKQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBnaXZlblBhdGllbnRJZDogZnVuY3Rpb24gZ2l2ZW5QYXRpZW50SWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMucGF0aWVudElkOwogICAgfSwKICAgIHNob3dQYXRpZW50SW5wdXQ6IGZ1bmN0aW9uIHNob3dQYXRpZW50SW5wdXQoKSB7CiAgICAgIHJldHVybiAhdGhpcy5naXZlblBhdGllbnRJZDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5mb3JtLnZhbGlkYXRlRmllbGRzKGZ1bmN0aW9uIChlcnIsIHZhbHVlcykgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciByZXF1ZXN0ID0gewogICAgICAgICAgZGF0ZVVudGlsOiB2YWx1ZXMuZGF0ZVVudGlsLmZvcm1hdCgnWVlZWS1NTS1ERCcpLAogICAgICAgICAgZXZlbnREYXRlOiB2YWx1ZXMuZXZlbnREYXRlID8gdmFsdWVzLmV2ZW50RGF0ZS5mb3JtYXQoJ1lZWVktTU0tREQnKSA6IHVuZGVmaW5lZCwKICAgICAgICAgIGNvbW1lbnQ6IHZhbHVlcy5jb21tZW50CiAgICAgICAgfTsKICAgICAgICB2YXIgcGF0aWVudElkID0gX3RoaXMuZ2l2ZW5QYXRpZW50SWQgPyBfdGhpcy5naXZlblBhdGllbnRJZCA6IHZhbHVlcy5wYXRpZW50SWQ7CiAgICAgICAgQXBpLnJlcXVlc3RRdWFyYW50aW5lVXNpbmdQb3N0KHBhdGllbnRJZCwgcmVxdWVzdCkudGhlbihmdW5jdGlvbiAocGF0aWVudCkgewogICAgICAgICAgdmFyIGggPSBfdGhpcy4kY3JlYXRlRWxlbWVudDsKCiAgICAgICAgICBfdGhpcy4kc3VjY2Vzcyh7CiAgICAgICAgICAgIHRpdGxlOiAnRGVyIFF1YXJhbnTDpG5ldmVybWVyayB3dXJkZSBlcmZhc3N0LicsCiAgICAgICAgICAgIGNvbnRlbnQ6IGgoJ2RpdicsIHt9LCBbaCgnZGl2JywgIlBhdGllbnQ6ICIuY29uY2F0KHBhdGllbnQuZmlyc3ROYW1lLCAiICIpLmNvbmNhdChwYXRpZW50Lmxhc3ROYW1lKSksIGgoJ2RpdicsICJJbiBRdWFyYW50XHhFNG5lIGJpczogIi5jb25jYXQobW9tZW50KHBhdGllbnQucXVhcmFudGluZVVudGlsKS5mb3JtYXQoJ0RELk1NLllZWVknKSkpXSkKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzLmZvcm0ucmVzZXRGaWVsZHMoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICB2YXIgbm90aWZpY2F0aW9uID0gewogICAgICAgICAgICBtZXNzYWdlOiAnRmVobGVyIGJlaW0gaGludGVybGVnZW4gZGVzIFF1YXJhbnTDpG5ldmVybWVya3MnLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyLm1lc3NhZ2UKICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXMuJG5vdGlmaWNhdGlvbi5lcnJvcihub3RpZmljYXRpb24pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/RequestQuarantine.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";AAmFA,OAAO,GAAP,MAAgB,OAAhB;AACA,OAAO,GAAP,MAAgB,KAAhB;AACA,OAAO,SAAP,MAAsB,6BAAtB;AACA,OAAO,YAAP,MAAyB,gCAAzB;AACA,OAAO,MAAP,MAAmB,QAAnB;AAQA,eAAe,GAAG,CAAC,MAAJ,CAAW;AACxB,EAAA,IAAI,EAAE,mBADkB;AAExB,EAAA,UAAU,EAAE;AACV,IAAA,YAAY,EAAZ,YADU;AAEV,IAAA,SAAS,EAAT;AAFU,GAFY;AAMxB,EAAA,IANwB,kBAMpB;AACF,WAAO;AACL,MAAA,IAAI,EAAE,KAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB,CADD;AAEL,MAAA,OAAO,EAAE,SAFJ;AAGL,MAAA,KAAK,EAAE,MAAM;AAHR,KAAP;AAKD,GAZuB;AAaxB,EAAA,QAAQ,EAAE;AACR,IAAA,cADQ,4BACM;AACZ,aAAO,KAAK,MAAL,CAAY,MAAZ,CAAmB,SAA1B;AACD,KAHO;AAIR,IAAA,gBAJQ,8BAIQ;AACd,aAAO,CAAC,KAAK,cAAb;AACD;AANO,GAbc;AAqBxB,EAAA,OAAO,EAAE;AACP,IAAA,YADO,0BACK;AAAA;;AACV,WAAK,IAAL,CAAU,cAAV,CAAyB,UAAC,GAAD,EAAa,MAAb,EAA4B;AACnD;AACA,YAAI,GAAJ,EAAS;AACP;AACD;;AACD,YAAM,OAAO,GAAG;AACd,UAAA,SAAS,EAAE,MAAM,CAAC,SAAP,CAAiB,MAAjB,CAAwB,YAAxB,CADG;AAEd,UAAA,SAAS,EAAE,MAAM,CAAC,SAAP,GACP,MAAM,CAAC,SAAP,CAAiB,MAAjB,CAAwB,YAAxB,CADO,GAEP,SAJU;AAKd,UAAA,OAAO,EAAE,MAAM,CAAC;AALF,SAAhB;AAOA,YAAM,SAAS,GAAG,KAAI,CAAC,cAAL,GACd,KAAI,CAAC,cADS,GAEd,MAAM,CAAC,SAFX;AAIA,QAAA,GAAG,CAAC,0BAAJ,CAA+B,SAA/B,EAA0C,OAA1C,EACG,IADH,CACQ,UAAC,OAAD,EAAY;AAChB,cAAM,CAAC,GAAG,KAAI,CAAC,cAAf;;AACA,UAAA,KAAI,CAAC,QAAL,CAAc;AACZ,YAAA,KAAK,EAAE,sCADK;AAEZ,YAAA,OAAO,EAAE,CAAC,CAAC,KAAD,EAAQ,EAAR,EAAY,CACpB,CAAC,CAAC,KAAD,qBAAoB,OAAO,CAAC,SAA5B,cAAyC,OAAO,CAAC,QAAjD,EADmB,EAEpB,CAAC,CACC,KADD,kCAEuB,MAAM,CAAC,OAAO,CAAC,eAAT,CAAN,CAAgC,MAAhC,CACpB,YADoB,CAFvB,EAFmB,CAAZ;AAFE,WAAd;;AAYA,UAAA,KAAI,CAAC,IAAL,CAAU,WAAV;AACD,SAhBH,EAiBG,KAjBH,CAiBS,UAAC,GAAD,EAAQ;AACb,cAAM,YAAY,GAAG;AACnB,YAAA,OAAO,EAAE,gDADU;AAEnB,YAAA,WAAW,EAAE,GAAG,CAAC;AAFE,WAArB;;AAIA,UAAA,KAAI,CAAC,aAAL,CAAmB,KAAnB,CAAyB,YAAzB;AACD,SAvBH;AAwBD,OAxCD;AAyCD;AA3CM;AArBe,CAAX,CAAf","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Patient } from '@/api/SwaggerApi'\nimport Api from '@/api'\nimport Vue from 'vue'\nimport DateInput from '../components/DateInput.vue'\nimport PatientInput from '../components/PatientInput.vue'\nimport moment from 'moment'\n\ninterface State {\n  form: any // eslint-disable-next-line\n  patient?: Patient;\n  today: moment.Moment\n}\n\nexport default Vue.extend({\n  name: 'RequestQuarantine',\n  components: {\n    PatientInput,\n    DateInput,\n  },\n  data(): State {\n    return {\n      form: this.$form.createForm(this),\n      patient: undefined,\n      today: moment(),\n    }\n  },\n  computed: {\n    givenPatientId(): string | undefined {\n      return this.$route.params.patientId\n    },\n    showPatientInput(): boolean {\n      return !this.givenPatientId\n    },\n  },\n  methods: {\n    handleSubmit() {\n      this.form.validateFields((err: Error, values: any) => {\n        // eslint-disable-next-line\n        if (err) {\n          return\n        }\n        const request = {\n          dateUntil: values.dateUntil.format('YYYY-MM-DD'),\n          eventDate: values.eventDate\n            ? values.eventDate.format('YYYY-MM-DD')\n            : undefined,\n          comment: values.comment,\n        }\n        const patientId = this.givenPatientId\n          ? this.givenPatientId\n          : values.patientId\n\n        Api.requestQuarantineUsingPost(patientId, request)\n          .then((patient) => {\n            const h = this.$createElement\n            this.$success({\n              title: 'Der Quarantänevermerk wurde erfasst.',\n              content: h('div', {}, [\n                h('div', `Patient: ${patient.firstName} ${patient.lastName}`),\n                h(\n                  'div',\n                  `In Quarantäne bis: ${moment(patient.quarantineUntil).format(\n                    'DD.MM.YYYY'\n                  )}`\n                ),\n              ]),\n            })\n            this.form.resetFields()\n          })\n          .catch((err) => {\n            const notification = {\n              message: 'Fehler beim hinterlegen des Quarantänevermerks',\n              description: err.message,\n            }\n            this.$notification.error(notification)\n          })\n      })\n    },\n  },\n})\n"],"sourceRoot":""}]}