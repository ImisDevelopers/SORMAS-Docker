{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js??ref--14-3!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/eslint-loader/index.js??ref--13-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/store/modules/auth.module.ts","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/store/modules/auth.module.ts","mtime":1589906836721},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/eslint-loader/index.js","mtime":1584795992192}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb21lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvY2lyb3R6a2kvcHJvamVjdHMvdmlydXMvMV8wMTFfYV9pbmZla3Rpb25zZmFsbF91ZWJlcm1pdHRlbGx1bmcvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9jaXJvdHpraS9wcm9qZWN0cy92aXJ1cy8xXzAxMV9hX2luZmVrdGlvbnNmYWxsX3VlYmVybWl0dGVsbHVuZy9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvaG9tZS9jaXJvdHpraS9wcm9qZWN0cy92aXJ1cy8xXzAxMV9hX2luZmVrdGlvbnNmYWxsX3VlYmVybWl0dGVsbHVuZy9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvaG9tZS9jaXJvdHpraS9wcm9qZWN0cy92aXJ1cy8xXzAxMV9hX2luZmVrdGlvbnNmYWxsX3VlYmVybWl0dGVsbHVuZy9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9jaXJvdHpraS9wcm9qZWN0cy92aXJ1cy8xXzAxMV9hX2luZmVrdGlvbnNmYWxsX3VlYmVybWl0dGVsbHVuZy9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IEFwaSwgeyByZW1vdmVCZWFyZXJUb2tlbiwgc2V0QmVhcmVyVG9rZW4gfSBmcm9tICdAL2FwaSc7CmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ0AvY29uZmlnJzsKaW1wb3J0IHJvdXRlciwgeyBuYXZpZ2F0aW9uUm91dGVzIH0gZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgeyBwYXJzZUp3dCB9IGZyb20gJ0AvdXRpbCc7CmltcG9ydCB7IEFjdGlvbnMsIGNyZWF0ZU1hcHBlciwgR2V0dGVycywgTW9kdWxlLCBNdXRhdGlvbnMgfSBmcm9tICd2dWV4LXNtYXJ0LW1vZHVsZSc7Cgp2YXIgQXV0aFN0YXRlID0gZnVuY3Rpb24gQXV0aFN0YXRlKCkgewogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdXRoU3RhdGUpOwoKICB0aGlzLmp3dFRva2VuID0gdW5kZWZpbmVkOwogIHRoaXMuand0RGF0YSA9IHVuZGVmaW5lZDsKICB0aGlzLnVzZXIgPSB1bmRlZmluZWQ7CiAgdGhpcy5pbnN0aXR1dGlvbiA9IHVuZGVmaW5lZDsKICB0aGlzLmluc3RpdHV0aW9uVXNlcnMgPSB1bmRlZmluZWQ7Cn07Cgp2YXIgQXV0aEdldHRlcnMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9HZXR0ZXJzKSB7CiAgX2luaGVyaXRzKEF1dGhHZXR0ZXJzLCBfR2V0dGVycyk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQXV0aEdldHRlcnMpOwoKICBmdW5jdGlvbiBBdXRoR2V0dGVycygpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdXRoR2V0dGVycyk7CgogICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEF1dGhHZXR0ZXJzLCBbewogICAga2V5OiAiaXNBdXRoZW50aWNhdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7CiAgICAgIHJldHVybiAhIXRoaXMuc3RhdGUuand0VG9rZW47IC8vIGFkZCBpcyB2YWxpZCBjaGVjayBleHBpcmUgZGF0ZQogICAgfQogIH0sIHsKICAgIGtleTogImluc3RpdHV0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbnN0aXR1dGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuaW5zdGl0dXRpb247CiAgICB9CiAgfSwgewogICAga2V5OiAicm9sZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJvbGVzKCkgewogICAgICB2YXIgX3RoaXMkc3RhdGUkand0RGF0YTsKCiAgICAgIHJldHVybiAoKF90aGlzJHN0YXRlJGp3dERhdGEgPSB0aGlzLnN0YXRlLmp3dERhdGEpID09PSBudWxsIHx8IF90aGlzJHN0YXRlJGp3dERhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHN0YXRlJGp3dERhdGEucm9sZXMpIHx8IFtdOwogICAgfQogIH0sIHsKICAgIGtleTogInJvdXRlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcm91dGVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5hdmlnYXRpb25Sb3V0ZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgcmV0dXJuIGNvbmZpZy5zaG93QWxsVmlld3MgfHwgX3RoaXMuZ2V0dGVycy5yb2xlcygpLnNvbWUoZnVuY3Rpb24gKGEpIHsKICAgICAgICAgIHZhciBfciRtZXRhLCBfciRtZXRhJG5hdmlnYXRpb25JbmY7CgogICAgICAgICAgcmV0dXJuIChfciRtZXRhID0gci5tZXRhKSA9PT0gbnVsbCB8fCBfciRtZXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3IkbWV0YSRuYXZpZ2F0aW9uSW5mID0gX3IkbWV0YS5uYXZpZ2F0aW9uSW5mbykgPT09IG51bGwgfHwgX3IkbWV0YSRuYXZpZ2F0aW9uSW5mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfciRtZXRhJG5hdmlnYXRpb25JbmYuYXV0aG9yaXRpZXMuaW5jbHVkZXMoYSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImluc3RpdHV0aW9uVXNlcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluc3RpdHV0aW9uVXNlcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLnN0YXRlLmluc3RpdHV0aW9uVXNlcnMgfHwgW107CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQXV0aEdldHRlcnM7Cn0oR2V0dGVycyk7Cgp2YXIgQXV0aE11dGF0aW9ucyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX011dGF0aW9ucykgewogIF9pbmhlcml0cyhBdXRoTXV0YXRpb25zLCBfTXV0YXRpb25zKTsKCiAgdmFyIF9zdXBlcjIgPSBfY3JlYXRlU3VwZXIoQXV0aE11dGF0aW9ucyk7CgogIGZ1bmN0aW9uIEF1dGhNdXRhdGlvbnMoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXV0aE11dGF0aW9ucyk7CgogICAgcmV0dXJuIF9zdXBlcjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIF9jcmVhdGVDbGFzcyhBdXRoTXV0YXRpb25zLCBbewogICAga2V5OiAibG9naW5TdWNjZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dpblN1Y2Nlc3Moand0VG9rZW4pIHsKICAgICAgdGhpcy5zdGF0ZS5qd3RUb2tlbiA9IGp3dFRva2VuOwogICAgICB0aGlzLnN0YXRlLmp3dERhdGEgPSBwYXJzZUp3dChqd3RUb2tlbik7CiAgICAgIHNldEJlYXJlclRva2VuKGp3dFRva2VuKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2dvdXRTdWNjZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dvdXRTdWNjZXNzKCkgewogICAgICB0aGlzLnN0YXRlLmp3dFRva2VuID0gdW5kZWZpbmVkOwogICAgICB0aGlzLnN0YXRlLmp3dERhdGEgPSB1bmRlZmluZWQ7CiAgICAgIHJlbW92ZUJlYXJlclRva2VuKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0QXV0aGVudGljYXRlZEluc3RpdHV0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBdXRoZW50aWNhdGVkSW5zdGl0dXRpb24oaW5zdGl0dXRpb24pIHsKICAgICAgdGhpcy5zdGF0ZS5pbnN0aXR1dGlvbiA9IGluc3RpdHV0aW9uOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEluc3RpdHV0aW9uVXNlcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEluc3RpdHV0aW9uVXNlcnModXNlcnMpIHsKICAgICAgdGhpcy5zdGF0ZS5pbnN0aXR1dGlvblVzZXJzID0gdXNlcnM7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0VXNlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VXNlcih1c2VyKSB7CiAgICAgIHRoaXMuc3RhdGUudXNlciA9IHVzZXI7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQXV0aE11dGF0aW9uczsKfShNdXRhdGlvbnMpOwoKdmFyIEF1dGhBY3Rpb25zID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQWN0aW9ucykgewogIF9pbmhlcml0cyhBdXRoQWN0aW9ucywgX0FjdGlvbnMpOwoKICB2YXIgX3N1cGVyMyA9IF9jcmVhdGVTdXBlcihBdXRoQWN0aW9ucyk7CgogIGZ1bmN0aW9uIEF1dGhBY3Rpb25zKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1dGhBY3Rpb25zKTsKCiAgICByZXR1cm4gX3N1cGVyMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEF1dGhBY3Rpb25zLCBbewogICAga2V5OiAibG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9sb2dpbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwYXlsb2FkKSB7CiAgICAgICAgdmFyIHRva2VuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIEFwaS5zaWduSW5Vc2VyVXNpbmdQb3N0KHsKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHBheWxvYWQudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXlsb2FkLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdG9rZW4gPSBfY29udGV4dC5zZW50Lmp3dFRva2VuOwoKICAgICAgICAgICAgICAgIGlmICh0b2tlbikgewogICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnbG9naW5TdWNjZXNzJywgdG9rZW4pOwogICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdnZXRBdXRoZW50aWNhdGVkSW5zdGl0dXRpb24nKTsKICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCgnZ2V0QXV0aGVudGljYXRlZFVzZXInKTsKICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsICcnICsgdG9rZW4pOwogICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2FwcCcKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsb2dpbihfeCkgewogICAgICAgIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxvZ2luOwogICAgfSgpCiAgfSwgewogICAga2V5OiAibG9nb3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9nb3V0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gIyBUT0RPIGxvZ291dCByZXF1ZXN0CiAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdCgnbG9nb3V0U3VjY2VzcycpOwogICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5jbGVhcigpOyAvLyAjIFRPRE8gZW1wdHkgc3RhdGUKCiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdsb2dpbicKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgICAgcmV0dXJuIF9sb2dvdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxvZ291dDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImluaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9pbml0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgand0VG9rZW4sIGRlY29kZWQsIG5vdywgdG9rZW5FeHBpcmVEYXRlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBqd3RUb2tlbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UudG9rZW47CgogICAgICAgICAgICAgICAgaWYgKGp3dFRva2VuKSB7CiAgICAgICAgICAgICAgICAgIGRlY29kZWQgPSBwYXJzZUp3dChqd3RUb2tlbik7CiAgICAgICAgICAgICAgICAgIG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAgIHRva2VuRXhwaXJlRGF0ZSA9IG5ldyBEYXRlKGRlY29kZWQuZXhwICogMTAwMCk7CgogICAgICAgICAgICAgICAgICBpZiAodG9rZW5FeHBpcmVEYXRlID4gbm93KSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ2xvZ2luU3VjY2VzcycsIGp3dFRva2VuKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdnZXRBdXRoZW50aWNhdGVkSW5zdGl0dXRpb24nKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdnZXRBdXRoZW50aWNhdGVkVXNlcicpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY29tbWl0KCd0b2tlbkV4cGlyZWQnKQogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBpbml0KCkgewogICAgICAgIHJldHVybiBfaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gaW5pdDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldEF1dGhlbnRpY2F0ZWRJbnN0aXR1dGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldEF1dGhlbnRpY2F0ZWRJbnN0aXR1dGlvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGluc3RpdHV0aW9uOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gQXBpLmdldEluc3RpdHV0aW9uVXNpbmdHZXQoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgaW5zdGl0dXRpb24gPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRBdXRoZW50aWNhdGVkSW5zdGl0dXRpb24nLCBpbnN0aXR1dGlvbik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldEF1dGhlbnRpY2F0ZWRJbnN0aXR1dGlvbigpIHsKICAgICAgICByZXR1cm4gX2dldEF1dGhlbnRpY2F0ZWRJbnN0aXR1dGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0QXV0aGVudGljYXRlZEluc3RpdHV0aW9uOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0SW5zdGl0dXRpb25Vc2VycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldEluc3RpdHV0aW9uVXNlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciB1c2VyczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIEFwaS5nZXRJbnN0aXR1dGlvblVzZXJzVXNpbmdHZXQoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdXNlcnMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0KCdzZXRJbnN0aXR1dGlvblVzZXJzJywgdXNlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRJbnN0aXR1dGlvblVzZXJzKCkgewogICAgICAgIHJldHVybiBfZ2V0SW5zdGl0dXRpb25Vc2Vycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0SW5zdGl0dXRpb25Vc2VyczsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldEF1dGhlbnRpY2F0ZWRVc2VyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0QXV0aGVudGljYXRlZFVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciB1c2VyOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gQXBpLmN1cnJlbnRVc2VyVXNpbmdHZXQoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdXNlciA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldFVzZXInLCB1c2VyKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0QXV0aGVudGljYXRlZFVzZXIoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRBdXRoZW50aWNhdGVkVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0QXV0aGVudGljYXRlZFVzZXI7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVJbnN0aXR1dGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VwZGF0ZUluc3RpdHV0aW9uID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNyhpbnN0aXR1dGlvbikgewogICAgICAgIHZhciB1cGRhdGVkSW5zdGl0dXRpb247CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBBcGkudXBkYXRlSW5zdGl0dXRpb25Vc2luZ1B1dChpbnN0aXR1dGlvbik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHVwZGF0ZWRJbnN0aXR1dGlvbiA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5jb21taXQoJ3NldEF1dGhlbnRpY2F0ZWRJbnN0aXR1dGlvbicsIHVwZGF0ZWRJbnN0aXR1dGlvbik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUluc3RpdHV0aW9uKF94MikgewogICAgICAgIHJldHVybiBfdXBkYXRlSW5zdGl0dXRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwZGF0ZUluc3RpdHV0aW9uOwogICAgfSgpCiAgfSwgewogICAga2V5OiAicmVnaXN0ZXJVc2VyRm9ySW5zdGl0dXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWdpc3RlclVzZXJGb3JJbnN0aXR1dGlvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgodXNlcikgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBBcGkucmVnaXN0ZXJVc2VyVXNpbmdQb3N0KHVzZXIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ2dldEluc3RpdHV0aW9uVXNlcnMnKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJVc2VyRm9ySW5zdGl0dXRpb24oX3gzKSB7CiAgICAgICAgcmV0dXJuIF9yZWdpc3RlclVzZXJGb3JJbnN0aXR1dGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcmVnaXN0ZXJVc2VyRm9ySW5zdGl0dXRpb247CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJkZWxldGVVc2VyRm9ySW5zdGl0dXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9kZWxldGVVc2VyRm9ySW5zdGl0dXRpb24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KHVzZXJJZCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBBcGkuZGVsZXRlSW5zdGl0dXRpb25Vc2VyVXNpbmdEZWxldGUodXNlcklkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdnZXRJbnN0aXR1dGlvblVzZXJzJyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGRlbGV0ZVVzZXJGb3JJbnN0aXR1dGlvbihfeDQpIHsKICAgICAgICByZXR1cm4gX2RlbGV0ZVVzZXJGb3JJbnN0aXR1dGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZGVsZXRlVXNlckZvckluc3RpdHV0aW9uOwogICAgfSgpCiAgfSwgewogICAga2V5OiAidXBkYXRlVXNlckZvckluc3RpdHV0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdXBkYXRlVXNlckZvckluc3RpdHV0aW9uID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAodXNlcikgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBBcGkudXBkYXRlSW5zdGl0dXRpb25Vc2VyVXNpbmdQdXQodXNlcik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ2dldEluc3RpdHV0aW9uVXNlcnMnKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTAsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVVc2VyRm9ySW5zdGl0dXRpb24oX3g1KSB7CiAgICAgICAgcmV0dXJuIF91cGRhdGVVc2VyRm9ySW5zdGl0dXRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwZGF0ZVVzZXJGb3JJbnN0aXR1dGlvbjsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImNoYW5nZVBhc3N3b3JkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZChfY2hhbmdlUGFzc3dvcmQpIHsKICAgICAgcmV0dXJuIEFwaS5jaGFuZ2VQYXNzd29yZFVzaW5nUG9zdChfY2hhbmdlUGFzc3dvcmQpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEF1dGhBY3Rpb25zOwp9KEFjdGlvbnMpOwoKZXhwb3J0IHZhciBhdXRoTW9kdWxlID0gbmV3IE1vZHVsZSh7CiAgc3RhdGU6IEF1dGhTdGF0ZSwKICBnZXR0ZXJzOiBBdXRoR2V0dGVycywKICBtdXRhdGlvbnM6IEF1dGhNdXRhdGlvbnMsCiAgYWN0aW9uczogQXV0aEFjdGlvbnMKfSk7CmV4cG9ydCB2YXIgYXV0aE1hcHBlciA9IGNyZWF0ZU1hcHBlcihhdXRoTW9kdWxlKTs="},{"version":3,"sources":["/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/eslint-loader/index.js??ref--13-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/store/modules/auth.module.ts"],"names":[],"mappings":"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","sourcesContent":["import Api, { removeBearerToken, setBearerToken } from '@/api'\nimport {\n  ChangePasswordDTO,\n  Institution,\n  InstitutionDTO,\n  RegisterUserRequest,\n  User,\n  UserDTO,\n} from '@/api/SwaggerApi'\nimport { config } from '@/config'\nimport { InstitutionRole } from '@/models'\nimport router, { AppRoute, navigationRoutes } from '@/router'\nimport { parseJwt } from '@/util'\nimport {\n  Actions,\n  createMapper,\n  Getters,\n  Module,\n  Mutations,\n} from 'vuex-smart-module'\n\ninterface JwtData {\n  roles: InstitutionRole[]\n  exp: number\n  [key: string]: any\n}\n\nclass AuthState {\n  jwtToken: string | undefined = undefined\n  jwtData: JwtData | undefined = undefined\n  user: User | undefined = undefined\n  institution: Institution | undefined = undefined\n  institutionUsers: UserDTO[] | undefined = undefined\n}\n\nclass AuthGetters extends Getters<AuthState> {\n  isAuthenticated(): boolean {\n    return !!this.state.jwtToken // add is valid check expire date\n  }\n\n  institution(): Institution | undefined {\n    return this.state.institution\n  }\n\n  roles() {\n    return this.state.jwtData?.roles || []\n  }\n\n  routes(): AppRoute[] {\n    return navigationRoutes.filter(\n      (r) =>\n        config.showAllViews ||\n        this.getters\n          .roles()\n          .some((a) => r.meta?.navigationInfo?.authorities.includes(a))\n    )\n  }\n\n  institutionUsers() {\n    return this.state.institutionUsers || []\n  }\n}\n\nclass AuthMutations extends Mutations<AuthState> {\n  loginSuccess(jwtToken: string) {\n    this.state.jwtToken = jwtToken\n    this.state.jwtData = parseJwt(jwtToken)\n    setBearerToken(jwtToken)\n  }\n\n  logoutSuccess() {\n    this.state.jwtToken = undefined\n    this.state.jwtData = undefined\n    removeBearerToken()\n  }\n\n  setAuthenticatedInstitution(institution: Institution) {\n    this.state.institution = institution\n  }\n\n  setInstitutionUsers(users: UserDTO[]) {\n    this.state.institutionUsers = users\n  }\n\n  setUser(user: User) {\n    this.state.user = user\n  }\n}\n\nclass AuthActions extends Actions<\n  AuthState,\n  AuthGetters,\n  AuthMutations,\n  AuthActions\n> {\n  async login(payload: { username: string; password: string }) {\n    // # TODO loading animation, encrypt jwt\n    const token: string | undefined = (\n      await Api.signInUserUsingPost({\n        username: payload.username,\n        password: payload.password,\n      })\n    ).jwtToken\n    if (token) {\n      this.commit('loginSuccess', token)\n      this.dispatch('getAuthenticatedInstitution')\n      this.dispatch('getAuthenticatedUser')\n      window.localStorage.setItem('token', '' + token)\n      router.push({ name: 'app' })\n    }\n  }\n\n  async logout() {\n    // # TODO logout request\n    this.commit('logoutSuccess')\n    window.localStorage.clear()\n    // # TODO empty state\n    router.push({ name: 'login' })\n  }\n\n  async init() {\n    const jwtToken = window.localStorage.token\n    if (jwtToken) {\n      const decoded = parseJwt(jwtToken)\n      const now = new Date()\n      const tokenExpireDate = new Date(decoded.exp * 1000)\n      if (tokenExpireDate > now) {\n        this.commit('loginSuccess', jwtToken)\n        this.dispatch('getAuthenticatedInstitution')\n        this.dispatch('getAuthenticatedUser')\n      } else {\n        // this.commit('tokenExpired')\n        window.localStorage.clear()\n      }\n    }\n  }\n\n  async getAuthenticatedInstitution() {\n    const institution = await Api.getInstitutionUsingGet()\n    this.commit('setAuthenticatedInstitution', institution)\n  }\n\n  async getInstitutionUsers() {\n    const users = await Api.getInstitutionUsersUsingGet()\n    this.commit('setInstitutionUsers', users)\n  }\n\n  async getAuthenticatedUser() {\n    const user = await Api.currentUserUsingGet()\n    this.commit('setUser', user)\n  }\n\n  async updateInstitution(institution: InstitutionDTO) {\n    const updatedInstitution = await Api.updateInstitutionUsingPut(institution)\n    this.commit('setAuthenticatedInstitution', updatedInstitution)\n  }\n\n  async registerUserForInstitution(user: RegisterUserRequest) {\n    const res = await Api.registerUserUsingPost(user)\n    this.dispatch('getInstitutionUsers')\n  }\n\n  async deleteUserForInstitution(userId: number) {\n    const res = await Api.deleteInstitutionUserUsingDelete(userId)\n    this.dispatch('getInstitutionUsers')\n  }\n\n  async updateUserForInstitution(user: UserDTO) {\n    await Api.updateInstitutionUserUsingPut(user)\n    this.dispatch('getInstitutionUsers')\n  }\n\n  changePassword(changePassword: ChangePasswordDTO): Promise<void> {\n    return Api.changePasswordUsingPost(changePassword)\n  }\n}\n\nexport const authModule = new Module({\n  state: AuthState,\n  getters: AuthGetters,\n  mutations: AuthMutations,\n  actions: AuthActions,\n})\n\nexport const authMapper = createMapper(authModule)\n"],"sourceRoot":""}]}