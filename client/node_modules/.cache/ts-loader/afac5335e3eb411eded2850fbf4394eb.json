{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js??ref--14-3!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/PatientList.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/PatientList.vue","mtime":1586713315430},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvY2lyb3R6a2kvcHJvamVjdHMvdmlydXMvMV8wMTFfYV9pbmZla3Rpb25zZmFsbF91ZWJlcm1pdHRlbGx1bmcvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBldmVudFR5cGVzIH0gZnJvbSAnQC9tb2RlbHMvZXZlbnQtdHlwZXMnOwppbXBvcnQgeyBkb3dubG9hZENzdiB9IGZyb20gJ0AvdXRpbC9leHBvcnQtc2VydmljZSc7CmltcG9ydCBBcGkgZnJvbSAnQC9hcGknOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CnZhciBjb2x1bW5zU2NoZW1hID0gW3sKICB0aXRsZTogJycsCiAgZGF0YUluZGV4OiAnb3BlcmF0aW9uJywKICBzY29wZWRTbG90czogewogICAgY3VzdG9tUmVuZGVyOiBbJ29wZXJhdGlvbiddCiAgfQp9LCB7CiAgdGl0bGU6ICdOYWNobmFtZScsCiAgLy8gc29ydGVyOiAoYSwgYikgPT4gYS5sYXN0TmFtZS5sb2NhbGVDb21wYXJlKGIubGFzdE5hbWUpLAogIGRhdGFJbmRleDogJ2xhc3ROYW1lJywKICBrZXk6ICdsYXN0TmFtZScKfSwgewogIHRpdGxlOiAnVm9ybmFtZScsCiAgLy8gc29ydGVyOiAoYSwgYikgPT4gYS5maXJzdE5hbWUubG9jYWxlQ29tcGFyZShiLmZpcnN0TmFtZSksCiAgZGF0YUluZGV4OiAnZmlyc3ROYW1lJywKICBrZXk6ICdmaXJzdE5hbWUnCn0sIHsKICB0aXRsZTogJ0dlc2NobGVjaHQnLAogIGRhdGFJbmRleDogJ2dlbmRlcicsCiAga2V5OiAnZ2VuZGVyJwp9LCB7CiAgdGl0bGU6ICdTdGF0dXMnLAogIGRhdGFJbmRleDogJ3BhdGllbnRTdGF0dXMnLAogIGtleTogJ3BhdGllbnRTdGF0dXMnLAogIHNjb3BlZFNsb3RzOiB7CiAgICBjdXN0b21SZW5kZXI6ICdwYXRpZW50U3RhdHVzJwogIH0sCiAgc29ydGVyOiB0cnVlCn0sIHsKICB0aXRsZTogJ1N0YWR0JywKICBkYXRhSW5kZXg6ICdjaXR5JywKICBrZXk6ICdjaXR5Jwp9LCB7CiAgdGl0bGU6ICdFLU1haWwnLAogIGRhdGFJbmRleDogJ2VtYWlsJywKICBrZXk6ICdlbWFpbCcKfSwgewogIHRpdGxlOiAnSUQnLAogIGRhdGFJbmRleDogJ2lkJywKICBrZXk6ICdpZCcsCiAgZGVmYXVsdFNvcnRPcmRlcjogJ2FzY2VuZCcKfV07CmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICdQYXRpZW50TGlzdCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBxdWVyeTogJycsCiAgICAgICAgb3JkZXI6ICdhc2MnLAogICAgICAgIG9yZGVyQnk6ICdsYXN0TmFtZScsCiAgICAgICAgb2Zmc2V0UGFnZTogMCwKICAgICAgICBwYWdlU2l6ZTogMTAKICAgICAgfSwKICAgICAgYWR2YW5jZWRGb3JtOiB7CiAgICAgICAgZ2VuZGVyOiAnJywKICAgICAgICBjaXR5OiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcGhvbmVOdW1iZXI6ICcnLAogICAgICAgIHN0cmVldDogJycsCiAgICAgICAgaG91c2VOdW1iZXI6ICcnLAogICAgICAgIHppcDogJycsCiAgICAgICAgaW5zdXJhbmNlQ29tcGFueTogJycsCiAgICAgICAgaW5zdXJhbmNlTWVtYmVyc2hpcE51bWJlcjogJycsCiAgICAgICAgZG9jdG9ySWQ6ICcnLAogICAgICAgIGxhYm9yYXRvcnlJZDogJycsCiAgICAgICAgZmlyc3ROYW1lOiAnJywKICAgICAgICBsYXN0TmFtZTogJycsCiAgICAgICAgcGF0aWVudFN0YXR1czogdW5kZWZpbmVkLAogICAgICAgIGlkOiAnJwogICAgICB9LAogICAgICBjb250ZW50OiAnJywKICAgICAgY291bnQ6IDAsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBjb2x1bW5zU2NoZW1hOiBjb2x1bW5zU2NoZW1hLAogICAgICBkYXRhOiBbXSwKICAgICAgc2hvd0FkdmFuY2VkU2VhcmNoOiBmYWxzZSwKICAgICAgZXZlbnRUeXBlczogZXZlbnRUeXBlcywKICAgICAgYWN0dWFsUGF0aWVudHM6IFtdCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGN1cnJlbnRQYWdlOiBmdW5jdGlvbiBjdXJyZW50UGFnZSgpIHsKICAgICAgdGhpcy5sb2FkUGFnZSgpOwogICAgfSwKICAgICckcm91dGUucXVlcnkucXVlcnknOiBmdW5jdGlvbiAkcm91dGVRdWVyeVF1ZXJ5KCkgewogICAgICB0aGlzLmxvYWRBZnRlclVybENoYW5nZSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZEFmdGVyVXJsQ2hhbmdlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkQWZ0ZXJVcmxDaGFuZ2U6IGZ1bmN0aW9uIGxvYWRBZnRlclVybENoYW5nZSgpIHsKICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy4kcm91dGUucXVlcnkucXVlcnk7CgogICAgICBpZiAocXVlcnkpIHsKICAgICAgICB0aGlzLmZvcm0ucXVlcnkgPSBxdWVyeS50b1N0cmluZygpOwogICAgICB9CgogICAgICB0aGlzLmxvYWRQYWdlKCk7CiAgICB9LAogICAgaGFuZGxlU2VhcmNoOiBmdW5jdGlvbiBoYW5kbGVTZWFyY2goKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICB0aGlzLmxvYWRQYWdlKCk7CiAgICB9LAogICAgb25TaG93U2l6ZUNoYW5nZTogZnVuY3Rpb24gb25TaG93U2l6ZUNoYW5nZShjdXJyZW50LCBwYWdlU2l6ZSkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gY3VycmVudDsKICAgICAgdGhpcy5hZHZhbmNlZEZvcm0ucGFnZVNpemUgPSBwYWdlU2l6ZTsKICAgICAgdGhpcy5sb2FkUGFnZSgpOwogICAgfSwKICAgIGxvYWRQYWdlOiBmdW5jdGlvbiBsb2FkUGFnZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZm9ybS5vZmZzZXRQYWdlID0gdGhpcy5jdXJyZW50UGFnZSAtIDE7CiAgICAgIHZhciBjb3VudFByb21pc2U7CiAgICAgIHZhciBxdWVyeVByb21pc2U7CgogICAgICBpZiAodGhpcy5zaG93QWR2YW5jZWRTZWFyY2gpIHsKICAgICAgICB2YXIgZm9ybVZhbHVlcyA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZm9ybSwge30sIHRoaXMuYWR2YW5jZWRGb3JtKTsKCiAgICAgICAgaWYgKGZvcm1WYWx1ZXMucGF0aWVudFN0YXR1cykgewogICAgICAgICAgLy8gQmFja2VuZCBmYWlscyBvbiBlbXB0eSBzdHJpbmcKICAgICAgICAgIGZvcm1WYWx1ZXMucGF0aWVudFN0YXR1cyA9IHVuZGVmaW5lZDsKICAgICAgICB9CgogICAgICAgIGNvdW50UHJvbWlzZSA9IEFwaS5hcGkuY291bnRRdWVyeVBhdGllbnRzVXNpbmdQb3N0KGZvcm1WYWx1ZXMpOwogICAgICAgIHF1ZXJ5UHJvbWlzZSA9IEFwaS5hcGkucXVlcnlQYXRpZW50c1VzaW5nUG9zdChmb3JtVmFsdWVzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcXVlcnkgPSB0aGlzLmZvcm0ucXVlcnk7CiAgICAgICAgY291bnRQcm9taXNlID0gQXBpLmFwaS5jb3VudFF1ZXJ5UGF0aWVudHNTaW1wbGVVc2luZ0dldCh7CiAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICB9KTsKICAgICAgICBxdWVyeVByb21pc2UgPSBBcGkuYXBpLnF1ZXJ5UGF0aWVudHNTaW1wbGVVc2luZ1Bvc3QoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5mb3JtKSk7CiAgICAgIH0KCiAgICAgIGNvdW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChjb3VudCkgewogICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7CiAgICAgIH0pOwogICAgICBxdWVyeVByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgX3RoaXMuYWN0dWFsUGF0aWVudHMgPSByZXN1bHQ7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIHZhciBub3RpZmljYXRpb24gPSB7CiAgICAgICAgICBtZXNzYWdlOiAnRmVobGVyIGJlaW0gTGFkZW4gZGVyIFBhdGllbnRlbmRhdGVuLicsCiAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZQogICAgICAgIH07CgogICAgICAgIF90aGlzLiRub3RpZmljYXRpb24uZXJyb3Iobm90aWZpY2F0aW9uKTsKICAgICAgfSk7CiAgICB9LAogICAgdG9nZ2xlQWR2YW5jZWRTZWFyY2g6IGZ1bmN0aW9uIHRvZ2dsZUFkdmFuY2VkU2VhcmNoKCkgewogICAgICB0aGlzLnNob3dBZHZhbmNlZFNlYXJjaCA9ICF0aGlzLnNob3dBZHZhbmNlZFNlYXJjaDsKICAgIH0sCiAgICBkb3dubG9hZFBhdGllbnRzOiBmdW5jdGlvbiBkb3dubG9hZFBhdGllbnRzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuZm9ybS5vZmZzZXRQYWdlID0gdGhpcy5jdXJyZW50UGFnZSAtIDE7CiAgICAgIHZhciBjb3VudFByb21pc2U7CiAgICAgIHZhciBmb3JtVmFsdWVzOwoKICAgICAgaWYgKHRoaXMuc2hvd0FkdmFuY2VkU2VhcmNoKSB7CiAgICAgICAgZm9ybVZhbHVlcyA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZm9ybSwge30sIHRoaXMuYWR2YW5jZWRGb3JtKTsKCiAgICAgICAgaWYgKGZvcm1WYWx1ZXMucGF0aWVudFN0YXR1cykgewogICAgICAgICAgLy8gQmFja2VuZCBmYWlscyBvbiBlbXB0eSBzdHJpbmcKICAgICAgICAgIGZvcm1WYWx1ZXMucGF0aWVudFN0YXR1cyA9IHVuZGVmaW5lZDsKICAgICAgICB9CgogICAgICAgIGNvdW50UHJvbWlzZSA9IEFwaS5hcGkuY291bnRRdWVyeVBhdGllbnRzVXNpbmdQb3N0KGZvcm1WYWx1ZXMpOwogICAgICB9IGVsc2UgewogICAgICAgIGZvcm1WYWx1ZXMgPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmZvcm0pOwogICAgICAgIHZhciBxdWVyeSA9IHRoaXMuZm9ybS5xdWVyeTsKICAgICAgICBjb3VudFByb21pc2UgPSBBcGkuYXBpLmNvdW50UXVlcnlQYXRpZW50c1NpbXBsZVVzaW5nR2V0KHsKICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgIH0pOwogICAgICB9CgogICAgICBjb3VudFByb21pc2UudGhlbihmdW5jdGlvbiAoY291bnQpIHsKICAgICAgICAvLyBEb3dubG9hZCBhbGwgZGF0YSB0aGF0IGFwcGxpZXMgdG8gdGhlIGN1cnJlbnQgZmlsdGVyCiAgICAgICAgZm9ybVZhbHVlcy5vZmZzZXRQYWdlID0gMDsKICAgICAgICBmb3JtVmFsdWVzLnBhZ2VTaXplID0gY291bnQ7CiAgICAgICAgdmFyIHF1ZXJ5UHJvbWlzZTsKCiAgICAgICAgaWYgKF90aGlzMi5zaG93QWR2YW5jZWRTZWFyY2gpIHsKICAgICAgICAgIHF1ZXJ5UHJvbWlzZSA9IEFwaS5hcGkucXVlcnlQYXRpZW50c1VzaW5nUG9zdChmb3JtVmFsdWVzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcXVlcnlQcm9taXNlID0gQXBpLmFwaS5xdWVyeVBhdGllbnRzU2ltcGxlVXNpbmdQb3N0KGZvcm1WYWx1ZXMpOwogICAgICAgIH0KCiAgICAgICAgcXVlcnlQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgdmFyIGhlYWRlciA9ICdJRCxWb3JuYW1lLE5hY2huYW1lLEdlc2NobGVjaHQsU3RhdHVzLEdlYnVydHNkYXR1bSxTdGFkdCxFLU1haWw7VGVsZWZvbm51bW1lcjsnICsgJ1N0cmHDn2U7SGF1c251bW1lcjtTdGFkdDtWZXJzaWNoZXJ1bmc7VmVyc2ljaGVydGVubnVtbWVyOyc7CiAgICAgICAgICB2YXIgcGF0aWVudHMgPSByZXN1bHQubWFwKGZ1bmN0aW9uIChwYXRpZW50KSB7CiAgICAgICAgICAgIHJldHVybiAiIi5jb25jYXQocGF0aWVudC5pZCwgIjsiKS5jb25jYXQocGF0aWVudC5maXJzdE5hbWUsICI7IikuY29uY2F0KHBhdGllbnQubGFzdE5hbWUsICI7IikuY29uY2F0KHBhdGllbnQuZ2VuZGVyLCAiOyIpLmNvbmNhdChwYXRpZW50LnBhdGllbnRTdGF0dXMsICI7IikgKyAiIi5jb25jYXQocGF0aWVudC5kYXRlT2ZCaXJ0aCwgIjsiKS5jb25jYXQocGF0aWVudC5jaXR5LCAiOyIpLmNvbmNhdChwYXRpZW50LmVtYWlsLCAiOyIpLmNvbmNhdChwYXRpZW50LnBob25lTnVtYmVyLCAiOyIpLmNvbmNhdChwYXRpZW50LnN0cmVldCwgIjsiKSArICIiLmNvbmNhdChwYXRpZW50LmhvdXNlTnVtYmVyLCAiOyIpLmNvbmNhdChwYXRpZW50LmNpdHksICI7IikuY29uY2F0KHBhdGllbnQuaW5zdXJhbmNlQ29tcGFueSwgIjsiKS5jb25jYXQocGF0aWVudC5pbnN1cmFuY2VNZW1iZXJzaGlwTnVtYmVyKTsKICAgICAgICAgIH0pLmpvaW4oJ1xuJyk7CiAgICAgICAgICB2YXIgZmlsZW5hbWUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVlfTU1fREQnKSArICdfcGF0aWVudGVuX2V4cG9ydC5jc3YnOwogICAgICAgICAgZG93bmxvYWRDc3YoaGVhZGVyICsgJ1xuJyArIHBhdGllbnRzLCBmaWxlbmFtZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgIHZhciBub3RpZmljYXRpb24gPSB7CiAgICAgICAgICAgIG1lc3NhZ2U6ICdGZWhsZXIgYmVpbSBMYWRlbiBkZXIgUGF0aWVudGVuZGF0ZW4uJywKICAgICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UKICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXMyLiRub3RpZmljYXRpb24uZXJyb3Iobm90aWZpY2F0aW9uKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlVGFibGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVRhYmxlQ2hhbmdlKHBhZ2luYXRpb24sIGZpbHRlcnMsIHNvcnRlcikgewogICAgICB2YXIgc29ydEtleSA9IHNvcnRlci5maWVsZCA/IHNvcnRlci5maWVsZCA6ICdsYXN0TmFtZSc7CiAgICAgIHZhciBzb3J0T3JkZXIgPSAnYXNjJzsKCiAgICAgIGlmIChzb3J0ZXIub3JkZXIgPT09ICdkZXNjZW5kJykgewogICAgICAgIHNvcnRPcmRlciA9ICdkZXNjJzsKICAgICAgfQoKICAgICAgdGhpcy5mb3JtLm9yZGVyID0gc29ydE9yZGVyOwogICAgICB0aGlzLmZvcm0ub3JkZXJCeSA9IHNvcnRLZXk7CiAgICAgIHRoaXMubG9hZFBhZ2UoKTsKICAgIH0sCiAgICBoYW5kbGVQYXRpZW50Q2xpY2s6IGZ1bmN0aW9uIGhhbmRsZVBhdGllbnRDbGljayhwYXRpZW50KSB7CiAgICAgIGlmIChwYXRpZW50LmlkKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ3BhdGllbnQtZGV0YWlsJywKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBpZDogcGF0aWVudC5pZAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY3VzdG9tUm93OiBmdW5jdGlvbiBjdXN0b21Sb3cocmVjb3JkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHsKICAgICAgICBvbjogewogICAgICAgICAgZGJsY2xpY2s6IGZ1bmN0aW9uIGRibGNsaWNrKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMzLmhhbmRsZVBhdGllbnRDbGljayhyZWNvcmQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/PatientList.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Column } from 'ant-design-vue/types/table/column'\nimport Vue from 'vue'\nimport { Patient, PatientSearchParamsDTO } from '@/api/SwaggerApi'\nimport { eventTypes } from '@/models/event-types'\nimport { downloadCsv } from '@/util/export-service'\nimport Api from '@/api'\nimport moment from 'moment'\n\nconst columnsSchema: Partial<Column>[] = [\n  {\n    title: '',\n    dataIndex: 'operation',\n    scopedSlots: {\n      customRender: ['operation'],\n    },\n  },\n  {\n    title: 'Nachname',\n    // sorter: (a, b) => a.lastName.localeCompare(b.lastName),\n    dataIndex: 'lastName',\n    key: 'lastName',\n  },\n  {\n    title: 'Vorname',\n    // sorter: (a, b) => a.firstName.localeCompare(b.firstName),\n    dataIndex: 'firstName',\n    key: 'firstName',\n  },\n  {\n    title: 'Geschlecht',\n    dataIndex: 'gender',\n    key: 'gender',\n  },\n  {\n    title: 'Status',\n    dataIndex: 'patientStatus',\n    key: 'patientStatus',\n    scopedSlots: {\n      customRender: 'patientStatus',\n    },\n    sorter: true,\n  },\n  {\n    title: 'Stadt',\n    dataIndex: 'city',\n    key: 'city',\n  },\n  {\n    title: 'E-Mail',\n    dataIndex: 'email',\n    key: 'email',\n  },\n  {\n    title: 'ID',\n    dataIndex: 'id',\n    key: 'id',\n    defaultSortOrder: 'ascend',\n  },\n]\n\ninterface SimpleForm {\n  query: string;\n  order: string;\n  orderBy: string;\n  offsetPage: number;\n  pageSize: number;\n}\n\ninterface State {\n  form: SimpleForm;\n  advancedForm: Partial<PatientSearchParamsDTO>;\n\n  [key: string]: any;\n}\n\nexport default Vue.extend({\n  name: 'PatientList',\n  data(): State {\n    return {\n      form: {\n        query: '',\n        order: 'asc',\n        orderBy: 'lastName',\n        offsetPage: 0,\n        pageSize: 10,\n      },\n      advancedForm: {\n        gender: '',\n        city: '',\n        email: '',\n        phoneNumber: '',\n        street: '',\n        houseNumber: '',\n        zip: '',\n        insuranceCompany: '',\n        insuranceMembershipNumber: '',\n        doctorId: '',\n        laboratoryId: '',\n        firstName: '',\n        lastName: '',\n        patientStatus: undefined,\n        id: '',\n      },\n      content: '',\n      count: 0,\n      currentPage: 1, // Starts at 1\n      columnsSchema,\n      data: [], // data\n      showAdvancedSearch: false,\n      eventTypes: eventTypes,\n      actualPatients: [],\n    }\n  },\n  watch: {\n    currentPage() {\n      this.loadPage()\n    },\n    '$route.query.query'() {\n      this.loadAfterUrlChange()\n    },\n  },\n  created() {\n    this.loadAfterUrlChange()\n  },\n  methods: {\n    loadAfterUrlChange() {\n      const query = this.$route.query.query\n      if (query) {\n        this.form.query = query.toString()\n      }\n      this.loadPage()\n    },\n    handleSearch() {\n      this.currentPage = 1\n      this.loadPage()\n    },\n    onShowSizeChange(current: number, pageSize: number) {\n      this.currentPage = current\n      this.advancedForm.pageSize = pageSize\n      this.loadPage()\n    },\n    loadPage() {\n      this.form.offsetPage = this.currentPage - 1\n      let countPromise\n      let queryPromise\n      if (this.showAdvancedSearch) {\n        const formValues = { ...this.form, ...this.advancedForm }\n\n        if (formValues.patientStatus) {\n          // Backend fails on empty string\n          formValues.patientStatus = undefined\n        }\n\n        countPromise = Api.api.countQueryPatientsUsingPost(formValues)\n        queryPromise = Api.api.queryPatientsUsingPost(formValues)\n      } else {\n        const query = this.form.query\n        countPromise = Api.api.countQueryPatientsSimpleUsingGet({ query })\n        queryPromise = Api.api.queryPatientsSimpleUsingPost({ ...this.form })\n      }\n\n      countPromise.then(count => {\n        this.count = count\n      })\n      queryPromise.then((result: Patient[]) => {\n        this.actualPatients = result\n      }).catch(error => {\n        console.error(error)\n        const notification = {\n          message: 'Fehler beim Laden der Patientendaten.',\n          description: error.message,\n        }\n        this.$notification.error(notification)\n      })\n    },\n    toggleAdvancedSearch() {\n      this.showAdvancedSearch = !this.showAdvancedSearch\n    },\n    downloadPatients() {\n      this.form.offsetPage = this.currentPage - 1\n      let countPromise\n      let formValues: any\n      if (this.showAdvancedSearch) {\n        formValues = { ...this.form, ...this.advancedForm }\n        if (formValues.patientStatus) {\n          // Backend fails on empty string\n          formValues.patientStatus = undefined\n        }\n        countPromise = Api.api.countQueryPatientsUsingPost(formValues)\n      } else {\n        formValues = { ...this.form }\n        const query = this.form.query\n        countPromise = Api.api.countQueryPatientsSimpleUsingGet({ query })\n      }\n\n      countPromise.then(count => {\n        // Download all data that applies to the current filter\n        formValues.offsetPage = 0\n        formValues.pageSize = count\n\n        let queryPromise: Promise<Patient[]>\n        if (this.showAdvancedSearch) {\n          queryPromise = Api.api.queryPatientsUsingPost(formValues)\n        } else {\n          queryPromise = Api.api.queryPatientsSimpleUsingPost(formValues)\n        }\n\n        queryPromise.then(result => {\n          const header = 'ID,Vorname,Nachname,Geschlecht,Status,Geburtsdatum,Stadt,E-Mail;Telefonnummer;' +\n            'Straße;Hausnummer;Stadt;Versicherung;Versichertennummer;'\n          const patients = result.map((patient: Patient) =>\n            `${patient.id};${patient.firstName};${patient.lastName};${patient.gender};${patient.patientStatus};` +\n            `${patient.dateOfBirth};${patient.city};${patient.email};${patient.phoneNumber};${patient.street};` +\n            `${patient.houseNumber};${patient.city};${patient.insuranceCompany};${patient.insuranceMembershipNumber}`,\n          ).join('\\n')\n          const filename = moment().format('YYYY_MM_DD') + '_patienten_export.csv'\n          downloadCsv(header + '\\n' + patients, filename)\n        }).catch((error: Error) => {\n          console.error(error)\n          const notification = {\n            message: 'Fehler beim Laden der Patientendaten.',\n            description: error.message,\n          }\n          this.$notification.error(notification)\n        })\n      })\n    },\n    handleTableChange(pagination: any, filters: any, sorter: any) {\n      const sortKey = sorter.field ? sorter.field : 'lastName'\n      let sortOrder = 'asc'\n      if (sorter.order === 'descend') {\n        sortOrder = 'desc'\n      }\n      this.form.order = sortOrder\n      this.form.orderBy = sortKey\n      this.loadPage()\n    },\n    handlePatientClick(patient: Patient) {\n      if (patient.id) {\n        this.$router.push({ name: 'patient-detail', params: { id: patient.id } })\n      }\n    },\n    customRow(record: Patient) {\n      return {\n        on: {\n          dblclick: () => this.handlePatientClick(record),\n        },\n      }\n    },\n  },\n})\n\n"],"sourceRoot":""}]}