{"remainingRequest":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js??ref--14-3!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/SendToQuarantine.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/SendToQuarantine.vue","mtime":1589906836724},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/thread-loader/dist/cjs.js","mtime":1584795984506},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/babel-loader/lib/index.js","mtime":1584795984276},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/ts-loader/index.js","mtime":1586724162024},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js","mtime":1584795984278},{"path":"/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js","mtime":1584795993380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9ob21lL2Npcm90emtpL3Byb2plY3RzL3ZpcnVzLzFfMDExX2FfaW5mZWt0aW9uc2ZhbGxfdWViZXJtaXR0ZWxsdW5nL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL2hvbWUvY2lyb3R6a2kvcHJvamVjdHMvdmlydXMvMV8wMTFfYV9pbmZla3Rpb25zZmFsbF91ZWJlcm1pdHRlbGx1bmcvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvY2lyb3R6a2kvcHJvamVjdHMvdmlydXMvMV8wMTFfYV9pbmZla3Rpb25zZmFsbF91ZWJlcm1pdHRlbGx1bmcvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IEFwaSBmcm9tICdAL2FwaSc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgeyBnZXRQbHpzIH0gZnJvbSAnQC91dGlsL3Bsei1zZXJ2aWNlJzsKaW1wb3J0IHsgZG93bmxvYWRDc3YgfSBmcm9tICdAL3V0aWwvZXhwb3J0LXNlcnZpY2UnOwppbXBvcnQgRGF0ZUlucHV0IGZyb20gJy4uL2NvbXBvbmVudHMvRGF0ZUlucHV0LnZ1ZSc7CnZhciBjb2x1bW5zUXVhcmFudGluZXMgPSBbewogIHRpdGxlOiAnUXVhcmFudMOkbmUgYmlzJywKICBrZXk6ICd1bnRpbCcsCiAgc2NvcGVkU2xvdHM6IHsKICAgIGN1c3RvbVJlbmRlcjogJ3VudGlsJwogIH0KfSwgewogIHRpdGxlOiAnTmFtZScsCiAga2V5OiAnbmFtZScsCiAgZGF0YUluZGV4OiAncGF0aWVudCcsCiAgc2NvcGVkU2xvdHM6IHsKICAgIGN1c3RvbVJlbmRlcjogJ25hbWUnCiAgfQp9LCB7CiAgdGl0bGU6ICdFaW5nZXJlaWNodCB1bScsCiAga2V5OiAndGltZXN0bWFwJywKICBkYXRhSW5kZXg6ICd2ZXJzaW9uVGltZXN0YW1wJywKICBzY29wZWRTbG90czogewogICAgY3VzdG9tUmVuZGVyOiAndGltZXN0YW1wJwogIH0KfV07CmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICdTZW5kVG9RdWFyYW50aW5lJywKICBjb21wb25lbnRzOiB7CiAgICBEYXRlSW5wdXQ6IERhdGVJbnB1dAogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHF1YXJhbnRpbmVJbmNpZGVudHMsIHF1YXJhbnRpbmVzQnlaaXAsIF9pdGVyYXRvciwgX3N0ZXAsIF9sb29wMiwgX2xvb3AsIF9pLCBfcXVhcmFudGluZXNCeVppcDsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gQXBpLmdldFNlbGVjdGVkRm9yUXVhcmFudGluZVVzaW5nR2V0KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcXVhcmFudGluZUluY2lkZW50cyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgcXVhcmFudGluZXNCeVppcCA9IFtdOwogICAgICAgICAgICAgIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHF1YXJhbnRpbmVJbmNpZGVudHMpOwoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgX2xvb3AyID0gZnVuY3Rpb24gX2xvb3AyKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3F1YXJhbnRpbmVJbmNpZGVudCRwOwoKICAgICAgICAgICAgICAgICAgdmFyIHF1YXJhbnRpbmVJbmNpZGVudCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgICB2YXIgemlwID0gKHF1YXJhbnRpbmVJbmNpZGVudCA9PT0gbnVsbCB8fCBxdWFyYW50aW5lSW5jaWRlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcXVhcmFudGluZUluY2lkZW50JHAgPSBxdWFyYW50aW5lSW5jaWRlbnQucGF0aWVudCkgPT09IG51bGwgfHwgX3F1YXJhbnRpbmVJbmNpZGVudCRwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcXVhcmFudGluZUluY2lkZW50JHAuemlwKSB8fCAnVW5iZWthbm50JzsKICAgICAgICAgICAgICAgICAgdmFyIGJ5WmlwID0gcXVhcmFudGluZXNCeVppcC5maW5kKGZ1bmN0aW9uIChxdWFyYW50aW5lKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHF1YXJhbnRpbmUuemlwID09PSB6aXA7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgaWYgKCFieVppcCkgewogICAgICAgICAgICAgICAgICAgIGJ5WmlwID0gewogICAgICAgICAgICAgICAgICAgICAgemlwOiB6aXAsCiAgICAgICAgICAgICAgICAgICAgICBxdWFyYW50aW5lczogW10sCiAgICAgICAgICAgICAgICAgICAgICBjaXR5TmFtZTogJycKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHF1YXJhbnRpbmVzQnlaaXAucHVzaChieVppcCk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGJ5WmlwLnF1YXJhbnRpbmVzLnB1c2gocXVhcmFudGluZUluY2lkZW50KTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgX2xvb3AyKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX3RoaXMucXVhcmFudGluZXNCeVppcCA9IHF1YXJhbnRpbmVzQnlaaXA7CgogICAgICAgICAgICAgIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7CiAgICAgICAgICAgICAgICB2YXIgcXVhcmFudGluZXNGb3JaaXAgPSBfcXVhcmFudGluZXNCeVppcFtfaV07CiAgICAgICAgICAgICAgICBnZXRQbHpzKHF1YXJhbnRpbmVzRm9yWmlwLnppcCkudGhlbihmdW5jdGlvbiAocGx6cykgewogICAgICAgICAgICAgICAgICBpZiAocGx6cyAmJiBwbHpzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBxdWFyYW50aW5lc0ZvclppcC5jaXR5TmFtZSA9IHBsenNbMF0uZmllbGRzLm5vdGU7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIGZvciAoX2kgPSAwLCBfcXVhcmFudGluZXNCeVppcCA9IHF1YXJhbnRpbmVzQnlaaXA7IF9pIDwgX3F1YXJhbnRpbmVzQnlaaXAubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICAgICAgICBfbG9vcCgpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxdWFyYW50aW5lc0J5WmlwOiBbXSwKICAgICAgY29sdW1uc1F1YXJhbnRpbmVzOiBjb2x1bW5zUXVhcmFudGluZXMsCiAgICAgIGNvbmZpcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMpLAogICAgICB0b2RheTogbW9tZW50KCkKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBtb21lbnQ6IG1vbWVudCwKICAgIHNob3dQYXRpZW50OiBmdW5jdGlvbiBzaG93UGF0aWVudChwYXRpZW50SWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdwYXRpZW50LWRldGFpbCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogcGF0aWVudElkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkb3dubG9hZEFsbDogZnVuY3Rpb24gZG93bmxvYWRBbGwoKSB7CiAgICAgIHZhciBoZWFkZXIgPSAnUExaO1F1YXJhbnTDpG5lIGJpcztWb3JuYW1lO05hY2huYW1lO0FkcmVzc2UnOwogICAgICB2YXIgY29udGVudCA9ICcnOwoKICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLnF1YXJhbnRpbmVzQnlaaXApLAogICAgICAgICAgX3N0ZXAyOwoKICAgICAgdHJ5IHsKICAgICAgICB2YXIgX2xvb3AzID0gZnVuY3Rpb24gX2xvb3AzKCkgewogICAgICAgICAgdmFyIHF1YXJhbnRpbmVJbmNpZGVudHMgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICBjb250ZW50ICs9IHF1YXJhbnRpbmVJbmNpZGVudHMucXVhcmFudGluZXMubWFwKGZ1bmN0aW9uIChxdWFyYW50aW5lKSB7CiAgICAgICAgICAgIHZhciBwYXRpZW50ID0gcXVhcmFudGluZS5wYXRpZW50OwoKICAgICAgICAgICAgaWYgKHBhdGllbnQpIHsKICAgICAgICAgICAgICB2YXIgYWRkcmVzcyA9ICIiLmNvbmNhdChwYXRpZW50LnN0cmVldCwgIiAiKS5jb25jYXQocGF0aWVudC5ob3VzZU51bWJlciwgIiAiKS5jb25jYXQocGF0aWVudC56aXAsICIgIikuY29uY2F0KHBhdGllbnQuY2l0eSk7CiAgICAgICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChxdWFyYW50aW5lSW5jaWRlbnRzLnppcCwgIjsiKS5jb25jYXQobW9tZW50KHF1YXJhbnRpbmUudW50aWwpLmZvcm1hdCgnREQuTU0uWVlZWScpLCAiOyIpLmNvbmNhdChwYXRpZW50ID09PSBudWxsIHx8IHBhdGllbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhdGllbnQuZmlyc3ROYW1lLCAiOyIpLmNvbmNhdChwYXRpZW50ID09PSBudWxsIHx8IHBhdGllbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhdGllbnQubGFzdE5hbWUsICI7IikuY29uY2F0KGFkZHJlc3MpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNvbnNvbGUud2FybignUXVhcmFudGluZSB3aXRob3V0IHBhdGllbnQnKTsKICAgICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmpvaW4oJ1xuJykgKyAnXG4nOwogICAgICAgIH07CgogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICBfbG9vcDMoKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CgogICAgICB2YXIgZmlsZW5hbWUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVlfTU1fREQnKSArICdfcXVhcmFudGFlbmVfYW5vcmRudW5nLmNzdic7CiAgICAgIGRvd25sb2FkQ3N2KGhlYWRlciArICdcbicgKyBjb250ZW50LCBmaWxlbmFtZSk7CiAgICB9LAogICAgdXBkYXRlUGF0aWVudHM6IGZ1bmN0aW9uIHVwZGF0ZVBhdGllbnRzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuY29uZmlybVZpc2libGUgPSBmYWxzZTsKICAgICAgdmFyIHBhdGllbnRJZHMgPSBbXTsKCiAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5xdWFyYW50aW5lc0J5WmlwKSwKICAgICAgICAgIF9zdGVwMzsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfcXVhcmFudGluZXNCeVppcDIgPSBfc3RlcDMudmFsdWU7CiAgICAgICAgICBwYXRpZW50SWRzLnB1c2guYXBwbHkocGF0aWVudElkcywgX3RvQ29uc3VtYWJsZUFycmF5KF9xdWFyYW50aW5lc0J5WmlwMi5xdWFyYW50aW5lcy5tYXAoZnVuY3Rpb24gKHF1YXJhbnRpbmUpIHsKICAgICAgICAgICAgdmFyIF9xdWFyYW50aW5lJHBhdGllbnQ7CgogICAgICAgICAgICByZXR1cm4gKChfcXVhcmFudGluZSRwYXRpZW50ID0gcXVhcmFudGluZS5wYXRpZW50KSA9PT0gbnVsbCB8fCBfcXVhcmFudGluZSRwYXRpZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcXVhcmFudGluZSRwYXRpZW50LmlkKSB8fCAnJzsKICAgICAgICAgIH0pKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgfQoKICAgICAgdmFyIHJlcXVlc3QgPSB7CiAgICAgICAgcGF0aWVudElkczogcGF0aWVudElkcywKICAgICAgICBldmVudERhdGU6IHRoaXMuZm9ybS5nZXRGaWVsZFZhbHVlKCdldmVudERhdGUnKSA/IHRoaXMuZm9ybS5nZXRGaWVsZFZhbHVlKCdldmVudERhdGUnKS5mb3JtYXQoJ1lZWVktTU0tREQnKSA6IHVuZGVmaW5lZAogICAgICB9OwogICAgICBBcGkuc2VuZFRvUXVhcmFudGluZVVzaW5nUG9zdChyZXF1ZXN0KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgaCA9IF90aGlzMi4kY3JlYXRlRWxlbWVudDsKCiAgICAgICAgX3RoaXMyLiRzdWNjZXNzKHsKICAgICAgICAgIHRpdGxlOiAnUXVhcmFudMOkbmVuIGFrdHVhbGlzaWVydC4nLAogICAgICAgICAgY29udGVudDogaCgnZGl2Jywge30sIFtoKCdkaXYnLCAiRGllIFF1YXJhbnRceEU0bmVuIHZvbiAiLmNvbmNhdChwYXRpZW50SWRzLmxlbmd0aCwgIiBQYXRpZW50ZW4gd3VyZGVuIGFrdHVhbGlzaWVydC4iKSldKQogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIucXVhcmFudGluZXNCeVppcCA9IFtdOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICB2YXIgbm90aWZpY2F0aW9uID0gewogICAgICAgICAgbWVzc2FnZTogJ0ZlaGxlciBiZWltIEFrdHVhbGlzaWVyZW4gZGVyIFF1YXJhbnTDpG5lbicsCiAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZQogICAgICAgIH07CgogICAgICAgIF90aGlzMi4kbm90aWZpY2F0aW9uLmVycm9yKG5vdGlmaWNhdGlvbik7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dNb2RhbDogZnVuY3Rpb24gc2hvd01vZGFsKCkgewogICAgICB0aGlzLmNvbmZpcm1WaXNpYmxlID0gdHJ1ZTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cirotzki/projects/virus/1_011_a_infektionsfall_uebermittellung/client/src/views/SendToQuarantine.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Api from '@/api'\nimport Vue from 'vue'\nimport { QuarantineIncident } from '@/api/SwaggerApi'\nimport { Column } from 'ant-design-vue/types/table/column'\nimport moment from 'moment'\nimport { getPlzs } from '@/util/plz-service'\nimport { downloadCsv } from '@/util/export-service'\nimport DateInput from '../components/DateInput.vue'\n\nconst columnsQuarantines = [\n  {\n    title: 'Quarantäne bis',\n    key: 'until',\n    scopedSlots: {\n      customRender: 'until',\n    },\n  },\n  {\n    title: 'Name',\n    key: 'name',\n    dataIndex: 'patient',\n    scopedSlots: {\n      customRender: 'name',\n    },\n  },\n  {\n    title: 'Eingereicht um',\n    key: 'timestmap',\n    dataIndex: 'versionTimestamp',\n    scopedSlots: {\n      customRender: 'timestamp',\n    },\n  },\n]\n\ninterface QuarantinesForZip {\n  zip: string\n  quarantines: QuarantineIncident[]\n  cityName: string\n}\n\ninterface State {\n  quarantinesByZip: QuarantinesForZip[]\n  columnsQuarantines: Partial<Column>[]\n  confirmVisible: boolean // eslint-disable-next-line\n  form: any; \n  today: moment.Moment\n}\n\nexport default Vue.extend({\n  name: 'SendToQuarantine',\n  components: {\n    DateInput,\n  },\n  async created() {\n    const quarantineIncidents = await Api.getSelectedForQuarantineUsingGet()\n    const quarantinesByZip: QuarantinesForZip[] = []\n    for (const quarantineIncident of quarantineIncidents) {\n      const zip = quarantineIncident?.patient?.zip || 'Unbekannt'\n      let byZip = quarantinesByZip.find((quarantine) => quarantine.zip === zip)\n      if (!byZip) {\n        byZip = {\n          zip: zip,\n          quarantines: [],\n          cityName: '',\n        }\n        quarantinesByZip.push(byZip)\n      }\n      byZip.quarantines.push(quarantineIncident)\n    }\n    this.quarantinesByZip = quarantinesByZip\n    for (const quarantinesForZip of quarantinesByZip) {\n      getPlzs(quarantinesForZip.zip).then((plzs) => {\n        if (plzs && plzs.length > 0) {\n          quarantinesForZip.cityName = plzs[0].fields.note\n        }\n      })\n    }\n  },\n  data(): State {\n    return {\n      quarantinesByZip: [],\n      columnsQuarantines: columnsQuarantines,\n      confirmVisible: false,\n      form: this.$form.createForm(this),\n      today: moment(),\n    }\n  },\n  methods: {\n    moment,\n    showPatient(patientId: string) {\n      this.$router.push({ name: 'patient-detail', params: { id: patientId } })\n    },\n    downloadAll() {\n      const header = 'PLZ;Quarantäne bis;Vorname;Nachname;Adresse'\n      let content = ''\n      for (const quarantineIncidents of this.quarantinesByZip) {\n        content +=\n          quarantineIncidents.quarantines\n            .map((quarantine) => {\n              const patient = quarantine.patient\n              if (patient) {\n                const address = `${patient.street} ${patient.houseNumber} ${patient.zip} ${patient.city}`\n                return `${quarantineIncidents.zip};${moment(\n                  quarantine.until\n                ).format('DD.MM.YYYY')};${patient?.firstName};${\n                  patient?.lastName\n                };${address}`\n              } else {\n                console.warn('Quarantine without patient')\n                return ''\n              }\n            })\n            .join('\\n') + '\\n'\n      }\n      const filename =\n        moment().format('YYYY_MM_DD') + '_quarantaene_anordnung.csv'\n      downloadCsv(header + '\\n' + content, filename)\n    },\n    updatePatients() {\n      this.confirmVisible = false\n      const patientIds: string[] = []\n      for (const quarantinesByZip of this.quarantinesByZip) {\n        patientIds.push(\n          ...quarantinesByZip.quarantines.map(\n            (quarantine) => quarantine.patient?.id || ''\n          )\n        )\n      }\n      const request = {\n        patientIds: patientIds,\n        eventDate: this.form.getFieldValue('eventDate')\n          ? this.form.getFieldValue('eventDate').format('YYYY-MM-DD')\n          : undefined,\n      }\n      Api.sendToQuarantineUsingPost(request)\n        .then(() => {\n          const h = this.$createElement\n          this.$success({\n            title: 'Quarantänen aktualisiert.',\n            content: h('div', {}, [\n              h(\n                'div',\n                `Die Quarantänen von ${patientIds.length} Patienten wurden aktualisiert.`\n              ),\n            ]),\n          })\n          this.quarantinesByZip = []\n        })\n        .catch((error: Error) => {\n          const notification = {\n            message: 'Fehler beim Aktualisieren der Quarantänen',\n            description: error.message,\n          }\n          this.$notification.error(notification)\n        })\n    },\n    showModal() {\n      this.confirmVisible = true\n    },\n  },\n})\n"],"sourceRoot":""}]}