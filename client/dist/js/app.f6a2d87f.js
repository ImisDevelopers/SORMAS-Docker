(function(e){function t(t){for(var a,s,o=t[0],l=t[1],u=t[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0414":function(e,t,n){},"0eab":function(e,t,n){"use strict";var a=n("0414"),r=n.n(a);r.a},"1eca":function(e,t,n){"use strict";var a=n("aa7c"),r=n.n(a);r.a},"285b":function(e,t,n){},"2d13":function(e,t,n){"use strict";var a=n("9fa2"),r=n.n(a);r.a},"3d36":function(e,t,n){},"3ed9":function(e,t,n){},4155:function(e,t,n){},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="4678"},4972:function(e,t,n){"use strict";var a=n("73eb"),r=n.n(a);r.a},"4ec5":function(e,t,n){},"6af3":function(e,t,n){"use strict";var a=n("4155"),r=n.n(a);r.a},"6c1d":function(e,t,n){"use strict";var a=n("a27b"),r=n.n(a);r.a},"6ced":function(e,t,n){"use strict";var a=n("82c4"),r=n.n(a);r.a},"6e93":function(e,t,n){"use strict";var a=n("3d36"),r=n.n(a);r.a},7215:function(e,t,n){},"73eb":function(e,t,n){},"82c4":function(e,t,n){},"950d":function(e,t,n){"use strict";var a=n("ed4c"),r=n.n(a);r.a},9649:function(e,t,n){},"9c4e":function(e,t,n){"use strict";var a=n("d7a4"),r=n.n(a);r.a},"9fa2":function(e,t,n){},a07b:function(e,t,n){e.exports=n.p+"img/Solution-Enabler.bb2cb727.png"},a27b:function(e,t,n){},a27bc:function(e,t,n){"use strict";var a=n("9649"),r=n.n(a);r.a},a4ca:function(e,t,n){},aa7c:function(e,t,n){},aac0:function(e,t,n){},b776:function(e,t,n){"use strict";var a=n("285b"),r=n.n(a);r.a},c090:function(e,t,n){"use strict";var a=n("aac0"),r=n.n(a);r.a},c83a:function(e,t,n){"use strict";var a=n("7215"),r=n.n(a);r.a},c89d:function(e,t,n){"use strict";var a=n("3ed9"),r=n.n(a);r.a},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("f23d"),r=(n("202f"),n("2b0e")),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],o=(n("fce8"),n("2877")),l={},u=Object(o["a"])(l,i,s,!1,null,null,null),c=u.exports,d=(n("4de4"),n("caad"),n("45fc"),n("2532"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"max-width":"1020px",margin:"0 auto",padding:"1rem"}},[n("ChangePasswordForm",{attrs:{visible:e.showChangePasswordForm},on:{cancel:function(){e.showChangePasswordForm=!1},create:function(){e.showChangePasswordForm=!1}}}),e.institution?n("AddOrChangeUserForm",{attrs:{visible:e.showAddOrChangeUserForm,user:e.addOrChangeUser},on:{cancel:function(){e.showAddOrChangeUserForm=!1},create:function(){e.showAddOrChangeUserForm=!1}}}):e._e(),e.institution?n("ChangeInstitutionForm",{attrs:{visible:e.showChangeInstitutionForm,institution:e.institution},on:{cancel:function(){e.showChangeInstitutionForm=!1},create:function(){e.showChangeInstitutionForm=!1}}}):e._e(),n("a-row",{attrs:{gutter:8}},[n("a-col",{attrs:{span:24,md:12}},[e.user?n("a-card",{attrs:{title:"Benutzer",extra:e.user.id,align:"left"}},[n("div",[n("table",[n("tr",[n("td",[e._v("Benutzername:")]),n("td",[e._v(e._s(e.user.username))])]),n("tr",[n("td",[e._v("Name:")]),n("td",[e._v(e._s(e.user.firstName)+" "+e._s(e.user.lastName))])]),n("tr",[n("td",[e._v("Rollen:")]),n("td",e._l(e.user.authorities,(function(t){return n("div",{key:t.authority},[e._v(" "+e._s(e.roleMapping[t.authority])+" ")])})),0)])]),n("a-button",{attrs:{type:"primary",icon:"edit"},on:{click:function(t){e.showChangePasswordForm=!0}}},[e._v("Passwort wechseln")])],1)]):e._e()],1),n("a-col",{attrs:{span:24,md:12}},[e.institution?n("a-card",{attrs:{title:"Institution",extra:e.institution.id,align:"left"}},[n("table",[n("tr",[n("td",[e._v("Name:")]),n("td",[e._v(e._s(e.institution.name))])]),n("tr",[n("td",[e._v("Typ:")]),n("td",[e._v(e._s(e.typeMapping[e.institution.institutionType]))])]),n("tr",[n("td",[e._v("Adresse:")]),n("td",[e._v(" "+e._s(e.institution.street)+" "+e._s(e.institution.houseNumber)),n("br"),e._v(e._s(e.institution.zip)+" "+e._s(e.institution.city)+" ")])]),n("tr",[n("td",[e._v("E-Mail:")]),n("td",[e._v(e._s(e.institution.email))])]),n("tr",[n("td",[e._v("Telefonnummer:")]),n("td",[e._v(e._s(e.institution.phoneNumber))])]),n("tr",[n("td",[e._v("Kommentar:")]),n("td",[e._v(e._s(e.institution.comment))])])]),e.isAdmin?n("a-button",{attrs:{type:"primary",icon:"edit"},on:{click:function(t){e.showChangeInstitutionForm=!0}}},[e._v(" Bearbeiten ")]):e._e()],1):e._e()],1)],1),n("a-card",{staticStyle:{"margin-top":"8px"},attrs:{title:"Benutzer der Institution",align:"left"}},[n("div",{staticStyle:{display:"flex","justify-content":"flex-end","padding-bottom":"5px"}},[e.isAdmin?n("a-button",{attrs:{type:"primary",icon:"user-add"},on:{click:function(t){return e.addUser()}}},[e._v(" Hinzufügen ")]):e._e()],1),n("a-table",{attrs:{columns:e.tableColumns,dataSource:e.institutionUsers,rowKey:"email"},scopedSlots:e._u([{key:"authorities",fn:function(t){return n("div",{},[e._v(" "+e._s(e.roleMapping[t[1].authority])+" ")])}},{key:"operation",fn:function(t,a){return n("div",{},[e.isAdmin?n("a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"edit"},on:{click:function(){return e.changeUser(a)}}}):e._e(),n("a-popconfirm",{attrs:{title:"Soll der Benutzer wirklich gelöscht werden?"},on:{confirm:function(){return e.deleteUser(a)}}},[e.isAdmin?n("a-button",{attrs:{type:"primary",icon:"delete"}}):e._e()],1)],1)}}])})],1)],1)}),m=[],p=n("5530"),f=(n("96cf"),n("1da1")),h=n("bee2"),v=n("2caf"),g=n("262e"),b=n("d4ec"),y=(n("5d41"),n("99af"),n("a15b"),n("d81d"),n("b64b"),n("d3b7"),n("15fd")),x=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.baseUrl,r=n.baseApiParams,i=n.securityWorker;Object(b["a"])(this,e),this.baseUrl="//localhost/",this.securityData=null,this.securityWorker=function(){},this.baseApiParams={credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=function(e){t.securityData=e},this.safeParseResponse=function(e){return e.json().then((function(e){return e})).catch((function(t){return e.text}))},this.request=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.secure,i=Object(y["a"])(a,["secure"]),s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return fetch("".concat(t.baseUrl).concat(e),Object(p["a"])({},t.mergeRequestOptions(i,(o||r)&&t.securityWorker(t.securityData)),{method:n,body:s?JSON.stringify(s):null})).then(function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.safeParseResponse(n);case 2:if(a=e.sent,n.ok){e.next=5;break}throw a;case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},this.baseUrl=a||this.baseUrl,this.baseApiParams=r||this.baseApiParams,this.securityWorker=i||this.securityWorker}return Object(h["a"])(e,[{key:"addQueryParam",value:function(e,t){return encodeURIComponent(t)+"="+encodeURIComponent(Array.isArray(e[t])?e[t].join(","):e[t])}},{key:"addQueryParams",value:function(e){var t=this,n=e||{},a=Object.keys(n).filter((function(e){return"undefined"!==typeof n[e]}));return 0===a.length?"":"?".concat(a.map((function(e){return t.addQueryParam(n,e)})).join("&"))}},{key:"mergeRequestOptions",value:function(e,t){return Object(p["a"])({},this.baseApiParams,{},e,{},t||{},{headers:Object(p["a"])({},this.baseApiParams.headers||{},{},e.headers||{},{},t&&t.headers||{})})}}]),e}(),S=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(b["a"])(this,n),e=t.apply(this,arguments),e.actuator={linksUsingGet:function(t){return e.request("/actuator","GET",t,null,!0)},handleUsingGet1:function(t,n){return e.request("/actuator/health","GET",n,t,!0)},handleUsingGet:function(t,n){return e.request("/actuator/health/**","GET",n,t,!0)},handleUsingGet2:function(t,n){return e.request("/actuator/info","GET",n,t,!0)}},e.api={signInUserUsingPost:function(t,n){return e.request("/api/auth","POST",n,t,!0)},getInstitutionUsingGet:function(t){return e.request("/api/auth/institution","GET",t,null,!0)},registerInstitutionUsingPost:function(t,n){return e.request("/api/auth/register/institution","POST",n,t,!0)},registerUserUsingPost:function(t,n){return e.request("/api/auth/register/user","POST",n,t,!0)},currentUserUsingGet:function(t){return e.request("/api/auth/user","GET",t,null,!0)},changePasswordUsingPost:function(t,n){return e.request("/api/auth/user/change-password","POST",n,t,!0)},addScheduledEventUsingPost:function(t,n){return e.request("/api/doctor/create_appointment","POST",n,t,!0)},createExposureContactUsingPost:function(t,n){return e.request("/api/exposure-contacts","POST",n,t,!0)},updateExposureContactUsingPut:function(t,n){return e.request("/api/exposure-contacts","PUT",n,t,!0)},getExposureSourceContactsForPatientUsingGet:function(t,n){return e.request("/api/exposure-contacts/by-contact/".concat(t),"GET",n,null,!0)},getExposureContactsForPatientUsingGet:function(t,n){return e.request("/api/exposure-contacts/by-source/".concat(t),"GET",n,null,!0)},getExposureContactUsingGet:function(t,n){return e.request("/api/exposure-contacts/".concat(t),"GET",n,null,!0)},removeExposureContactUsingDelete:function(t,n){return e.request("/api/exposure-contacts/".concat(t),"DELETE",n,null,!0)},getPatientCurrentUsingGet:function(t,n){return e.request("/api/incidents/patient/".concat(t),"GET",n,null,!0)},getPatientLogUsingGet:function(t,n){return e.request("/api/incidents/patient/".concat(t,"/log"),"GET",n,null,!0)},getSelectedForQuarantineUsingGet:function(t){return e.request("/api/incidents/selected-for-quarantine","GET",t,null,!0)},getIncidentUsingGet:function(t,n){return e.request("/api/incidents/".concat(t),"GET",n,null,!0)},getLogUsingGet:function(t,n){return e.request("/api/incidents/".concat(t,"/log"),"GET",n,null,!0)},getPatientCurrentByTypeUsingGet:function(t,n,a){return e.request("/api/incidents/".concat(n,"/patient/").concat(t),"GET",a,null,!0)},getPatientLogByTypeUsingGet:function(t,n,a){return e.request("/api/incidents/".concat(n,"/patient/").concat(t,"/log"),"GET",a,null,!0)},createInstitutionUsingPost:function(t,n){return e.request("/api/institutions","POST",n,t,!0)},updateInstitutionUsingPut:function(t,n){return e.request("/api/institutions","PUT",n,t,!0)},getAllDoctorsUsingGet:function(t){return e.request("/api/institutions/doctors","GET",t,null,!0)},getAllLaboratoriesUsingGet:function(t){return e.request("/api/institutions/laboratories","GET",t,null,!0)},queryAllLaboratoriesUsingGet:function(t,n){return e.request("/api/institutions/laboratories/query".concat(e.addQueryParams(t)),"GET",n,null,!0)},createTestForPatientUsingPost:function(t,n){return e.request("/api/labtests","POST",n,t,!0)},getLabTestForPatientUsingGet:function(t,n){return e.request("/api/labtests/patient/".concat(t),"GET",n,null,!0)},queryLabTestsByIdUsingGet:function(t,n){return e.request("/api/labtests/query".concat(e.addQueryParams(t)),"GET",n,null,!0)},updateTestStatusUsingPut:function(t,n,a){return e.request("/api/labtests/".concat(t),"PUT",a,n,!0)},getAllPatientsUsingGet:function(t){return e.request("/api/patients","GET",t,null,!0)},addPatientUsingPost:function(t,n){return e.request("/api/patients","POST",n,t,!0)},updatePatientUsingPut:function(t,n){return e.request("/api/patients","PUT",n,t,!0)},createOrderTestEventUsingPost:function(t,n){return e.request("/api/patients/event/order-test".concat(e.addQueryParams(t)),"POST",n,null,!0)},sendToQuarantineUsingPost:function(t,n){return e.request("/api/patients/quarantine","POST",n,t,!0)},requestQuarantineUsingPost:function(t,n,a){return e.request("/api/patients/quarantine/".concat(t),"POST",a,n,!0)},queryPatientsUsingPost:function(t,n){return e.request("/api/patients/query","POST",n,t,!0)},queryPatientsSimpleUsingPost:function(t,n){return e.request("/api/patients/query-simple","POST",n,t,!0)},countQueryPatientsSimpleUsingGet:function(t,n){return e.request("/api/patients/query-simple/count".concat(e.addQueryParams(t)),"GET",n,null,!0)},countQueryPatientsUsingPost:function(t,n){return e.request("/api/patients/query/count","POST",n,t,!0)},getPatientForIdUsingGet:function(t,n){return e.request("/api/patients/".concat(t),"GET",n,null,!0)},queryPermissionsUsingPost:function(t,n){return e.request("/api/permissions","POST",n,t,!0)},getForZipUsingGet:function(t,n){return e.request("/api/stats".concat(e.addQueryParams(t)),"GET",n,null,!0)},getInstitutionUsersUsingGet:function(t){return e.request("/api/users","GET",t,null,!0)},updateInstitutionUserUsingPut:function(t,n){return e.request("/api/users".concat(e.addQueryParams(t)),"PUT",n,null,!0)},deleteInstitutionUserUsingDelete:function(t,n){return e.request("/api/users/".concat(t),"DELETE",n,null,!0)}},e.error={errorHtmlUsingGet:function(t){return e.request("/error","GET",t,null,!0)},errorHtmlUsingHead:function(t){return e.request("/error","HEAD",t,null,!0)},errorHtmlUsingPost:function(t){return e.request("/error","POST",t,null,!0)},errorHtmlUsingPut:function(t){return e.request("/error","PUT",t,null,!0)},errorHtmlUsingDelete:function(t){return e.request("/error","DELETE",t,null,!0)},errorHtmlUsingOptions:function(t){return e.request("/error","OPTIONS",t,null,!0)},errorHtmlUsingPatch:function(t){return e.request("/error","PATCH",t,null,!0)}},e}return n}(x),w=window.location.origin;(location.host.includes("localhost")||location.host.includes("127.0.0.1"))&&(w="http://localhost:80");var _={credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},k={apiInstance:new S({baseUrl:w,baseApiParams:_})};function I(e){var t={get:function(e,t,n){return null!==k.apiInstance.api[t]?k.apiInstance.api[t]:Reflect.get(e,t,n)}};return new Proxy(e,t)}function O(e){k.apiInstance=new S({baseUrl:w,baseApiParams:Object(p["a"])({},_,{headers:Object(p["a"])({},_.headers,{Authorization:"Bearer "+e})})})}function E(){k.apiInstance=new S({baseUrl:w})}var P=I(k.apiInstance.api),C={showAllViews:!1},T=(n("4160"),n("fb6a"),n("ac1f"),n("25f0"),n("5319"),n("1276"),n("159b"),n("53ca"));function N(e){var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(n).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)}var R=n("675f"),D=function e(){Object(b["a"])(this,e),this.jwtToken=void 0,this.jwtData=void 0,this.user=void 0,this.institution=void 0,this.institutionUsers=void 0},A=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(b["a"])(this,n),t.apply(this,arguments)}return Object(h["a"])(n,[{key:"isAuthenticated",value:function(){return!!this.state.jwtToken}},{key:"institution",value:function(){return this.state.institution}},{key:"roles",value:function(){var e;return(null===(e=this.state.jwtData)||void 0===e?void 0:e.roles)||[]}},{key:"routes",value:function(){var e=this;return vr.filter((function(t){return C.showAllViews||e.getters.roles().some((function(e){var n,a;return null===(n=t.meta)||void 0===n||null===(a=n.navigationInfo)||void 0===a?void 0:a.authorities.includes(e)}))}))}},{key:"institutionUsers",value:function(){return this.state.institutionUsers||[]}}]),n}(R["b"]),j=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(b["a"])(this,n),t.apply(this,arguments)}return Object(h["a"])(n,[{key:"loginSuccess",value:function(e){this.state.jwtToken=e,this.state.jwtData=N(e),O(e)}},{key:"logoutSuccess",value:function(){this.state.jwtToken=void 0,this.state.jwtData=void 0,E()}},{key:"setAuthenticatedInstitution",value:function(e){this.state.institution=e}},{key:"setInstitutionUsers",value:function(e){this.state.institutionUsers=e}},{key:"setUser",value:function(e){this.state.user=e}}]),n}(R["d"]),F=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(b["a"])(this,n),t.apply(this,arguments)}return Object(h["a"])(n,[{key:"login",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.signInUserUsingPost({username:t.username,password:t.password});case 2:n=e.sent.jwtToken,n&&(this.commit("loginSuccess",n),this.dispatch("getAuthenticatedInstitution"),this.dispatch("getAuthenticatedUser"),window.localStorage.setItem("token",""+n),br.push({name:"app"}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.commit("logoutSuccess"),window.localStorage.clear(),br.push({name:"login"});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=window.localStorage.token,t&&(n=N(t),a=new Date,r=new Date(1e3*n.exp),r>a?(this.commit("loginSuccess",t),this.dispatch("getAuthenticatedInstitution"),this.dispatch("getAuthenticatedUser")):window.localStorage.clear());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAuthenticatedInstitution",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.getInstitutionUsingGet();case 2:t=e.sent,this.commit("setAuthenticatedInstitution",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getInstitutionUsers",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.getInstitutionUsersUsingGet();case 2:t=e.sent,this.commit("setInstitutionUsers",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAuthenticatedUser",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.currentUserUsingGet();case 2:t=e.sent,this.commit("setUser",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateInstitution",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.updateInstitutionUsingPut(t);case 2:n=e.sent,this.commit("setAuthenticatedInstitution",n);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"registerUserForInstitution",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.registerUserUsingPost(t);case 2:e.sent,this.dispatch("getInstitutionUsers");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteUserForInstitution",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.deleteInstitutionUserUsingDelete(t);case 2:e.sent,this.dispatch("getInstitutionUsers");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateUserForInstitution",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.updateInstitutionUserUsingPut(t);case 2:this.dispatch("getInstitutionUsers");case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"changePassword",value:function(e){return P.changePasswordUsingPost(e)}}]),n}(R["a"]),U=new R["c"]({state:D,getters:A,mutations:j,actions:F}),q=Object(R["e"])(U),z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{visible:e.visible,title:"Passwort ändern",okText:"Passwort ändern"},on:{cancel:function(){e.$emit("cancel")},ok:e.handleChangePassword}},[n("a-form",{attrs:{form:e.changePasswordForm,layout:"vertical"}},[n("a-form-item",{attrs:{label:"Altes Passwort"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["oldPassword",{rules:[{required:!0}]}],expression:"['oldPassword', { rules: [{ required: true }] }]"}]})],1),n("a-form-item",{attrs:{label:"Neues Passwort"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["newPassword",{rules:[{required:!0}]}],expression:"['newPassword', { rules: [{ required: true }] }]"}],attrs:{type:"password"},on:{change:e.handlePasswordRetryChangeNew}})],1),n("a-form-item",{attrs:{label:"Neues Passwort wiederholen",help:e.passwordRetry.errorMsg,"validate-status":e.passwordRetry.validateStatus}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["newPasswordRetry",{rules:[{required:!0}]}],expression:"['newPasswordRetry', { rules: [{ required: true }] }]"}],attrs:{type:"password"},on:{change:e.handlePasswordRetryChangeNewRetry}})],1)],1)],1)},L=[],B=r["a"].extend({name:"Account",props:["visible"],data:function(){return{changePasswordForm:this.$form.createForm(this,{name:"change_password"}),passwordRetry:{}}},methods:Object(p["a"])({},q.mapActions({changePassword:"changePassword"}),{handleChangePassword:function(){var e=this;this.changePasswordForm.validateFields((function(t,n){t?console.warn(t):e.changePassword(Object(p["a"])({},n)).then((function(){e.$notification.success({message:"Passwort erfolgreich geändert",description:""}),e.changePasswordForm.resetFields(),e.$emit("create")})).catch((function(t){e.$notification.error({message:"Passwort konnte nicht geändert werden.",description:t.message})}))}))},handlePasswordRetryChangeNew:function(e){var t=this.changePasswordForm.getFieldValue("newPasswordRetry"),n=e.target.value;this.handlePasswordRetryChange(n,t)},handlePasswordRetryChangeNewRetry:function(e){var t=e.target.value,n=this.changePasswordForm.getFieldValue("newPassword");this.handlePasswordRetryChange(n,t)},handlePasswordRetryChange:function(e,t){this.passwordRetry=e===t?{validateStatus:"success",errorMsg:null}:{validateStatus:"error",errorMsg:"Passwörter stimmen nicht überein"}}})}),V=B,$=Object(o["a"])(V,z,L,!1,null,"7fc69566",null),M=$.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{visible:e.visible,title:"Institution ändern",okText:"Speichern",cancelText:"Abbrechen"},on:{cancel:function(){e.$emit("cancel")},ok:e.save}},[n("a-form",{attrs:{form:e.form,layout:"vertical"}},[n("a-form-item",{attrs:{label:"Name"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"Bitte Namen eingeben"}],initialValue:e.institution.name}],expression:"[\n          'name',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte Namen eingeben',\n              },\n            ],\n            initialValue: institution.name,\n          },\n        ]"}]})],1),n("a-form-item",{attrs:{label:"E-Mail"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{initialValue:e.institution.email}],expression:"['email', { initialValue: institution.email }]"}]})],1),n("a-form-item",{attrs:{label:"Telefonnummer"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phoneNumber",{initialValue:e.institution.phoneNumber}],expression:"[\n          'phoneNumber',\n          { initialValue: institution.phoneNumber },\n        ]"}]})],1),n("div",{staticStyle:{display:"flex"}},[n("a-form-item",{attrs:{label:"Straße"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["street",{rules:[{required:!0,message:"Bitte Straße eingeben"}],initialValue:e.institution.street}],expression:"[\n            'street',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte Straße eingeben',\n                },\n              ],\n              initialValue: institution.street,\n            },\n          ]"}]})],1),n("a-form-item",{staticStyle:{flex:"0 0 125px","margin-left":"15px"},attrs:{label:"Hausnummer"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["houseNumber",{rules:[{required:!0,message:"Bitte Hausnummer eingeben"}],initialValue:e.institution.houseNumber}],expression:"[\n            'houseNumber',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte Hausnummer eingeben',\n                },\n              ],\n              initialValue: institution.houseNumber,\n            },\n          ]"}]})],1)],1),n("div",{staticStyle:{display:"flex"}},[n("PlzInput",{staticStyle:{"margin-right":"15px"},attrs:{decorator:["zip",{rules:[{required:!0,message:"Bitte PLZ eingeben"}],initialValue:e.institution.zip}]},on:{plzChanged:e.setPLZ}}),n("a-form-item",{attrs:{label:"Stadt"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["city",{rules:[{required:!0,message:"Bitte Stadt eingeben"}],initialValue:e.institution.city}],expression:"[\n            'city',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte Stadt eingeben',\n                },\n              ],\n              initialValue: institution.city,\n            },\n          ]"}]})],1)],1),n("a-form-item",{attrs:{label:"Kommentar"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["comment",{initialValue:e.institution.comment}],expression:"['comment', { initialValue: institution.comment }]"}]})],1)],1)],1)},Y=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form-item",{attrs:{label:"PLZ"}},[n("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:e.decorator,expression:"decorator"}],on:{search:e.handlePlzSearch,select:e.handlePlzSelection}},[n("template",{slot:"dataSource"},e._l(e.plzs,(function(t){return n("a-select-option",{key:t.fields.plz},[e._v(" "+e._s(t.fields.plz)+" "+e._s(t.fields.note)+" ")])})),1)],2)],1)},K=[],Q=(n("7db0"),function(e){return e.json().then((function(e){return e})).catch((function(t){return e.text}))});function Z(e){return W.apply(this,arguments)}function W(){return W=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://public.opendatasoft.com/api/records/1.0/search/?dataset=postleitzahlen-deutschland&facet=plz&q="+t,{method:"GET"}).then(function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:if(n=e.sent,t.ok){e.next=5;break}throw n;case 5:return e.abrupt("return",n.records);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}var J=r["a"].extend({name:"PlzInput",props:["decorator","form"],data:function(){return{plzs:[],currentSearch:""}},methods:{handlePlzSearch:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.currentSearch=e,e&&!(e.length<2)){n.next=5;break}t.plzs=[],n.next=11;break;case 5:return n.next=7,Z(e);case 7:if(a=n.sent,t.currentSearch===e){n.next=10;break}return n.abrupt("return");case 10:1===a.length?(t.setPLZ(a[0]),t.plzs=[]):t.plzs=a;case 11:case"end":return n.stop()}}),n)})))()},handlePlzSelection:function(e){var t=this.plzs.find((function(t){return t.fields.plz===e}));t&&this.setPLZ(t)},setPLZ:function(e){this.$emit("plzChanged",e),e.fields.note=""}}}),X=J,ee=Object(o["a"])(X,H,K,!1,null,"1ff886be",null),te=ee.exports,ne=r["a"].extend({name:"Account",props:["visible","institution"],components:{PlzInput:te},data:function(){return{form:this.$form.createForm(this,{name:"institution"})}},methods:Object(p["a"])({},q.mapActions({updateInstitution:"updateInstitution"}),{setPLZ:function(e){this.form.setFieldsValue({zip:e.fields.plz,city:e.fields.note})},save:function(){var e=this;this.form.validateFields((function(t,n){t?console.warn(t):e.updateInstitution(Object(p["a"])({},n,{institutionType:e.institution.institutionType,id:e.institution.id})).then((function(){e.$notification.success({message:"Institution erfolgreich geändert",description:""}),e.form.resetFields(),e.$emit("create")})).catch((function(t){e.$notification.error({message:"Institution konnte nicht geändert werden.",description:t.message})}))}))}})}),ae=ne,re=Object(o["a"])(ae,G,Y,!1,null,"118664d8",null),ie=re.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{visible:e.visible,title:"Nutzer "+(e.isNewUser?"hinzufügen":"bearbeiten"),okText:e.isNewUser?"Anlegen":"Speichern",cancelText:"Abbrechen"},on:{cancel:function(){e.$emit("cancel")},ok:e.save}},[n("a-form",{attrs:{form:e.form,layout:"vertical"}},[n("a-form-item",{attrs:{label:"Benutzername"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"Bitte Benutzernamen eingeben"}],initialValue:e.user.username}],expression:"[\n          'username',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte Benutzernamen eingeben',\n              },\n            ],\n            initialValue: user.username,\n          },\n        ]"}]})],1),n("a-form-item",{attrs:{label:"Vorname"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["firstName",{rules:[{required:!0,message:"Bitte Vornamen eingeben"}],initialValue:e.user.firstName}],expression:"[\n          'firstName',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte Vornamen eingeben',\n              },\n            ],\n            initialValue: user.firstName,\n          },\n        ]"}]})],1),n("a-form-item",{attrs:{label:"Nachname"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lastName",{rules:[{required:!0,message:"Bitte Nachnamen eingeben"}],initialValue:e.user.lastName}],expression:"[\n          'lastName',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte Nachnamen eingeben',\n              },\n            ],\n            initialValue: user.lastName,\n          },\n        ]"}]})],1),e.isNewUser?n("a-form-item",{attrs:{label:"Passwort"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"Bitte Passwort eingeben"}],initialValue:""}],expression:"[\n          'password',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte Passwort eingeben',\n              },\n            ],\n            initialValue: '',\n          },\n        ]"}],attrs:{type:"password"}})],1):e._e(),n("a-form-item",{attrs:{label:"Rolle"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["userRole",{rules:[{required:!0,message:"Bitte Benutzerrolle eingeben"}],initialValue:e.user.userRole}],expression:"[\n          'userRole',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte Benutzerrolle eingeben',\n              },\n            ],\n            initialValue: user.userRole,\n          },\n        ]"}]},[n("a-select-option",{attrs:{value:"USER_ROLE_ADMIN"}},[e._v("Admin")]),n("a-select-option",{attrs:{value:"USER_ROLE_REGULAR"}},[e._v("Regular")])],1)],1)],1)],1)},oe=[],le=r["a"].extend({name:"Account",props:["visible","user"],components:{},data:function(){return{form:this.$form.createForm(this,{name:"user"}),isNewUser:!1}},watch:{user:function(){this.isNewUser=!this.user.id}},methods:Object(p["a"])({},q.mapActions({registerUserForInstitution:"registerUserForInstitution",updateUserForInstitution:"updateUserForInstitution"}),{save:function(){var e=this;this.form.validateFields((function(t,n){t?console.warn(t):e.isNewUser?e.registerUserForInstitution(Object(p["a"])({},n)).then((function(){e.$notification.success({message:"Benutzer erfolgreich angelegt",description:""}),e.form.resetFields(),e.$emit("create")})).catch((function(t){e.$notification.error({message:"Benutzer konnte nicht angelegt werden.",description:t.message})})):e.updateUserForInstitution(Object(p["a"])({id:e.user.id},n)).then((function(){e.$notification.success({message:"Benutzer erfolgreich aktualisiert",description:""}),e.form.resetFields(),e.$emit("create")})).catch((function(t){e.$notification.error({message:"Benutzer konnte nicht aktualisiert werden.",description:t.message})}))}))}})}),ue=le,ce=Object(o["a"])(ue,se,oe,!1,null,"05d0d2dd",null),de=ce.exports,me=[{title:"Vorname",key:"firstName",dataIndex:"firstName"},{title:"Nachname",key:"lastName",dataIndex:"lastName"},{title:"Benutzername",key:"username",dataIndex:"username"},{title:"Rolle",key:"authorities",dataIndex:"authorities",scopedSlots:{customRender:"authorities"}},{title:"Aktionen",key:"id",dataIndex:"id",scopedSlots:{customRender:"operation"}}],pe={USER_ROLE_ADMIN:"Admin",USER_ROLE_REGULAR:"Normal",ROLE_LABORATORY:"Labor",ROLE_TEST_SITE:"Teststation",ROLE_CLINIC:"Klinik",ROLE_DOCTORS_OFFICE:"Arzt",ROLE_GOVERNMENT_AGENCY:"Gesundheitsbehörde",ROLE_DEPARTMENT_OF_HEALTH:"Gesundheitsamt"},fe={LABORATORY:"Labor",TEST_SITE:"Teststation",CLINIC:"Klinik",DOCTORS_OFFICE:"Arzt",GOVERNMENT_AGENCY:"Gesundheitsbehörde",DEPARTMENT_OF_HEALTH:"Gesundheitsamt"},he=r["a"].extend({name:"Account",created:function(){this.setIsAdmin(),this.getInstitutionUsers()},data:function(){return{tableColumns:me,roleMapping:pe,typeMapping:fe,registerUserForm:this.$form.createForm(this),showChangePasswordForm:!1,showChangeInstitutionForm:!1,showAddOrChangeUserForm:!1,addOrChangeUser:{},isAdmin:!1}},components:{ChangePasswordForm:M,ChangeInstitutionForm:ie,AddOrChangeUserForm:de},computed:Object(p["a"])({},q.mapState({user:"user",institution:"institution",institutionUsers:"institutionUsers"}),{username:function(){var e;return(null===(e=this.user)||void 0===e?void 0:e.username)||""}}),watch:{user:function(){this.setIsAdmin()}},methods:Object(p["a"])({},q.mapActions({registerUser:"registerUserForInstitution",getInstitutionUsers:"getInstitutionUsers",deleteUserForInstitution:"deleteUserForInstitution"}),{setIsAdmin:function(){this.user&&this.user.authorities&&(this.isAdmin=this.user.authorities.some((function(e){return"USER_ROLE_ADMIN"===e.authority})))},changeUser:function(e){this.addOrChangeUser=e,this.showAddOrChangeUserForm=!0},deleteUser:function(e){var t=this;e.id&&this.deleteUserForInstitution(e.id).then((function(){t.$notification.success({message:"Benutzer erfolgreich gelöscht",description:""})})).catch((function(e){t.$notification.error({message:"Benutzer konnte nicht gelöscht werden",description:e.message})}))},addUser:function(){this.addOrChangeUser={},this.showAddOrChangeUserForm=!0}})}),ve=he,ge=(n("2d13"),Object(o["a"])(ve,d,m,!1,null,"04604a46",null)),be=ge.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-layout",{staticClass:"app-container"},[n("a-layout",[n("Header",{on:{"menu-toggle":function(t){e.sideNavCollapsed=!e.sideNavCollapsed}}}),n("a-layout",[n("Navigation",{attrs:{sideNavCollapsed:e.sideNavCollapsed},on:{"route-clicked":e.handleRouteClicked}}),n("a-layout-content",{staticStyle:{"box-sizing":"border-box",width:"100%",display:"flex","justify-content":"space-between","flex-direction":"column"}},[n("div",{style:{padding:"0px",minHeight:"360px",width:"100%"}},[n("router-view")],1),n("a-layout-footer",{staticStyle:{textalign:"center"}},[e._v(" IMIS ©2020 with "),n("a-icon",{staticStyle:{color:"red"},attrs:{type:"heart"}},[e._v("❤")]),e._v(" by "),n("a-button",{staticStyle:{"padding-left":"0"},attrs:{href:"https://wirvsvirushackathon.org",target:"_blank",type:"link"}},[e._v(" #WeVsVirus ")])],1)],1)],1)],1)],1),e.isLoading?n("a-spin",{staticStyle:{position:"fixed",bottom:"3rem",margin:"0 auto"},attrs:{size:"large"}}):e._e()],1)},xe=[],Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-layout-header",{staticStyle:{height:"auto",display:"flex","justify-content":"space-between","align-items":"center",padding:"0"}},[n("div",{staticStyle:{flex:"0 0 auto"}},[n("a-icon",{staticStyle:{color:"white",padding:"1.5rem"},attrs:{type:"menu"},on:{click:function(t){return e.$emit("menu-toggle")}}}),n("span",{staticClass:"imis-title",staticStyle:{color:"white"}},[e._v("IMIS")])],1),n("span",{staticStyle:{flex:"1 1 auto"}}),n("a-popover",{staticClass:"header-user-popover",attrs:{title:e.username,trigger:"click"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("a",{attrs:{slot:"content"},slot:"content"},[n("a-menu",{staticStyle:{border:"none"},attrs:{mode:"inline",selectedKeys:[]}},[n("a-menu-item",{key:"1",staticClass:"menu-item"},[n("router-link",{attrs:{to:{name:"account"}},nativeOn:{click:function(t){return e.routeClicked(t)}}},[n("a-icon",{attrs:{type:"user"}}),n("span",{staticClass:"nav-text"},[e._v("Benutzerkonto")])],1)],1),n("a-menu-item",{staticClass:"menu-item",on:{click:e.onLogout}},[n("a-icon",{attrs:{type:"logout"}}),n("span",{staticClass:"nav-text"},[e._v(" Abmelden ")])],1)],1)],1),n("div",{staticStyle:{flex:"0 0 auto",cursor:"pointer"}},[n("a-icon",{staticStyle:{color:"#aaa",padding:"1.5rem"},attrs:{type:"user"}}),n("span",{staticClass:"username",staticStyle:{"margin-right":"15px",color:"rgba(255, 255, 255, 0.87)"}},[e._v(e._s(e.username))]),n("a-icon",{staticStyle:{color:"#aaa",padding:"1.5rem 1.5rem 1.5rem 0"},attrs:{type:"caret-down"}})],1)])],1)},we=[],_e=r["a"].extend({name:"Header",computed:Object(p["a"])({},q.mapState({user:"user"}),{username:function(){var e;return(null===(e=this.user)||void 0===e?void 0:e.username)||""}}),data:function(){return{form:this.$form.createForm(this),visible:!1}},methods:Object(p["a"])({},q.mapActions({logout:"logout"}),{onLogout:function(){this.logout()},routeClicked:function(){this.visible=!1,this.$emit("route-clicked")}})}),ke=_e,Ie=(n("0eab"),Object(o["a"])(ke,Se,we,!1,null,"6db1a674",null)),Oe=Ie.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-layout-sider",{attrs:{collapsed:e.sideNavCollapsed,collapsedWidth:0,trigger:null,breakpoint:"md"}},[n("a-menu",{staticStyle:{"text-align":"left"},attrs:{mode:"inline",theme:"dark",defaultSelectedKeys:[e.defaultPath]}},e._l(e.routes(),(function(t){return n("a-menu-item",{key:t.path},[n("router-link",{attrs:{to:{name:t.name}},nativeOn:{click:function(t){return e.$emit("route-clicked")}}},[n("a-icon",{attrs:{type:t.meta.navigationInfo.icon}}),n("span",{staticClass:"nav-text"},[e._v(e._s(t.meta.navigationInfo.title))])],1)],1)})),1)],1)},Pe=[],Ce=r["a"].extend({name:"Navigation",computed:Object(p["a"])({},q.mapGetters({roles:"roles",routes:"routes"})),data:function(){return{defaultPath:location.pathname.substring(5)}},props:{sideNavCollapsed:{type:Boolean}}}),Te=Ce,Ne=Object(o["a"])(Te,Ee,Pe,!1,null,"dbd02d02",null),Re=Ne.exports,De=700,Ae=r["a"].extend({name:"AppRoot",components:{Header:Oe,Navigation:Re},data:function(){return{isLoading:!1,sideNavCollapsed:window.innerWidth<De}},methods:{handleRouteClicked:function(){window.innerWidth<De&&(this.sideNavCollapsed=!0)}}}),je=Ae,Fe=(n("b776"),Object(o["a"])(je,ye,xe,!1,null,"45929ad4",null)),Ue=Fe.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard-container"},[e._m(0),n("div",{staticClass:"header"},[n("div",{staticClass:"text"},[e._v("Angemeldet als:")]),n("a-icon",{staticClass:"icon",attrs:{type:"user"}}),n("div",{staticClass:"text"},[e._v(e._s(e.username))]),n("a-icon",{staticClass:"icon",attrs:{type:"bank"}}),e.institution?n("div",{staticClass:"text"},[e._v(e._s(e.institution.name))]):e._e()],1)])},ze=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"greeting-container"},[a("h1",[e._v("Willkommen in")]),a("img",{attrs:{src:n("cf05")}}),a("h2",[e._v("Infektionsmelde- und Informationsystem")])])}],Le=r["a"].extend({name:"Dashboard",computed:Object(p["a"])({},q.mapState({user:"user",institution:"institution"}),{username:function(){var e;return(null===(e=this.user)||void 0===e?void 0:e.username)||""}}),data:function(){return{}},methods:{}}),Be=Le,Ve=(n("6ced"),Object(o["a"])(Be,qe,ze,!1,null,"43dd78cc",null)),$e=Ve.exports,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"landing-header"},[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{"aspect-ratio":"1.7",src:n("cf05")}}),a("h1",{staticClass:"header-text",staticStyle:{margin:"0 0 0 15px"}},[e._v(" Schnell. Einfach. Zuverlässig. ")]),a("span",{staticStyle:{flex:"1 1 auto"}}),a("div",{staticClass:"header-buttons"},[a("a-button",{attrs:{block:!0,href:"mailto:imis-team@gmx.de",icon:"mail",shape:"round",type:"primary"}},[a("span",[e._v("Kontakt")])]),a("a-button",{attrs:{block:!0,href:"https://devpost.com/software/imis-infektions-melde-und-informations-system",icon:"bulb",shape:"round",type:"primary"}},[a("span",[e._v("DevPost")])]),a("a-button",{attrs:{block:!0,href:"https://twitter.com/IMIS_team",icon:"twitter",shape:"round",type:"primary"}},[a("span",[e._v("Twitter")])]),a("a-button",{attrs:{block:!0,href:"https://github.com/ImisDevelopers/1_011_a_infektionsfall_uebermittellung",icon:"github",shape:"round",type:"primary"}},[a("span",[e._v("GitHub")])])],1)]),a("div",{staticStyle:{height:"100px"}}),a("div",{staticClass:"first-section",staticStyle:{position:"relative"}},[a("iframe",{staticStyle:{"max-width":"100%"},attrs:{allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",frameborder:"0",height:"315",src:"https://www.youtube.com/embed/XIIlMh3Lbsc",width:"560"}}),a("div",{staticClass:"first-section-text"},[e._m(0),a("div",{staticStyle:{"text-align":"left","font-size":"16px"}},[e._v(" "+e._s(e.paragraph1)+" ")]),a("br"),a("div",{staticStyle:{"text-align":"left"}},[e._v(" "+e._s(e.paragraph2)+" ")])])]),a("div",{staticClass:"button-container"},[a("router-link",{staticStyle:{margin:"10px 20px 10px 0"},attrs:{to:{name:"public-register"}}},[a("a-button",{staticStyle:{flex:"0 1 300px","margin-left":"20px"},attrs:{block:"",icon:"arrow-right",shape:"round",size:"large",type:"primary"}},[e._v("Zur Selbstregistrierung ")])],1),a("router-link",{staticStyle:{margin:"10px 0"},attrs:{to:{name:"app"}}},[a("a-button",{staticStyle:{flex:"0 1 300px","margin-left":"20px"},attrs:{block:"",icon:"arrow-right",shape:"round",size:"large",type:"primary"}},[e._v("Zur Live-Demo ")])],1)],1),e._m(1),a("div",{staticClass:"link-section"},[a("a-button",{staticStyle:{flex:"0 1 400px","margin-left":"20px"},attrs:{block:"",href:"https://drive.google.com/file/d/1hoQtGvO21p7_pQ63iDLoWzXB-FFfvKQJ/view?usp=sharing",icon:"bulb",shape:"round",size:"large",type:"primary"}},[a("span",{staticClass:"hidden-mobile"},[e._v("Hier geht's zu unserer Prozessübersicht")]),a("span",{staticClass:"hidden-desktop"},[e._v("Zur Prozessübersicht")])])],1),a("div",{staticClass:"solution-enabler-section"},[a("h1",[e._v("Gemeinsam gegen COVID-19")]),e._m(2),e._m(3),a("div",{staticClass:"solution-enabler-our-team"},[e._m(4),a("a-icon",{staticStyle:{"margin-bottom":"25px"},style:{fontSize:"128px",color:"#2c3e50"},attrs:{type:"team"}})],1)]),a("div",{staticClass:"third-section"},[e._m(5),a("div",[a("span",[e._v("Kontakt:")]),a("a-divider",{staticStyle:{margin:"5px 0"}}),a("span",[e._v("Andrey Eganov")]),a("span",[e._v("0681 / 500 66 72 0")]),a("span",[e._v("imis-team@gmx.de")])],1),a("div",{staticStyle:{"justify-content":"center"}},[e._v(" © 2020 Das IMIS Team ")])])])},Ge=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"flex"}},[n("h2",{staticStyle:{color:"white"}},[e._v(" Das Infektionsmelde- und Informationssystem ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"second-section"},[a("h1",{staticStyle:{margin:"0"}},[e._v(" Der IMIS-Meldeprozess - Einfach, Schnell, Zentral ")]),a("img",{attrs:{src:n("ee1e")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",{staticStyle:{"max-width":"800px","text-align":"center"}},[e._v(" IMIS ist aus dem "),n("a",{attrs:{href:"https://wirvsvirushackathon.org/"}},[e._v("#WirVsVirus")]),e._v("-Hackathon hervorgegangen und wird nun von einem Team aus über 30 Leuten aktiv weiterentwickelt. ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"solution-enabler-program"},[a("img",{attrs:{src:n("a07b")}}),a("div",[a("h2",[e._v(" Als eines von 130 aus über 1500 Projekten ist IMIS in den "),a("a",{attrs:{href:"https://wirvsvirushackathon.org/weiterfuehrung-2/"}},[e._v("Solution Enabler")]),e._v(" aufgenommen worden. ")]),a("h3",[e._v(" Dadurch erhalten wir Zugriff auf Coaching- und Unterstützungsangebote sowie Ressourcen und Expertise. ")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Eine anspruchsvolle Aufgabe.")]),n("h3",[e._v(" Und deshalb sind wir ein vielfältiges Team aus Organisatoren und Projektkoordinatoren, Frontend- und Backend-Entwicklern, UI-Designern, Datenbankspezialisten und vielen mehr. ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("img",{staticStyle:{"vertical-align":"middle",height:"100px"},attrs:{"aspect-ratio":"1.7",src:n("cf05")}})])}],Ye=r["a"].extend({name:"LandingPage",data:function(){return{paragraph1:"Das Sammeln und Verwalten der aktuellen Infektionszahlen erfordert extrem viel Zeit und Ressourcen. IMIS ist unsere Lösung für eine schnelle, sichere und einfache Infektionsfall-Erfassung für Ärzte, Gesundheitsämter und Labore. Damit ermöglichen wir, dass wichtige Ressourcen frei werden, die dann an anderer Stelle gewinnbringend eingesetzt werden können.",paragraph2:"Die COVID-19-Pandemie stellt für das bestehende Infektionsmeldewesen in Deutschland eine immense Herausforderung dar. Ärzte und über 400 Gesundheitsämter benutzen gegenwärtig einen uneinheitlichen Mix aus Telefon, Fax, E-Mails und Excel-Tabellen, um Fälle zusammenzutragen. Eine starke Auslastung der Gesundheitsämter und verspätete Meldungen sind die Folge. So erhalten Entscheider häufig nur lückenhafte Statistiken. Diese Lage sorgt für Unsicherheit und macht es schwer, angemessen auf die Krise zu reagieren. "}}}),He=Ye,Ke=(n("d30a"),Object(o["a"])(He,Me,Ge,!1,null,"62260c0d",null)),Qe=Ke.exports,Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticStyle:{width:"500px",margin:"4rem auto","min-height":"300px"}},[a("a-form",{attrs:{form:e.form,"label-col":{span:6},"wrapper-col":{span:18}}},[a("div",{staticClass:"login-header"},[a("img",{attrs:{height:"100",src:n("cf05")}}),a("h3",[e._v("Login")])]),a("a-form-item",{attrs:{label:"Kennung"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"Bitte geben Sie Ihre Kennung ein."}],initialValue:""}],expression:"[\n          'username',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte geben Sie Ihre Kennung ein.',\n              },\n            ],\n            initialValue: '',\n          },\n        ]"}],attrs:{placeholder:"z.B 1337-4237-9438"}},[a("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),a("a-form-item",{attrs:{label:"Passwort"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"Bitte geben Sie Ihr Passwort ein."}],initialValue:""}],expression:"[\n          'password',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte geben Sie Ihr Passwort ein.',\n              },\n            ],\n            initialValue: '',\n          },\n        ]"}],attrs:{placeholder:"**********",type:"password"}},[a("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),a("a-divider"),a("a-form-item",{attrs:{"wrapper-col":{span:24,offset:0}}},[a("a-button",{attrs:{"html-type":"submit",type:"primary"},on:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(" Einloggen ")])],1)],1),a("div",[a("p",[e._v("Demo-Zugänge:")]),a("p",[a("strong",[e._v("test_lab")]),e._v(" mit Passwort "),a("strong",[e._v("asdf")])]),a("p",[a("strong",[e._v("test_doctor")]),e._v(" mit Passwort "),a("strong",[e._v("asdf")])]),a("p",[a("strong",[e._v("test_testing_site")]),e._v(" mit Passwort "),a("strong",[e._v("asdf")])]),a("p",[a("strong",[e._v("test_department_of_health")]),e._v(" mit Passwort "),a("strong",[e._v("asdf")])]),a("router-link",{attrs:{to:{name:"register-institution",params:{id:"demo"}}}},[e._v("Als Institution registrieren ")])],1)],1)},We=[],Je=r["a"].extend({name:"Login",data:function(){return{form:this.$form.createForm(this)}},methods:Object(p["a"])({},q.mapActions({login:"login"}),{handleLogin:function(){var e=this;this.form.validateFields((function(t,n){t||e.login({username:n.username,password:n.password})}))}})}),Xe=Je,et=Object(o["a"])(Xe,Ze,We,!1,null,null,null),tt=et.exports,nt=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("div",[a("ChangePatientStammdatenForm",{attrs:{visible:t.showChangePatientStammdatenForm,patient:t.patient},on:{cancel:function(){t.showChangePatientStammdatenForm=!1},create:function(){t.showChangePatientStammdatenForm=!1,e.loadData()}}}),a("div",{staticStyle:{"max-width":"1020px",margin:"0 auto",padding:"0 1rem"}},[t.patient?a("a-page-header",{staticStyle:{padding:"1rem 0"},attrs:{title:t.patient.lastName+", "+t.patient.firstName,"sub-title":t.patient.id},on:{back:function(){return t.$router.go(-1)}}},[a("template",{slot:"tags"},[t.patientStatus?a("a-tag",[t._v(" "+t._s(t.patientStatus.label)+" ")]):t._e()],1),a("template",{slot:"extra"},[a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},on:{click:t.handleActionClick},slot:"overlay"},[a("a-menu-item",{key:"ARRANGE_TEST"},[a("a-icon",{attrs:{type:"user"}}),t._v(" Neuen Test anordnen ")],1),t.permissions.sendToQuarantine?a("a-menu-item",{key:"SEND_TO_QUARANTINE"},[a("a-icon",{attrs:{type:"user"}}),t._v(" Quarantäne vormerken ")],1):t._e()],1),a("a-button",{staticStyle:{"margin-left":"8px"}},[t._v(" Aktionen "),a("a-icon",{attrs:{type:"down"}})],1)],1)],1)],2):t._e(),t.patient?a("a-tabs",{staticStyle:{"text-align":"left"},attrs:{defaultActiveKey:"master-data"}},[a("a-tab-pane",{key:"master-data",attrs:{tab:"Stammdaten"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-end","padding-bottom":"10px"}},[a("a-button",{attrs:{icon:"edit"},on:{click:t.editPatientStammdaten}},[t._v(" Daten ändern ")])],1),a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{md:12,span:24}},[a("a-card",{attrs:{extra:this.patient.id,align:"left",title:"Allgemein"}},[a("table",[a("tr",[a("td",[t._v("Name:")]),a("td",[t._v(t._s(t.patient.lastName)+", "+t._s(t.patient.firstName))])]),a("tr",[a("td",[t._v("Geburtsdatum:")]),a("td",[t._v(t._s(t.dateOfBirth))])]),a("tr",[a("td",[t._v("Geschlecht:")]),a("td",[t._v(t._s(t.gender))])]),a("tr",[a("td",[t._v("Staatsangehörigkeit:")]),a("td",[t._v(t._s(t.patient.nationality))])])])])],1),a("a-col",{attrs:{md:12,span:24}},[a("a-card",{attrs:{align:"left",title:"Adresse"}},[a("table",[a("tr",[a("td",[t._v("Straße/Hausnr.:")]),a("td",[t._v(t._s(t.patient.street)+" "+t._s(t.patient.houseNumber))])]),a("tr",[a("td",[t._v("PLZ/Ort:")]),a("td",[t._v(t._s(t.patient.zip)+" "+t._s(t.patient.city))])]),a("tr",[a("td",[t._v("Land:")]),a("td",[t._v(t._s(t.patient.country))])])])])],1)],1),a("a-row",{staticStyle:{"margin-top":"8px"},attrs:{gutter:8}},[a("a-col",{attrs:{md:8,span:24}},[a("a-card",{attrs:{align:"left",title:"Kontakt"}},[a("table",[a("tr",[a("td",[t._v("Telefonnummer:")]),a("td",[t._v(t._s(t.patient.phoneNumber))])]),a("tr",[a("td",[t._v("Email:")]),a("td",[a("a",{attrs:{href:""}},[t._v(t._s(t.patient.email))])])])])])],1),a("a-col",{attrs:{md:8,span:24}},[a("a-card",{attrs:{align:"left",title:"Versicherung"}},[a("table",[a("tr",[a("td",[t._v("Versicherung:")]),a("td",[t._v(t._s(t.patient.insuranceCompany))])]),a("tr",[a("td",[t._v("V-Nr:")]),a("td",[t._v(t._s(t.patient.insuranceMembershipNumber))])])])])],1),a("a-col",{attrs:{md:8,span:24}},[a("a-card",{attrs:{align:"left",title:"Arbeit"}},[a("table",[a("tr",[a("td",[t._v("Beruf:")]),a("td",[t._v(t._s(t.patient.occupation||"Keine Angabe"))])]),a("tr",[a("td",[t._v("Arbeitgeber:")]),a("td",[t._v(t._s(t.patient.employer||"Keine Angabe"))])])])])],1)],1)],1),a("a-tab-pane",{key:"overview",attrs:{tab:"Falldaten"}},[a("a-row",{staticStyle:{"margin-top":"8px"},attrs:{gutter:8}},[a("a-col",{attrs:{span:"24"}},[a("div",{staticStyle:{background:"white",border:"1px solid #e8e8e8"}},[a("div",{staticClass:"card-header"},[a("div",[t._v(" Fall-Status: "+t._s((t.patientStatus?t.patientStatus.label:"Unbekannt")+(t.patient.quarantineUntil?", Quarantäne angeordnet bis "+t.patient.quarantineUntil:""))+" ")]),a("div",{staticClass:"card-header-subtitle"},[t._v(" Erkrankungsdatum: "+t._s(t.dateOfIllness)+" ")]),a("div",{staticClass:"card-header-subtitle"},[t._v(" Meldedatum: "+t._s(t.dateOfReporting)+" ")])]),a("a-table",{staticClass:"imis-table-no-pagination",attrs:{columns:t.columnsTests,dataSource:t.tests,scroll:{x:0,y:0},rowKey:"id"},scopedSlots:t._u([{key:"lastUpdate",fn:function(e){return a("div",{},[t._v(" "+t._s(t.getDate(e))+" ")])}},{key:"testStatus",fn:function(e){return a("div",{},[a("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:t.testResults.find((function(t){return t.id===e})).icon}}),t._v(" "+t._s(t.testResults.find((function(t){return t.id===e})).label)+" ")],1)}},{key:"testType",fn:function(e){return a("div",{},[a("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:t.testTypes.find((function(t){return t.id===e})).icon}}),t._v(" "+t._s(t.testTypes.find((function(t){return t.id===e})).label)+" ")],1)}}],null,!1,746219556)})],1)])],1),a("a-row",{staticStyle:{"margin-top":"8px"},attrs:{gutter:8}},[a("a-col",{attrs:{md:8,span:24}},[a("a-card",{attrs:{align:"left",title:"Infektionskette"}},[a("a-descriptions",{attrs:{layout:"vertical",column:1}},[a("a-descriptions-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("a-icon",{attrs:{type:"arrow-right"}}),a("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"user"}}),t._v(" Kontakte mit Indexpatienten")],1),t.patientInfectionSources.length>0?a("span",[t._v(t._s(t.patientInfectionSources.length))]):a("span",[t._v("Keine")]),t._v(" bekannt ")]),a("a-descriptions-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("a-icon",{attrs:{type:"user"}}),a("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"arrow-right"}}),t._v(" Eigene Kontaktpersonen")],1),t.exposureContacts.length>0?a("span",[t._v(t._s(t.exposureContacts.length))]):a("span",[t._v("Keine")]),t._v(" angegeben ")])],1)],1)],1),a("a-col",{attrs:{md:8,span:24}},[a("a-card",{attrs:{align:"left",title:"Vorerkrankungen und Risikofaktoren"}},t._l(t.preIllnesses,(function(e){return a("div",{key:e},[t._v(" "+t._s(e)+" ")])})),0)],1),a("a-col",{attrs:{md:8,span:24}},[a("a-card",{attrs:{extra:"Stand: "+t.formatTimestamp(t.patient.creationTimestamp),align:"left",title:"Symptome"}},t._l(t.symptoms,(function(e){return a("div",{key:e},[t._v(" "+t._s(e)+" ")])})),0)],1)],1)],1),a("a-tab-pane",{key:"timeline",attrs:{forceRender:"",tab:"Verlauf"}},[a("a-card",[t.patient.events.length?a("a-timeline",{staticStyle:{"text-align":"left","margin-left":"40px"}},t._l(this.patient.events,(function(e){return a("a-timeline-item",{key:e.id,attrs:{color:t.timelineColor(e.eventType)}},[t._v(" "+t._s(t.formatTimestamp(e.eventTimestamp))+", "+t._s(t.eventTypes.find((function(t){return t.id===e.eventType})).label)+" ")])})),1):t._e()],1)],1),a("a-tab-pane",{key:"infection-chain",attrs:{forceRender:"",tab:"Infektionskette"}},[a("a-row",{staticStyle:{"margin-top":"8px"},attrs:{gutter:8}},[a("a-card",{attrs:{align:"left",title:"Infektionsquellen"}},[a("a-descriptions",{attrs:{layout:"vertical",column:{xs:1,sm:1,md:2,lg:2}}},[a("a-descriptions-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"user"}}),t._v(" Kontakte mit Indexpatienten "),t.patientInfectionSources.length>0?a("span",[t._v("("+t._s(t.patientInfectionSources.length)+")")]):t._e()],1),t.patientInfectionSources.length>0?a("div",[a("a-table",{staticClass:"table-index-patients",attrs:{columns:t.columnsIndexPatients,dataSource:t.patientInfectionSources,rowKey:function(e){return e.id},showHeader:!1,pagination:!1},scopedSlots:t._u([{key:"name",fn:function(e){return[a("a",{on:{click:function(n){return t.showPatient(e.source.id)}}},[t._v(t._s(e.source.firstName)+" "+t._s(e.source.lastName))]),t._v(", ")]}},{key:"dateOfContact",fn:function(e){return[t._v(" am "+t._s(t.moment(e.dateOfContact).format("DD.MM.YYYY"))+", ")]}}],null,!1,3867097723)})],1):a("div",[t._v(" Keine bekannt ")])]),a("a-descriptions-item",{attrs:{label:"Sonstige"}},[t._v(" Keine bekannt ")])],1)],1)],1),a("a-row",{staticStyle:{"margin-top":"8px"},attrs:{gutter:8}},[a("a-card",{attrs:{title:"Kontaktpersonen",align:"left",bodyStyle:{padding:0}}},[a("div",{attrs:{slot:"extra"},slot:"extra"},[a("a-button",{attrs:{icon:"plus",type:"primary"},on:{click:t.addExposureContact}},[t._v(" Hinzufügen ")])],1),a("a-table",{staticClass:"imis-table-no-pagination",attrs:{columns:t.columnsExposureContacts,pagination:!1,dataSource:t.exposureContacts,rowKey:function(e){return e.contact.id},loading:t.exposureContactsLoading,customRow:function(e){return{on:{dblclick:function(){return t.showExposureContact(e.id)}}}}},scopedSlots:t._u([{key:"gotoPatient",fn:function(e){return[a("a-button",{attrs:{ghost:"",icon:"user",type:"primary",title:"Patientendaten anzeigen"},on:{click:function(n){return t.showPatient(e.contact.id)}}})]}},{key:"dateOfContact",fn:function(e){return[t._v(" "+t._s(t.moment(e.dateOfContact).format("DD.MM.YYYY"))+" ")]}},{key:"infectionState",fn:function(e){return[e.contact.infected?a("span",{staticStyle:{color:"red"}},[t._v(" Infiziert ")]):a("span",[t._v(" Unbekannt ")])]}},{key:"quarantineState",fn:function(e){return[e.contact.inQuarantine?a("span",[t._v(" In Quarantäne ")]):a("span",{style:"color: "+(e.contact.infected?"red":"unset")+";"},[t._v(" Keine Quarantäne ")])]}},{key:"actions",fn:function(e){return[a("div",{staticClass:"inline-buttons"},[a("a-button",{attrs:{ghost:"",icon:"edit",type:"primary",title:"Bearbeiten"},on:{click:function(n){return t.showExposureContact(e.id)}}}),a("a-button",{attrs:{ghost:"",icon:"close",type:"danger",title:"Entfernen"},on:{click:function(n){return t.removeExposureContact(e.id)}}})],1)]}}],null,!1,3932245124)})],1)],1),a("a-modal",{ref:"exposureContactModal",attrs:{title:"Kontaktperson bearbeiten",visible:!!t.exposureContactInEditing},on:{ok:function(e){t.persistExposureContact().then((function(e){e&&(t.exposureContactInEditing=null)}))},cancel:function(e){t.exposureContactInEditing=null}}},[a("a-form",{attrs:{form:t.exposureContactForm,selfUpdate:!0}},[a("EditExposureContact",{attrs:{disableOriginatorPatient:!0}})],1)],1)],1)],1):t._e()],1)],1)},at=[],rt=n("c1df"),it=n.n(rt);n("b0c0"),n("4fad"),n("c1f9"),n("07ac");function st(e){var t,n=void 0,a=new S;a.request=function(e,t){n={path:e,method:t}};for(var r=[],i=0;i<e.length-1;i++)r.push("*");if((t=a.api)[e.name].apply(t,r),n)return n;throw new Error("Could not extract request parameters from function")}function ot(e){return lt.apply(this,arguments)}function lt(){return lt=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,s,o,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],a=!1,t||(t=Object.values(P.api)),"object"===Object(T["a"])(t)?(r=[],Object.entries(t).forEach((function(e){n.push(e[0]),r.push(e[1])})),t=r):t&&!Array.isArray(t)&&(t=[t],a=!0),e.next=6,P.queryPermissionsUsingPost(Object.fromEntries(t.map((function(e){return[e.name,st(e)]}))));case 6:for(i=e.sent,s=[],o=0;o<t.length;o++)s[o]=i[t[o].name];if(!a){e.next=13;break}return e.abrupt("return",s[0]);case 13:if(!n){e.next=19;break}for(l={},u=0;u<n.length;u++)l[n[u]]=s[u];return e.abrupt("return",l);case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)}))),lt.apply(this,arguments)}var ut=function e(){Object(b["a"])(this,e),this.patients=[]},ct=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(b["a"])(this,n),t.apply(this,arguments)}return Object(h["a"])(n,[{key:"patientById",value:function(e){return this.state.patient&&this.state.patient.id===e?this.state.patient:this.state.patients.find((function(t){return t.id===e}))}}]),n}(R["b"]),dt=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(b["a"])(this,n),t.apply(this,arguments)}return Object(h["a"])(n,[{key:"addPatients",value:function(e){this.state.patients.concat(e)}},{key:"setPatients",value:function(e){this.state.patients=e}},{key:"setPatient",value:function(e){this.state.patient=e}}]),n}(R["d"]),mt=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(b["a"])(this,n),t.apply(this,arguments)}return Object(h["a"])(n,[{key:"fetchPatients",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.getAllPatientsUsingGet();case 3:n=e.sent,this.commit("setPatients",n),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$notification.error({message:"Fehler",description:"Patienten kontent nicht geladen werden"});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"registerPatient",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.addPatientUsingPost(t.patient);case 3:return n=e.sent,this.commit("setPatient",n),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e["catch"](0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(R["a"]),pt=new R["c"]({state:ut,getters:ct,mutations:dt,actions:mt}),ft=Object(R["e"])(pt),ht=[{id:"REGISTERED",label:"Registriert",icon:"login"},{id:"SUSPECTED",label:"Verdachtsfall",icon:"search"},{id:"ORDER_TEST",label:"Test angefordert",icon:"experiment"},{id:"SCHEDULED_FOR_TESTING",label:"Wartet auf Test",icon:"team"},{id:"TEST_SUBMITTED_IN_PROGRESS",label:"Test eingereicht",icon:"clock-circle"},{id:"TEST_FINISHED_POSITIVE",label:"Test positiv",icon:"check"},{id:"TEST_FINISHED_NEGATIVE",label:"Test negativ",icon:"stop"},{id:"TEST_FINISHED_INVALID",label:"Test invalide",icon:"warning"},{id:"TEST_FINISHED_RECOVERED",label:"Getestet und erholt",icon:"rollback"},{id:"TEST_FINISHED_NOT_RECOVERED",label:"Getestet und nicht erholt",icon:"logout"},{id:"PATIENT_DEAD",label:"Verstorben",icon:"cloud"},{id:"DOCTORS_VISIT",label:"Arztbesuch",icon:"reconciliation"},{id:"QUARANTINE_MANDATED",label:"Quarantäne angeordnet",icon:"safety"}],vt=[{id:"TEST_SUBMITTED",label:"Test eingereicht",icon:"login"},{id:"TEST_IN_PROGRESS",label:"Test läuft",icon:"clock-circle"},{id:"TEST_POSITIVE",label:"Test positiv",icon:"check"},{id:"TEST_NEGATIVE",label:"Test negativ",icon:"stop"},{id:"TEST_INVALID",label:"Test invalide",icon:"warning"}],gt=[{label:"Appetitverlust",value:"LOSS_OF_APPETITE"},{label:"Atembeschwerden",value:"DIFFICULTY_BREATHING"},{label:"Atemnot",value:"SHORTNESS_OF_BREATH"},{label:"Fieber",value:"FEVER"},{label:"Gewichtsverlust",value:"WEIGHT_LOSS"},{label:"Husten",value:"COUGH"},{label:"Kopfschmerzen",value:"HEADACHE"},{label:"Muskelschmerzen",value:"MUSCLE_PAIN"},{label:"Rückenschmerzen",value:"BACK_PAIN"},{label:"Schnupfen",value:"COLD"},{label:"Übelkeit",value:"NAUSEA"},{label:"Verlust des Geruchs- und/oder Geschmackssinnes",value:"LOSS_OF_SENSE_OF_SMELL_TASTE"}],bt=[{label:"Akutes schweres Atemsyndrom (ARDS)",value:"ARDS"},{label:"Beatmungspflichtige Atemwegserkrankung",value:"RESPIRATORY_DISEASE"}],yt=[{label:"Chronische Lungenerkrankung (z.B. COPD)",value:"CHRONIC_LUNG_DISEASE"},{label:"Diabetes",value:"DIABETES"},{label:"Fettleibigkeit",value:"ADIPOSITAS"},{label:"Herz-Kreislauf (inkl. Bluthochdruck)",value:"CARDIOVASCULAR_DISEASE"},{label:"Immundefizit (inkl. HIV)",value:"IMMUNODEFICIENCY"},{label:"Krebserkrankung",value:"CANCER"},{label:"Lebererkrankung",value:"LIVER_DISEASE"},{label:"Neurologische / neuromuskuläre Erkrankung",value:"NEUROLOGICAL_DISEASE"},{label:"Nierenerkrankung",value:"KIDNEY_DISEASE"},{label:"Raucher",value:"SMOKING"},{label:"Schwangerschaft",value:"PREGNANCY"}],xt=[{id:"ANTIBODY",label:"Antikörper"},{id:"PCR",label:"PCR"}],St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{visible:e.visible,title:"Patientenstammdaten ändern",okText:"Speichern",cancelText:"Abbrechen",width:"650px"},on:{cancel:function(){e.$emit("cancel")},ok:e.save}},[n("a-form",{attrs:{form:e.form,layout:"vertical",wrapperCol:{span:23}}},[n("PatientStammdaten",{attrs:{patient:e.patient,form:e.form,"show-death":"true","show-stay":"true"}})],1)],1)},wt=[],_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"data-form"},[n("div",[n("p",{staticStyle:{"text-align":"center"}},[e._v("Allgemeine Angaben:")]),n("a-row",[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Titel"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{initialValue:e.patientInput.title}],expression:"['title', { initialValue: patientInput.title }]"}]})],1)],1)],1),n("a-row",[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Vorname"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["firstName",{rules:[{required:!0,message:"Bitte Vornamen eingeben"}],initialValue:e.patientInput.firstName}],expression:"[\n              'firstName',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Vornamen eingeben',\n                  },\n                ],\n                initialValue: patientInput.firstName,\n              },\n            ]"}]})],1)],1),n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Nachname"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lastName",{rules:[{required:!0,message:"Bitte Nachnamen eingeben"}],initialValue:e.patientInput.lastName}],expression:"[\n              'lastName',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Nachnamen eingeben',\n                  },\n                ],\n                initialValue: patientInput.lastName,\n              },\n            ]"}]})],1)],1)],1),n("a-row",[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Mediz. Geschlecht"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["gender",{rules:[{required:!0,message:"Bitte Geschlecht eingeben"}],initialValue:e.patientInput.gender}],expression:"[\n              'gender',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Geschlecht eingeben',\n                  },\n                ],\n                initialValue: patientInput.gender,\n              },\n            ]"}],attrs:{buttonStyle:"solid"},on:{change:e.genderSelected}},[n("a-radio",{attrs:{value:"male"}},[e._v("Männlich")]),n("a-radio",{attrs:{value:"female"}},[e._v("Weiblich")]),n("a-radio",{attrs:{value:"divers"}},[e._v("Divers")])],1)],1)],1),n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Geburtsdatum"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateOfBirth",{rules:[{required:!0,message:"Bitte Geburtsdatum eingeben"}],initialValue:e.initialDateOfBirth}],expression:"[\n              'dateOfBirth',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Geburtsdatum eingeben',\n                  },\n                ],\n                initialValue: initialDateOfBirth,\n              },\n            ]"}]})],1)],1)],1),n("a-row",[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Staatsangehörigkeit"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nationality",{rules:[{required:!0,message:"Bitte Staatsangehörigkeit angeben"}],initialValue:e.patientInput.nationality||"deutsch"}],expression:"[\n              'nationality',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Staatsangehörigkeit angeben',\n                  },\n                ],\n                initialValue: patientInput.nationality || 'deutsch',\n              },\n            ]"}]})],1)],1)],1),e.showDeath?n("a-row",[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Verstorben"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["died",{rules:[{required:!0,message:"Bitte Status angeben"}],initialValue:!!e.patientInput.dateOfDeath}],expression:"[\n              'died',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Status angeben',\n                  },\n                ],\n                initialValue: !!patientInput.dateOfDeath,\n              },\n            ]"}],on:{change:e.diedChanged}},[n("a-radio",{attrs:{value:!0}},[e._v("Ja")]),n("a-radio",{attrs:{value:!1}},[e._v("Nein")])],1)],1)],1),n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Todesdatum"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateOfDeath",{initialValue:e.initialDateOfDeath}],expression:"[\n              'dateOfDeath',\n              { initialValue: initialDateOfDeath },\n            ]"}],attrs:{disabled:!e.showDateOfDeath}})],1)],1)],1):e._e(),n("a-divider"),n("p",{staticStyle:{"text-align":"center"}},[e._v("Wohnort:")]),n("location-form-group",{attrs:{form:e.form,data:e.patient,required:!0}}),e.showStay?n("div",[n("a-divider"),n("p",{staticStyle:{"text-align":"center"}},[e._v(" Aufenthaltsort, falls von Wohnort abweichend: ")]),n("location-form-group",{attrs:{data:e.patient,required:!1,fieldNamePrefix:"stay"}})],1):e._e(),n("a-divider"),n("p",{staticStyle:{"text-align":"center"}},[e._v("Kommunikation und Sonstiges:")]),n("a-row",[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"E-mail"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,message:"Bitte Email eingeben"}],initialValue:e.patientInput.email}],expression:"[\n              'email',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Email eingeben',\n                  },\n                ],\n                initialValue: patientInput.email,\n              },\n            ]"}]})],1)],1),n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Telefon"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phoneNumber",{rules:[{required:!0,message:"Bitte Telefonnummer eingeben"}],initialValue:e.patientInput.phoneNumber}],expression:"[\n              'phoneNumber',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Telefonnummer eingeben',\n                  },\n                ],\n                initialValue: patientInput.phoneNumber,\n              },\n            ]"}]})],1)],1)],1),n("a-row",[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Beruf"}},[n("div",[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["riskOccupation",{rules:[{required:!0,message:"Bitte Beruf eingeben"}],initialValue:e.initialRiskOccupation}],expression:"[\n                'riskOccupation',\n                {\n                  rules: [\n                    {\n                      required: true,\n                      message: 'Bitte Beruf eingeben',\n                    },\n                  ],\n                  initialValue: initialRiskOccupation,\n                },\n              ]"}],on:{select:e.riskOccupationSelected}},e._l(e.riskOccupations,(function(t){return n("a-select-option",{key:t.value},[e._v(" "+e._s(t.label)+" ")])})),1),n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["occupation",{rules:[{message:"Bitte Beruf eingeben"}],initialValue:e.patientInput.occupation}],expression:"[\n                'occupation',\n                {\n                  rules: [\n                    {\n                      message: 'Bitte Beruf eingeben',\n                    },\n                  ],\n                  initialValue: patientInput.occupation,\n                },\n              ]"}],ref:"occupation",attrs:{disabled:e.disableOccupation}})],1)])],1),n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Arbeitgeber (optional)"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["employer",{initialValue:e.patientInput.employer}],expression:"[\n              'employer',\n              { initialValue: patientInput.employer },\n            ]"}]})],1)],1)],1),n("a-row",[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Krankenkasse (optional)"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["insuranceCompany",{initialValue:e.patientInput.insuranceCompany}],expression:"[\n              'insuranceCompany',\n              { initialValue: patientInput.insuranceCompany },\n            ]"}]})],1)],1),n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Versichertennr. (optional)"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["insuranceMembershipNumber",{initialValue:e.patientInput.insuranceMembershipNumber}],expression:"[\n              'insuranceMembershipNumber',\n              { initialValue: patientInput.insuranceMembershipNumber },\n            ]"}]})],1)],1)],1)],1)])},kt=[],It=[{value:"DOCTOR",label:"Arzt/Ärztin"},{value:"NURSE",label:"Pflegepersonal"},{value:"CAREGIVER",label:"Altenpflege"},{value:"FIRE_FIGHTER_POLICE",label:"Gefahrenabwehr (Polizei, Feuerwehr usw.)"},{value:"PUBLIC_ADMINISTRATION",label:"Öffentliche Verwaltung"},{value:"STUDENT",label:"Schüler-in"},{value:"TEACHER",label:"Lehrer-in/Kindergärtner-in"},{value:"NO_RISK_OCCUPATION",label:"Keiner der genannten (bitte unten eingeben)"}],Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-date-picker",e._g(e._b({attrs:{value:e.value,defaultValue:e.defaultValue,format:e.format,open:e.open||e.dateOfBirthPickerOpen,placeholder:e.placeholder},on:{focus:e.datePickerFocused,openChange:e.openChanged}},"a-date-picker",e.$attrs,!1),e.$listeners))},Et=[],Pt=n("1df6");function Ct(){return null}function Tt(e,t){return e}function Nt(e,t){return e}function Rt(e,t){return t?t+e.charAt(0).toUpperCase()+e.substring(1):e}var Dt=r["a"].extend({props:{fieldNamePrefix:{type:String,default:void 0},fieldIdentifiers:{type:Object,default:function(){return{}}},inputProps:{type:Object,default:function(){return Object.fromEntries(this.$options.fieldIdentifiers.map((function(e){return[e,{}]})))}}},data:function(){return{formFieldNameBackTranslation:{}}},inject:{FormContext:{default:function(){return{}}}},created:function(){var e=this;this.$options.fieldIdentifiers&&this.$options.fieldIdentifiers.forEach((function(t){e.formFieldNameBackTranslation[e.formFieldName(t)]=t}))},mounted:function(){var e=this;this.$options.fieldIdentifiers&&this.$options.fieldIdentifiers.forEach((function(t){e.getFormContext().form.formItems[e.formFieldName(t)].itemSelfUpdate&&console.error("[ ".concat(e.$options.name," ]: ")+"`itemSelfUpdate` is not enabled for form item of `".concat(t,"`. ")+'This may lead to contents not being re-rendered when their value is modified by calling `setFieldsValue` on its containing form. To fix this, add `:selfUpdate="true"` to '+"the `a-form-item` component containing the `".concat(t,"` control ")+'or add `:selfUpdate="true"` to the root `a-form` element.')}))},methods:{getFormContext:function(){return Nt(this,Ct()).FormContext},formFieldName:function(e){var t=this.$props.fieldNames;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:Rt(e,this.$props.fieldNamePrefix)},setData:function(e,t){var n=this;if(!this.$options.fieldIdentifiers)throw new Error("[ ".concat(this.$options.name," ]: `setData` not supported"));t||(e=Object.fromEntries(Object.entries(e).map((function(e){return[n.formFieldName(e[0]),e[1]]}))));var a=this.$options.fieldIdentifiers.map(this.formFieldName);e=Object.fromEntries(Object.entries(e).filter((function(e){return a.includes(e[0])}))),this.getFormContext().form.setFieldsValue(e)},getData:function(e,t){var n=this;if(!this.$options.fieldIdentifiers)throw new Error("[ ".concat(this.$options.name," ]: `getData` not supported"));void 0===e||t||(e=e.map((function(e){var t=n.formFieldName(e);return t})));var a=this.$options.fieldIdentifiers.map(this.formFieldName);e=void 0===e?a:e.filter((function(e){return a.includes(e)}));var r=this.getFormContext().form.getFieldsValue(e);return t||(r=Object.fromEntries(Object.entries(r).map((function(e){return[n.formFieldNameBackTranslation[e[0]],e[1]]})))),r},getSingleValue:function(e,t){var n=t?e:this.formFieldName(e);return this.getData([n],!0)[n]}}}),At=r["a"].extend({inject:{FormContext:{default:function(){return{}}}},computed:{fieldName:function(){return this.getFormContext()&&this.$attrs["data-__field"]?Tt(this.$attrs["data-__field"]).name:null}},data:function(){return{FormControlConvValue:void 0}},created:function(){var e=this;if(this.$options.fieldValueConvert){var t=this.$options.model&&this.$options.model.prop?this.$options.model.prop:"value";this.$watch(t,(function(t){if(e.FormControlConvValue===t)e.FormControlConvValue=void 0;else if(e.$options.fieldValueConvert){var n=e.$options.fieldValueConvert.call(e,t);n!==t&&(e.FormControlConvValue=n,e.setOwnValue(n))}}))}},methods:{getFormContext:function(){return Nt(this,Ct()).FormContext},isDecoratedFormField:function(){return!(!this.getFormContext()||!this.$attrs["data-__field"])},setOwnValue:function(e){var t=this.$options.model&&this.$options.model.event?this.$options.model.event:"change";this.$emit(t,e)},getOwnValue:function(){var e=this.$options.model&&this.$options.model.prop?this.$options.model.prop:"value";return this[e]}}}),jt=Object(Pt["a"])(At).extend({name:"DateInput",mixins:[At],model:{prop:"value",event:"change"},props:{value:{default:void 0},open:{default:!1},placeholder:{default:"TT.MM.JJJJ (z.B. 28.02.1986)"},format:{default:"DD.MM.YYYY"},defaultValue:{default:void 0}},data:function(){return{dateOfBirthPickerOpen:!1,wasJustFocused:!1}},methods:{datePickerFocused:function(){var e=this;this.dateOfBirthPickerOpen=!0,this.wasJustFocused=!0,setTimeout((function(){e.wasJustFocused=!1}),500)},openChanged:function(e){this.wasJustFocused||(this.dateOfBirthPickerOpen=e)}}}),Ft=jt,Ut=Object(o["a"])(Ft,Ot,Et,!1,null,"5ca26058",null),qt=Ut.exports,zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"location-form-group"},[e._t("default",[n("a-row",[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Straße, Hausnummer",itemSelfUpdate:!0}},[n("a-input-group",{attrs:{compact:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("street"),{rules:[{required:!1!==e.$props.required,message:"Bitte Straße und Hausnummer eingeben"}],initialValue:e.initialData("street")}],expression:"[\n                formFieldName('street'),\n                {\n                  rules: [\n                    {\n                      required: $props.required !== false,\n                      message: 'Bitte Straße und Hausnummer eingeben',\n                    },\n                  ],\n                  initialValue: initialData('street'),\n                },\n              ]"}],ref:"street",staticClass:"custom-input",staticStyle:{width:"calc(100%)"},attrs:{placeholder:"Straße und Hausnummer"}})],1)],1)],1),n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"PLZ, Ort",itemSelfUpdate:!0}},[n("a-input-group",{attrs:{compact:""}},[n("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("zip"),{rules:[{required:!1!==e.$props.required,message:"Bitte PLZ eingeben"}],initialValue:e.initialData("zip")}],expression:"[\n                formFieldName('zip'),\n                {\n                  rules: [\n                    {\n                      required: $props.required !== false,\n                      message: 'Bitte PLZ eingeben',\n                    },\n                  ],\n                  initialValue: initialData('zip'),\n                },\n              ]"}],ref:"zip",staticClass:"custom-input",staticStyle:{width:"50pt"},attrs:{placeholder:"PLZ",dataSource:e.zips,optionLabelProp:"value",dropdownMenuStyle:{width:"max-content"}},on:{search:e.handleZipSearch,select:function(t){return e.handleZipSelection(t)}}}),n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("city"),{rules:[{required:!1!==e.$props.required,message:"Bitte Ort eingeben"}],initialValue:e.initialData("city")}],expression:"[\n                formFieldName('city'),\n                {\n                  rules: [\n                    {\n                      required: $props.required !== false,\n                      message: 'Bitte Ort eingeben',\n                    },\n                  ],\n                  initialValue: initialData('city'),\n                },\n              ]"}],ref:"city",staticClass:"custom-input",staticStyle:{width:"calc(100% - 60pt)"},attrs:{placeholder:"Ort"}})],1)],1)],1)],1),n("a-row",[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Land",itemSelfUpdate:!0}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("country"),{rules:[{required:!1!==e.$props.required,message:"Bitte Land auswählen"}],initialValue:e.initialCountry()}],expression:"[\n              formFieldName('country'),\n              {\n                rules: [\n                  {\n                    required: $props.required !== false,\n                    message: 'Bitte Land auswählen',\n                  },\n                ],\n                initialValue: initialCountry(),\n              },\n            ]"}],ref:"country",staticClass:"custom-input",attrs:{placeholder:"Bitte wählen..."}},[n("a-select-option",{attrs:{value:"BE"}},[e._v("Belgien")]),n("a-select-option",{attrs:{value:"DK"}},[e._v("Dänemark")]),n("a-select-option",{attrs:{value:"DE"}},[e._v("Deutschland")]),n("a-select-option",{attrs:{value:"FR"}},[e._v("Frankreich")]),n("a-select-option",{attrs:{value:"GR"}},[e._v("Griechenland")]),n("a-select-option",{attrs:{value:"UK"}},[e._v("Großbritannien")]),n("a-select-option",{attrs:{value:"IT"}},[e._v("Italien")]),n("a-select-option",{attrs:{value:"LU"}},[e._v("Luxemburg")]),n("a-select-option",{attrs:{value:"NL"}},[e._v("Niederlande")]),n("a-select-option",{attrs:{value:"AT"}},[e._v("Österreich")]),n("a-select-option",{attrs:{value:"PL"}},[e._v("Polen")]),n("a-select-option",{attrs:{value:"PT"}},[e._v("Portugal")]),n("a-select-option",{attrs:{value:"RU"}},[e._v("Russland")]),n("a-select-option",{attrs:{value:"CH"}},[e._v("Schweiz")]),n("a-select-option",{attrs:{value:"ES"}},[e._v("Spanien")]),n("a-select-option",{attrs:{value:"CZ"}},[e._v("Tschechien")]),n("a-select-option",{attrs:{value:"TR"}},[e._v("Türkei")])],1)],1)],1)],1)])],2)},Lt=[],Bt=Object(Pt["a"])(Dt).extend({name:"LocationFormGroup",fieldIdentifiers:["street","zip","city","country"],props:["required","data"],data:function(){return{zips:[],currentZipSearch:""}},methods:{withExts:function(){return Nt(this,Ct())},initialCountry:function(){var e=this.initialData("country");return!e&&this.required?"Deutschland":e},initialData:function(e){return this.$props.data?this.$props.data[this.withExts().formFieldName(e)]:null},updateByZipData:function(e){this.withExts().setData({zip:e.fields.plz,city:e.fields.note,country:"Deutschland"})},handleZipSearch:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.currentZipSearch=e,e&&!(e.length<4)){n.next=5;break}t.zips=[],n.next=13;break;case 5:return n.next=7,Z(e);case 7:if(a=n.sent,t.currentZipSearch===e){n.next=10;break}return n.abrupt("return");case 10:if(0!==a.length){n.next=12;break}return n.abrupt("return");case 12:1===a.length?(setTimeout((function(){t.updateByZipData(a[0]),t.$refs.city.focus()}),0),t.zips=[]):(t.zips=a.map((function(e){return{text:"".concat(e.fields.plz," ").concat(e.fields.note),value:e.fields.plz,zipData:e}})),i=function e(){var n=document.evaluate('string(./descendant-or-self::*[@aria-controls and contains(@class, "ant-select-selection")]/@aria-controls)',t.$refs.zip.$el,null,XPathResult.STRING_TYPE).stringValue,a=document.getElementById(n);a?(a=a.parentElement,a.style.width="max-content"):r["a"].nextTick(e)},r["a"].nextTick(i));case 13:case"end":return n.stop()}}),n)})))()},handleZipSelection:function(e){var t=this,n=this.zips.find((function(t){return t.value===e}));n&&setTimeout((function(){t.updateByZipData(n.zipData),t.$refs.city.focus()}),0)}}}),Vt=Bt,$t=(n("fbb7"),Object(o["a"])(Vt,zt,Lt,!1,null,null,null)),Mt=$t.exports,Gt=r["a"].extend({name:"PatientStammdaten",props:["form","showStay","showDeath","patient"],created:function(){this.patient&&(this.patientInput=this.patient,this.initialDateOfBirth=it()(this.patientInput.dateOfBirth),this.patientInput.dateOfDeath&&(this.initialDateOfBirth=it()(this.patientInput.dateOfDeath)),this.initialRiskOccupation=this.patientInput.riskOccupation||"NO_RISK_OCCUPATION",this.disableOccupation=!1)},data:function(){return{disableOccupation:!0,riskOccupations:It,showDateOfDeath:!1,patientInput:{},initialDateOfBirth:void 0,initialDateOfDeath:void 0,initialRiskOccupation:void 0}},components:{DateInput:qt,LocationFormGroup:Mt},methods:{riskOccupationSelected:function(e){var t;if(this.disableOccupation="NO_RISK_OCCUPATION"!==e,this.disableOccupation){var n;t=(null===(n=this.riskOccupations.find((function(t){return t.value===e})))||void 0===n?void 0:n.label)||""}else{var a=this.$refs.occupation.$el;setTimeout((function(){a.focus()}),0)}this.form.setFieldsValue({occupation:t})},genderSelected:function(e){var t=e.target.value;this.$emit("gender",t)},diedChanged:function(e){this.showDateOfDeath=e.target.value}}}),Yt=Gt,Ht=Object(o["a"])(Yt,_t,kt,!1,null,"c8fe5216",null),Kt=Ht.exports,Qt=r["a"].extend({name:"ChangePatientStammdatenForm",props:["visible","patient"],components:{PatientStammdaten:Kt},data:function(){return{form:this.$form.createForm(this,{name:"patient"})}},methods:Object(p["a"])({},ft.mapMutations({setPatient:"setPatient"}),{save:function(){var e=this;this.form.validateFields((function(t,n){t?console.warn(t):(n.dateOfBirth=n.dateOfBirth.format("YYYY-MM-DD"),n.dateOfDeath&&(n.dateOfDeath=n.dateOfDeath.format("YYYY-MM-DD")),n=Object(p["a"])({},e.patient,{},n),P.updatePatientUsingPut(n).then((function(t){e.setPatient(t),e.$notification.success({message:"Patient erfolgreich aktualisiert",description:""}),e.form.resetFields(),e.$emit("create")})).catch((function(t){e.$notification.error({message:"Patient konnte nicht aktualisiert werden.",description:t.message})})))}))}})}),Zt=Qt,Wt=Object(o["a"])(Zt,St,wt,!1,null,"37de9c17",null),Jt=Wt.exports,Xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-exposure-contact"},[n("a-form-item",{staticStyle:{display:"none"},attrs:{selfUpdate:!0}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("id")],expression:"[formFieldName('id')]"}],attrs:{type:"hidden"}})],1),n("a-row",{staticClass:"patients-flex"},[n("a-form-item",{staticClass:"patient-input",style:"display: "+(e.$props.showOriginatorPatient?"unset":"none"),attrs:{selfUpdate:!0,label:"Ursprungspatient"}},[n("patient-input",e._b({directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("source"),{rules:[{required:!0,message:"Bitte Ursprungspatienten angeben"}]}],expression:"[\n          formFieldName('source'),\n          {\n            rules: [\n              { required: true, message: 'Bitte Ursprungspatienten angeben' },\n            ],\n          },\n        ]"}],attrs:{disabled:e.$props.disableOriginatorPatient,filterOption:e.filterSources}},"patient-input",e.inputProps.source,!1))],1),e.$props.showOriginatorPatient&&e.$props.showContactPatient?n("a-icon",{attrs:{type:"swap"}}):e._e(),n("a-form-item",{staticClass:"patient-input",style:"display: "+(e.$props.showContactPatient?"unset":"none"),attrs:{selfUpdate:!0,label:"Kontaktperson"}},[n("patient-input",e._b({directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("contact"),{rules:[{required:!0,message:"Bitte Kontaktperson angeben"}]}],expression:"[\n          formFieldName('contact'),\n          {\n            rules: [\n              { required: true, message: 'Bitte Kontaktperson angeben' },\n            ],\n          },\n        ]"}],attrs:{disabled:e.$props.disableContactPatient,filterOption:e.filterContacts}},"patient-input",e.inputProps.contact,!1))],1)],1),n("a-row",[n("a-col",{attrs:{md:11,sm:24}},[n("a-form-item",{attrs:{label:"Datum des Kontakts",selfUpdate:!0}},[n("date-input",e._b({directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("dateOfContact"),{rules:[{required:!0,message:"Bitte ein gültiges Datum angeben"}]}],expression:"[\n            formFieldName('dateOfContact'),\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte ein gültiges Datum angeben',\n                },\n              ],\n            },\n          ]"}],attrs:{disabledDate:function(t){return t.isAfter(e.moment())}}},"date-input",e.inputProps.dateOfContact,!1))],1)],1),n("a-col",{attrs:{md:2,sm:0}}),n("a-col",{attrs:{md:11,sm:24}},[n("a-form-item",{attrs:{label:"Umgebung / Kontext",selfUpdate:!0}},[n("a-auto-complete",e._b({directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("context"),{rules:[{required:!0,message:"Bitte den Umstand des Kontakts angeben"}]}],expression:"[\n            formFieldName('context'),\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte den Umstand des Kontakts angeben',\n                },\n              ],\n            },\n          ]"}],attrs:{dataSource:e.contexts,filterOption:!1}},"a-auto-complete",e.inputProps.context,!1))],1)],1)],1),n("a-row",[n("a-form-item",{attrs:{label:"Sonstiges / Kommentar",selfUpdate:!0}},[n("a-textarea",e._b({directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("comment"),{rules:[]}],expression:"[\n          formFieldName('comment'),\n          {\n            rules: [],\n          },\n        ]"}]},"a-textarea",e.inputProps.comment,!1))],1)],1)],1)},en=[],tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-select",e._g(e._b({ref:"input",attrs:{defaultActiveFirstOption:!1,placeholder:e.placeholder,showSearch:!0,showArrow:!1,filterOption:e.filterOption,value:e.value},on:{search:e.handleSearch}},"a-select",e.$attrs,!1),e.externListeners),e._l(e.result,(function(t){return n("a-select-option",{key:t.value},[e._v(" "+e._s(t.label)+" ")])})),1)},nn=[],an=(n("841c"),Object(Pt["a"])(At).extend({name:"PatientInput",inheritAttrs:!1,props:{placeholder:{default:"Suche über ID, Name, Telefon, Mail"},value:{default:""},filterOption:{default:!1}},model:{prop:"value",event:"change"},fieldValueConvert:function(e){var t=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};if("object"===Object(T["a"])(e)&&t(e,"id")){var n=e;return this.result=[{label:this.getPatientLabel(n),value:n.id}],n.id||""}return e},inject:{FormContext:{default:function(){return{}}}},data:function(){return{result:[]}},computed:{externListeners:function(){var e=this.$listeners,t=(e.search,Object(y["a"])(e,["search"]));return t}},methods:{getPatientLabel:function(e){return"".concat(e.firstName," ").concat(e.lastName," (").concat(e.id,")")},handleSearch:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e&&!(e.length<2)){n.next=4;break}a=[],n.next=7;break;case 4:return n.next=6,P.queryPatientsSimpleUsingPost({query:e,offsetPage:0,pageSize:10,order:"asc",orderBy:"lastName"});case 6:a=n.sent;case 7:t.result=a.map((function(e){return{label:t.getPatientLabel(e),value:e.id}}));case 8:case"end":return n.stop()}}),n)})))()}}})),rn=an,sn=Object(o["a"])(rn,tn,nn,!1,null,"7a0f266c",null),on=sn.exports,ln=["Haushaltskontakt","Berufskontakt","Kontakt in Gemeinschaftseinrichtung"],un=Object(Pt["a"])(Dt).extend({name:"EditExposureFormGroup",components:{DateInput:qt,PatientInput:on},fieldIdentifiers:["id","source","contact","dateOfContact","context","comment"],props:{showOriginatorPatient:{default:!0},showContactPatient:{default:!0},disableOriginatorPatient:{default:!1},disableContactPatient:{default:!1}},data:function(){return{contexts:ln}},methods:{withExts:function(){return Nt(this,Ct())},moment:it.a,filterContacts:function(e,t){return t.key!==this.withExts().getSingleValue("source")},filterSources:function(e,t){return t.key!==this.withExts().getSingleValue("contact")}}}),cn=un,dn=(n("4972"),Object(o["a"])(cn,Xt,en,!1,null,null,null)),mn=dn.exports;function pn(e,t){return Object.fromEntries(Object.entries(e).map((function(e){var n=e[0],a=e[1],r=t[n];return r&&("function"===typeof r&&(r={transform:r}),Object.prototype.hasOwnProperty.call(r,"transform")&&(a=r.transform(a)),e=[n,a]),e})))}var fn=[{title:"Test ID",dataIndex:"testId",key:"testId"},{title:"Test Typ",dataIndex:"testType",key:"testType",scopedSlots:{customRender:"testType"}},{title:"Test Status",dataIndex:"testStatus",key:"testStatus",scopedSlots:{customRender:"testStatus"}},{title:"Aktualisiert",dataIndex:"lastUpdate",key:"lastUpdate",scopedSlots:{customRender:"lastUpdate"}},{title:"Kommentar",dataIndex:"comment",key:"comment"}],hn=[{key:"gotoPatient",width:"40pt",align:"center",scopedSlots:{customRender:"gotoPatient"}},{title:"Nachname",key:"lastName",dataIndex:"contact.lastName"},{title:"Vorname",key:"firstName",dataIndex:"contact.firstName"},{title:"Datum des Kontakts",key:"dateOfContact",scopedSlots:{customRender:"dateOfContact"}},{title:"Kontaktart",key:"context",dataIndex:"context"},{title:"Infektionsstatus",key:"infected",scopedSlots:{customRender:"infectionState"}},{title:"Quarantänestatus",key:"quarantine",scopedSlots:{customRender:"quarantineState"}},{title:"Aktionen",key:"actions",width:"120pt",align:"center",scopedSlots:{customRender:"actions"}}],vn=[{title:"Name",key:"name",scopedSlots:{customRender:"name"}},{title:"Kontaktdatum",key:"dateOfContact",scopedSlots:{customRender:"dateOfContact"}},{title:"Kontaktart",key:"context",dataIndex:"context"}],gn=r["a"].extend({name:"PatientDetails",components:{ChangePatientStammdatenForm:Jt,EditExposureContact:mn},computed:Object(p["a"])({},ft.mapGetters({patientById:"patientById"})),created:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loadData(),e.exposureContactForm=e.$form.createForm(e.$refs.exposureContactModal,{name:"exposure-contact"});case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{permissions:{sendToQuarantine:!1},dateFormat:"DD.MM.YYYY",patient:void 0,patientInfectionSources:[],exposureContacts:[],exposureContactsLoading:!1,exposureContactForm:void 0,exposureContactInEditing:null,patientStatus:void 0,eventTypes:ht,testResults:vt,testTypes:xt,symptoms:[],showChangePatientStammdatenForm:!1,preIllnesses:[],dateOfBirth:"",gender:"",tests:[],columnsTests:fn,columnsExposureContacts:hn,columnsIndexPatients:vn,dateOfReporting:"",dateOfIllness:""}},watch:{"$route.params.id":function(){this.loadData()}},methods:Object(p["a"])({},ft.mapMutations({setPatient:"setPatient"}),{loadData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.exposureContactsLoading=!0,t.prev=1,t.next=4,ot({sendToQuarantine:P.sendToQuarantineUsingPost});case 4:e.permissions=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:if(r=e.$route.params.id,e.patient=e.patientById(e.$route.params.id),e.patient){t.next=18;break}return t.next=15,P.getPatientForIdUsingGet(r);case 15:i=t.sent,e.setPatient(i),e.patient=i;case 18:return e.patient.events&&(s=e.patient.events.find((function(e){return"REGISTERED"===e.eventType||"SUSPECTED"===e.eventType})),s&&(e.dateOfReporting=it()(s.eventTimestamp).format(e.dateFormat))),e.patient.dateOfIllness?e.dateOfIllness=it()(e.patient.dateOfIllness).format(e.dateFormat):e.dateOfIllness=e.dateOfReporting,e.patientStatus=ht.find((function(t){var n;return t.id===(null===(n=e.patient)||void 0===n?void 0:n.patientStatus)})),e.symptoms=(null===(n=e.patient.symptoms)||void 0===n?void 0:n.map((function(e){var t=gt.find((function(t){return t.value===e}));return t?t.label:e})))||[],e.preIllnesses=(null===(a=e.patient.preIllnesses)||void 0===a?void 0:a.map((function(e){var t=yt.find((function(t){return t.value===e}));return t?t.label:e})))||[],e.dateOfBirth=it()(e.patient.dateOfBirth).format(e.dateFormat),o=e.patient.gender||"",e.gender="male"===o?"männlich":"female"===o?"weiblich":"divers",t.prev=26,t.next=29,P.getExposureSourceContactsForPatientUsingGet(r);case 29:e.patientInfectionSources=t.sent,t.next=35;break;case 32:t.prev=32,t.t1=t["catch"](26),e.patientInfectionSources=[];case 35:return t.next=37,P.getLabTestForPatientUsingGet(r);case 37:return e.tests=t.sent,t.next=40,P.getExposureContactsForPatientUsingGet(r);case 40:e.exposureContacts=t.sent,e.exposureContactsLoading=!1;case 42:case"end":return t.stop()}}),t,null,[[1,7],[26,32]])})))()},timelineColor:function(e){switch(e){case"TEST_FINISHED_POSITIVE":return"red";case"TEST_FINISHED_NEGATIVE":return"green";default:return"grey"}},formatTimestamp:function(e){var t=it()(e);return t.isValid()?it()(e).format("DD.MM.YYYY HH:mm"):"Unbekannt"},editPatientStammdaten:function(){this.showChangePatientStammdatenForm=!0},handleActionClick:function(e){var t;switch(e.key){case"SEND_TO_QUARANTINE":this.$router.push({name:"request-quarantine",params:{patientId:(null===(t=this.patient)||void 0===t?void 0:t.id)||""}});break;case"ARRANGE_TEST":this.scheduleTest();break}},scheduleTest:function(){var e=this;this.patient&&P.createOrderTestEventUsingPost({patientId:this.patient.id}).then((function(){e.$notification.success({message:"Test angefordert",description:""}),e.loadData()})).catch((function(){e.$notification.error({message:"Es ist ein Fehler aufgetreten",description:""})}))},addExposureContact:function(){var e=this;this.exposureContactInEditing={},r["a"].nextTick((function(){e.exposureContactForm.resetFields(),e.exposureContactForm.setFieldsValue({source:e.patient})}))},showExposureContact:function(e){var t=this,n=this.exposureContacts.find((function(t){return t.id===e}));this.exposureContactInEditing=n,r["a"].nextTick((function(){t.exposureContactForm.setFieldsValue(pn(n,{dateOfContact:it.a}))}))},persistExposureContact:function(){var e=this,t=function(e){return e.format("YYYY-MM-DD")};return new Promise((function(n){e.exposureContactForm.validateFields(function(){var a=Object(f["a"])(regeneratorRuntime.mark((function a(r,i){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r){a.next=3;break}return n(!1),a.abrupt("return");case 3:if(i=pn(i,{id:parseInt,dateOfContact:t}),!i.id){a.next=13;break}return a.t0=Object,a.t1=e.exposureContactInEditing,a.next=9,P.updateExposureContactUsingPut(i);case 9:a.t2=a.sent,a.t0.assign.call(a.t0,a.t1,a.t2),a.next=18;break;case 13:return a.t3=e.exposureContacts,a.next=16,P.createExposureContactUsingPost(i);case 16:a.t4=a.sent,a.t3.push.call(a.t3,a.t4);case 18:n(!0);case 19:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}))},removeExposureContact:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,P.removeExposureContactUsingDelete(e);case 2:t.exposureContacts=t.exposureContacts.filter((function(t){return t.id!==e}));case 3:case"end":return n.stop()}}),n)})))()},showPatient:function(e){this.$router.push({name:"patient-detail",params:{id:e}})},moment:it.a,getDate:function(e){return it()(e).format(this.dateFormat)}})}),bn=gn,yn=(n("c83a"),n("950d"),Object(o["a"])(bn,nt,at,!1,null,"4bb66aac",null)),xn=yn.exports,Sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-card",{staticClass:"table-container"},[n("a-form",{staticClass:"search-container",attrs:{model:e.form}},[n("a-form-item",{staticStyle:{width:"600px","max-width":"100%"}},[n("a-input",{attrs:{disabled:e.showAdvancedSearch,placeholder:"Suche über ID, Name, Stadt, Email oder Telefon (z.B. 'Max Mustermann Berlin')"},model:{value:e.form.query,callback:function(t){e.$set(e.form,"query",t)},expression:"form.query"}},[n("a-icon",{attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1)],1),n("a-button",{on:{click:e.toggleAdvancedSearch}},[n("a-icon",{attrs:{type:e.showAdvancedSearch?"down":"right"}}),e._v(" Erweiterte Suche ")],1),n("a-button",{attrs:{"html-type":"submit",icon:"search",type:"primary"},on:{click:e.handleSearch}},[e._v(" Suche ")])],1),e.showAdvancedSearch?n("a-form",{staticClass:"search-container",attrs:{model:e.advancedForm}},[n("a-form-item",{attrs:{label:"Vorname"}},[n("a-input",{attrs:{placeholder:"Vorname"},model:{value:e.advancedForm.firstName,callback:function(t){e.$set(e.advancedForm,"firstName",t)},expression:"advancedForm.firstName"}},[n("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Nachname"}},[n("a-input",{attrs:{placeholder:"Nachname"},model:{value:e.advancedForm.lastName,callback:function(t){e.$set(e.advancedForm,"lastName",t)},expression:"advancedForm.lastName"}},[n("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Status"}},[n("a-select",{staticStyle:{width:"250px"},attrs:{placeholder:"Status"},model:{value:e.advancedForm.patientStatus,callback:function(t){e.$set(e.advancedForm,"patientStatus",t)},expression:"advancedForm.patientStatus"}},[n("a-select-option",{attrs:{value:""}},[e._v("Alle")]),e._l(e.eventTypes,(function(t){return n("a-select-option",{key:t.id},[n("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:t.icon}}),e._v(" "+e._s(t.label)+" ")],1)}))],2)],1),n("a-form-item",{attrs:{label:"ID"}},[n("a-input",{attrs:{placeholder:"ID"},model:{value:e.advancedForm.id,callback:function(t){e.$set(e.advancedForm,"id",t)},expression:"advancedForm.id"}},[n("a-icon",{attrs:{slot:"prefix",type:"hdd"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Geschlecht"}},[n("a-select",{staticStyle:{width:"120px"},attrs:{placeholder:"Geschlecht"},model:{value:e.advancedForm.gender,callback:function(t){e.$set(e.advancedForm,"gender",t)},expression:"advancedForm.gender"}},[n("a-select-option",{attrs:{value:""}},[e._v("Alle")]),n("a-select-option",{attrs:{value:"female"}},[n("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"woman"}}),e._v(" Weiblich ")],1),n("a-select-option",{attrs:{value:"male"}},[n("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"man"}}),e._v(" Männlich ")],1),n("a-select-option",{attrs:{value:"divers"}},[e._v("Sonstiges")])],1)],1),n("a-form-item",{attrs:{label:"Stadt"}},[n("a-input",{attrs:{placeholder:"Stadt"},model:{value:e.advancedForm.city,callback:function(t){e.$set(e.advancedForm,"city",t)},expression:"advancedForm.city"}},[n("a-icon",{attrs:{slot:"prefix",type:"home"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"E-Mail"}},[n("a-input",{attrs:{placeholder:"E-Mail"},model:{value:e.advancedForm.email,callback:function(t){e.$set(e.advancedForm,"email",t)},expression:"advancedForm.email"}},[n("a-icon",{attrs:{slot:"prefix",type:"mail"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Telefonnummer"}},[n("a-input",{attrs:{placeholder:"Telefonnummer"},model:{value:e.advancedForm.phoneNumber,callback:function(t){e.$set(e.advancedForm,"phoneNumber",t)},expression:"advancedForm.phoneNumber"}},[n("a-icon",{attrs:{slot:"prefix",type:"phone"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Straße"}},[n("a-input",{attrs:{placeholder:"Straße"},model:{value:e.advancedForm.street,callback:function(t){e.$set(e.advancedForm,"street",t)},expression:"advancedForm.street"}},[n("a-icon",{attrs:{slot:"prefix",type:"home"},slot:"prefix"})],1)],1),n("a-form-item",{staticStyle:{width:"100px"},attrs:{label:"Hausnummer"}},[n("a-input",{attrs:{placeholder:"Hausnr."},model:{value:e.advancedForm.houseNumber,callback:function(t){e.$set(e.advancedForm,"houseNumber",t)},expression:"advancedForm.houseNumber"}},[n("a-icon",{attrs:{slot:"prefix",type:"home"},slot:"prefix"})],1)],1),n("a-form-item",{staticStyle:{width:"100px"},attrs:{label:"Postleitzahl"}},[n("a-input",{attrs:{placeholder:"PLZ"},model:{value:e.advancedForm.zip,callback:function(t){e.$set(e.advancedForm,"zip",t)},expression:"advancedForm.zip"}},[n("a-icon",{attrs:{slot:"prefix",type:"home"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Versicherung"}},[n("a-input",{attrs:{placeholder:"Versicherung"},model:{value:e.advancedForm.insuranceCompany,callback:function(t){e.$set(e.advancedForm,"insuranceCompany",t)},expression:"advancedForm.insuranceCompany"}},[n("a-icon",{attrs:{slot:"prefix",type:"hdd"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Versicherungsnummer"}},[n("a-input",{attrs:{placeholder:"Versicherungsnummer"},model:{value:e.advancedForm.insuranceMembershipNumber,callback:function(t){e.$set(e.advancedForm,"insuranceMembershipNumber",t)},expression:"advancedForm.insuranceMembershipNumber"}},[n("a-icon",{attrs:{slot:"prefix",type:"idcard"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Arzt-ID"}},[n("a-input",{attrs:{placeholder:"Arzt-ID"},model:{value:e.advancedForm.doctorId,callback:function(t){e.$set(e.advancedForm,"doctorId",t)},expression:"advancedForm.doctorId"}},[n("a-icon",{attrs:{slot:"prefix",type:"hdd"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Labor-ID"}},[n("a-input",{attrs:{placeholder:"Labor-ID"},model:{value:e.advancedForm.laboratoryId,callback:function(t){e.$set(e.advancedForm,"laboratoryId",t)},expression:"advancedForm.laboratoryId"}},[n("a-icon",{attrs:{slot:"prefix",type:"hdd"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Quarantänestatus"}},[n("a-select",{staticStyle:{width:"250px"},attrs:{placeholder:"Quarantänestatus"},model:{value:e.quarantineSelection,callback:function(t){e.quarantineSelection=t},expression:"quarantineSelection"}},[n("a-select-option",{attrs:{value:""}},[e._v("Alle")]),n("a-select-option",{key:"QUARANTINE_MANDATED"},[e._v("Quarantäne angeordnet")]),n("a-select-option",{key:"QUARANTINE_SELECTED"},[e._v("Quarantäne vorgemerkt")]),n("a-select-option",{key:"NO_SELECTION"},[e._v("Keine Anordnung")])],1)],1),n("a-button",{staticStyle:{visibility:"hidden"},attrs:{"html-type":"submit"},on:{click:e.handleSearch}})],1):e._e(),n("a-table",{staticClass:"imis-table-no-pagination",attrs:{columns:e.columnsSchema,customRow:e.customRow,dataSource:e.currentPatients,pagination:{pageSize:500},scroll:{x:0,y:0},rowKey:"id"},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"gender",fn:function(t){return n("div",{},[e._v(" "+e._s("male"===t?"männlich":"female"===t?"weiblich":"divers")+" ")])}},{key:"patientStatus",fn:function(t){return n("div",{},[n("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:e.eventTypes.find((function(e){return e.id===t})).icon}}),e._v(" "+e._s(e.eventTypes.find((function(e){return e.id===t})).label)+" ")],1)}},{key:"operation",fn:function(t,a){return n("div",{staticStyle:{cursor:"pointer"}},[n("a-icon",{staticStyle:{"margin-right":"5px",cursor:"pointer"},attrs:{type:"import"},on:{click:function(){return e.handlePatientClick(a)}}})],1)}},{key:"name",fn:function(t){return n("div",{},[e._v(" "+e._s(t.lastName)+", "+e._s(t.firstName)+" ")])}},{key:"city",fn:function(t){return n("div",{},[e._v(" "+e._s(t.zip)+" "+e._s(t.city)+" ")])}},{key:"age",fn:function(t){return n("div",{},[e._v(" "+e._s(e.moment().diff(e.moment(t),"years"))+" ")])}},{key:"indexpatient",fn:function(e){return n("div",{},[n("index-patient-table-cell",{attrs:{"patient-id":e}})],1)}}])}),n("div",{staticStyle:{display:"flex",width:"100%",margin:"15px 0","justify-content":"flex-end","align-items":"center"}},[n("a-button",{staticStyle:{"margin-right":"50px"},attrs:{type:"primary"},on:{click:e.downloadPatients}},[e._v("CSV exportieren")]),n("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.count)+" Patienten")]),n("a-pagination",{attrs:{pageSize:e.form.pageSize,total:e.count,showSizeChanger:""},on:{"update:pageSize":function(t){return e.$set(e.form,"pageSize",t)},"update:page-size":function(t){return e.$set(e.form,"pageSize",t)},showSizeChange:e.onShowSizeChange},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)},wn=[];n("4ec9"),n("3ca3"),n("ddb0"),n("2b3d");function _n(e,t){var n=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.setAttribute("href",URL.createObjectURL(n)),a.setAttribute("download",t||"data.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}var kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.indexPatient?n("router-link",{attrs:{to:{name:"patient-detail",params:{id:e.indexPatient.id}}}},[e._v(" "+e._s(e.indexPatient.lastName)+", "+e._s(e.indexPatient.firstName)+" ")]):n("div",[e._v("-")])],1)},In=[],On=r["a"].extend({name:"IndexPatientTableCell",props:["patientId"],data:function(){return{indexPatient:void 0}},created:function(){var e=this;P.getExposureSourceContactsForPatientUsingGet(this.patientId).then((function(t){if(t.length>0){var n=t[0].source;n&&(e.indexPatient=n,console.log("Has source: "+e.patientId))}}))},methods:{}}),En=On,Pn=Object(o["a"])(En,kn,In,!1,null,"6ec21477",null),Cn=Pn.exports,Tn=[{title:"",dataIndex:"operation",scopedSlots:{customRender:["operation"]}},{title:"Name",key:"lastName",scopedSlots:{customRender:["name"]}},{title:"Geschlecht",dataIndex:"gender",key:"gender",scopedSlots:{customRender:"gender"}},{title:"Status",dataIndex:"patientStatus",key:"patientStatus",scopedSlots:{customRender:"patientStatus"},sorter:!0},{title:"Stadt",key:"city",scopedSlots:{customRender:"city"}},{title:"Alter",dataIndex:"dateOfBirth",key:"age",scopedSlots:{customRender:"age"}},{title:"Indexpatient",dataIndex:"id",key:"indexpatient",scopedSlots:{customRender:"indexpatient"}},{title:"ID",dataIndex:"id",key:"id",defaultSortOrder:"ascend"}],Nn=r["a"].extend({name:"PatientList",components:{IndexPatientTableCell:Cn},data:function(){return{form:{query:"",order:"asc",orderBy:"lastName",offsetPage:0,pageSize:10},advancedForm:{gender:"",city:"",email:"",phoneNumber:"",street:"",houseNumber:"",zip:"",insuranceCompany:"",insuranceMembershipNumber:"",doctorId:"",laboratoryId:"",firstName:"",lastName:"",patientStatus:void 0,quarantineStatus:void 0,id:""},quarantineSelection:"",content:"",count:10,currentPage:1,columnsSchema:Tn,data:[],showAdvancedSearch:!1,eventTypes:ht,currentPatients:[]}},watch:{currentPage:function(){this.loadPage()},"$route.query.query":function(){this.loadAfterUrlChange()}},created:function(){this.indexPatientMap=new Map,this.loadAfterUrlChange()},methods:{loadAfterUrlChange:function(){var e=this.$route.query.query;e&&(this.form.query=e.toString()),this.loadPage()},handleSearch:function(){this.currentPage=1,this.loadPage()},onShowSizeChange:function(e,t){this.currentPage=e,this.advancedForm.pageSize=t,this.loadPage()},loadPage:function(){var e,t,n=this;if(this.form.offsetPage=this.currentPage-1,this.showAdvancedSearch){var a=Object(p["a"])({},this.form,{},this.advancedForm);a.patientStatus||(a.patientStatus=void 0),a.quarantineStatus=this.getQuarantineSelection(),e=P.countQueryPatientsUsingPost(a),t=P.queryPatientsUsingPost(a)}else{var r=this.form.query;e=P.countQueryPatientsSimpleUsingGet({query:r}),t=P.queryPatientsSimpleUsingPost(Object(p["a"])({},this.form))}e.then((function(e){n.count=e})),t.then((function(e){n.currentPatients=e})).catch((function(e){console.error(e);var t={message:"Fehler beim Laden der Patientendaten.",description:e.message};n.$notification.error(t)}))},toggleAdvancedSearch:function(){this.showAdvancedSearch=!this.showAdvancedSearch},downloadPatients:function(){var e,t,n=this;if(this.form.offsetPage=this.currentPage-1,this.showAdvancedSearch)t=Object(p["a"])({},this.form,{},this.advancedForm),t.patientStatus||delete t.patientStatus,t.quarantineStatus=this.getQuarantineSelection(),e=P.countQueryPatientsUsingPost(t);else{t=Object(p["a"])({},this.form);var a=this.form.query;e=P.countQueryPatientsSimpleUsingGet({query:a})}e.then((function(e){var a;t.offsetPage=0,t.pageSize=e,a=n.showAdvancedSearch?P.queryPatientsUsingPost(t):P.queryPatientsSimpleUsingPost(t),a.then((function(e){var t="ID;Vorname;Nachname;Geschlecht;Status;Geburtsdatum;Stadt;E-Mail;Telefonnummer;Straße;Hausnummer;Stadt;Versicherung;Versichertennummer",n=e.map((function(e){return"".concat(e.id,";").concat(e.firstName,";").concat(e.lastName,";").concat(e.gender,";").concat(e.patientStatus,";")+"".concat(e.dateOfBirth,";").concat(e.city,";").concat(e.email,";").concat(e.phoneNumber,";").concat(e.street,";")+"".concat(e.houseNumber,";").concat(e.city,";").concat(e.insuranceCompany,";").concat(e.insuranceMembershipNumber)})).join("\n"),a=it()().format("YYYY_MM_DD")+"_patienten_export.csv";_n(t+"\n"+n,a)})).catch((function(e){console.error(e);var t={message:"Fehler beim Laden der Patientendaten.",description:e.message};n.$notification.error(t)}))}))},handleTableChange:function(e,t,n){var a=n.field?n.field:"lastName",r="asc";"descend"===n.order&&(r="desc"),this.form.order=r,this.form.orderBy=a,this.loadPage()},handlePatientClick:function(e){e.id&&this.$router.push({name:"patient-detail",params:{id:e.id}})},customRow:function(e){var t=this;return{on:{dblclick:function(){return t.handlePatientClick(e)}}}},getQuarantineSelection:function(){return this.quarantineSelection?"NO_SELECTION"===this.quarantineSelection?["QUARANTINE_RELEASED","QUARANTINE_PROFESSIONBAN_RELEASED",null]:[this.quarantineSelection]:[]},moment:it.a}}),Rn=Nn,Dn=(n("6af3"),Object(o["a"])(Rn,Sn,wn,!1,null,"89ed95fa",null)),An=Dn.exports,jn=function(){var e=this,t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"public-register-outer-container"},[r("a-card",{staticClass:"card"},[r("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[r("img",{staticStyle:{"vertical-align":"middle",height:"100px","margin-right":"25px"},attrs:{"aspect-ratio":"1.7",src:n("cf05")}}),r("h1",{staticStyle:{margin:"0"}},[t._v("Selbstregistrierung")])]),r("div",{staticStyle:{"margin-top":"35px"}},[r("a-steps",{staticClass:"steps",staticStyle:{"margin-bottom":"20px"},attrs:{id:"scroll-anchor",current:t.current,direction:t.stepsDirection},on:{change:function(t){return e.current=t}}},t._l(t.steps,(function(e){return r("a-step",{key:e.title,attrs:{title:e.title,disabled:t.maxCurrent<t.steps.findIndex((function(t){return t.title===e.title}))}})})),1),r("a-form",{attrs:{form:t.form,labelCol:{sm:{span:8},xs:{span:24}},layout:"horizontal",wrapperCol:{xs:{span:24},sm:{span:16}}}},[r("div",{style:{display:0===t.current?"block":"none"}},[r("h2",[t._v(" Welche der folgenden Symptome hatten Sie in den letzten 24h? ")]),r("div",{staticStyle:{display:"flex"}},[r("span",{staticStyle:{flex:"1 1 auto"}}),r("div",[r("a-form-item",{staticStyle:{"margin-bottom":"0"}},[r("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["symptoms"],expression:"['symptoms']"}],staticClass:"checkbox-group",attrs:{options:t.symptoms}})],1),r("div",{staticClass:"checkbox-group"},[r("div",{staticStyle:{display:"flex","align-items":"center","align-self":"stretch"}},[r("a-checkbox",{on:{change:t.symptomsChanged}},[t._v("Andere:")]),r("a-form-item",{staticStyle:{flex:"1 1 100%","margin-bottom":"0"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["symptomsOther"],expression:"['symptomsOther']"}],attrs:{disabled:!t.showOtherSymptoms}})],1)],1)])],1),r("span",{staticStyle:{flex:"1 1 auto"}})])]),r("div",{style:{display:1===t.current?"block":"none"}},[r("h2",[t._v("Welche Formen der Exposition treffen auf Sie zu?")]),r("div",{staticStyle:{display:"flex"}},[r("span",{staticStyle:{flex:"1 1 auto"}}),r("div",{staticStyle:{display:"flex","flex-direction":"column"}},[r("a-form-item",[r("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["exposures"],expression:"['exposures']"}],staticClass:"checkbox-group",attrs:{options:t.exposures},on:{change:t.exposuresChanged}})],1),r("a-form-item",{staticStyle:{"padding-left":"35px"}},[r("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["exposureLocation"],expression:"['exposureLocation']"}],staticClass:"checkbox-group",attrs:{disabled:t.disableExposureLocation,options:t.exposureLocation}})],1)],1),r("span",{staticStyle:{flex:"1 1 auto"}})])]),r("div",{style:{display:2===t.current?"block":"none"}},[r("h2",[t._v(" Welche Vorerkrankungen und Risikofaktoren treffen auf Sie zu? ")]),r("div",{staticStyle:{display:"flex"}},[r("span",{staticStyle:{flex:"1 1 auto"}}),r("div",[r("a-form-item",{staticStyle:{"margin-bottom":"0"}},[r("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["preIllnesses"],expression:"['preIllnesses']"}],staticClass:"checkbox-group",attrs:{options:t.preIllnesses}})],1),r("div",{staticClass:"checkbox-group"},[r("div",{staticStyle:{display:"flex","align-items":"center","align-self":"stretch"}},[r("a-checkbox",{on:{change:t.preIllnessesChanged}},[t._v("Andere:")]),r("a-form-item",{staticStyle:{flex:"1 1 100%","margin-bottom":"0"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["preIllnessesOther"],expression:"['preIllnessesOther']"}],attrs:{disabled:!t.showOtherPreIllnesses}})],1)],1)])],1),r("span",{staticStyle:{flex:"1 1 auto"}})])]),r("div",{staticClass:"data-form",style:{display:3===t.current?"block":"none"}},[r("h2",[t._v("Bitte erfassen Sie nun Ihre persönlichen Daten.")]),r("PatientStammdaten",{attrs:{form:t.form}})],1),r("div",{style:{display:4===t.current?"block":"none"}},[t.createdPatient?t._e():r("div",[r("h2",[t._v("Sie haben es fast geschafft!")]),r("a-form-item",[r("a-checkbox",{on:{change:t.onCheckedChange}},[t._v(" Ich erkläre mich mit der Übermittlung meiner Daten zur weiteren Verarbeitung einverstanden. ")]),t.showCheckedError?r("span",{staticStyle:{color:"red"}},[t._v("Bitte bestätigen")]):t._e()],1),r("a-button",{staticStyle:{width:"200px","margin-bottom":"25px"},attrs:{disabled:!t.checked,block:"",shape:"round",size:"large",type:"primary"},on:{click:t.save}},[r("a-icon",{attrs:{type:"save"}}),t._v(" Daten übermitteln ")],1)],1),t.createdPatient?r("div",[r("h2",[t._v("Geschafft!")]),r("div",{staticStyle:{"margin-bottom":"20px",display:"flex","align-items":"center","justify-content":"center"}},[r("a-icon",{staticStyle:{"margin-right":"25px"},style:{fontSize:"38px",color:"#08c"},attrs:{type:"check-circle"}}),r("span",[t._v("Sie erhalten in Kürze eine Email zur Bestätigung.")])],1)]):t._e()])])],1),r("div",{staticClass:"button-row"},[r("a-button",{staticClass:"button-row-button",staticStyle:{flex:"0 1 150px"},style:{visibility:0===t.current||t.createdPatient?"hidden":"visible"},attrs:{block:"",shape:"round",size:"large",type:"primary"},on:{click:t.prev}},[r("a-icon",{attrs:{type:"arrow-left"}}),t._v(" Zurück ")],1),r("a-button",{staticClass:"button-row-button",staticStyle:{flex:"0 1 150px"},style:{visibility:4===t.current?"hidden":"visible"},attrs:{block:"",shape:"round",size:"large",type:"primary"},on:{click:t.next}},[t._v(" Weiter "),r("a-icon",{attrs:{type:"arrow-right"}})],1)],1)])],1)},Fn=[],Un=(n("2ca0"),{label:"Medizinischer Heilberuf",value:"MEDICAL_HEALTH_PROFESSION"}),qn={label:"Arbeit in medizinischem Labor",value:"MEDICAL_LABORATORY"},zn={label:"Aufenthalt in medizinischer Einrichtung in den letzten 14 Tagen vor der Erkrankung",value:"STAY_IN_MEDICAL_FACILITY"},Ln={label:"Enger Kontakt mit wahrscheinlichem oder bestätigtem Fall in den letzten 14 Tagen vor der Erkrankung",value:"CONTACT_WITH_CORONA_CASE"},Bn={label:"Arbeit in Gemeinschaftseinrichtung (z.B. Schule, Kinderkrippe, Heim, sonst. Massenunterkünfte (§§34 und 36 Abs. 1 IfSG))",value:"COMMUNITY_FACILITY"},Vn={label:"Betreuung in Gemeinschaftseinrichtung für Kinder oder Jugendliche, z.B.Schule, Kinderkrippe (§33 IfSG)",value:"COMMUNITY_FACILITY_MINORS"},$n=[Un,qn,zn,Bn,Vn,Ln],Mn=[Un,qn,zn,Ln],Gn=[{label:"in einer medizinischen Einrichtung",value:"MEDICAL_FACILITY"},{label:"im privaten Haushalt",value:"PRIVATE"},{label:"am Arbeitsplatz",value:"WORK"},{label:"andere / sonstige",value:"OTHER"}],Yn=r["a"].extend({name:"PublicRegisterComponent",components:{PatientStammdaten:Kt},data:function(){return{form:this.$form.createForm(this),current:0,maxCurrent:0,createdPatient:null,symptoms:gt,preIllnesses:yt,exposures:Mn,exposureLocation:Gn,steps:[{title:"Symptome"},{title:"Exposition"},{title:"Risiken",description:"Vorerkrankungen und Risikofaktoren"},{title:"Persönliche Daten"}],checked:!1,showCheckedError:!1,disableExposureLocation:!0,showOtherSymptoms:!1,showOtherPreIllnesses:!1}},computed:{stepsDirection:function(){return window.innerWidth>=700?"horizontal":"vertical"}},methods:{scrollToFormTop:function(){document.getElementById("scroll-anchor").scrollIntoView()},prev:function(){this.current--,this.scrollToFormTop()},next:function(){var e=this,t=function(){e.current++,e.maxCurrent=Math.max(e.current,e.maxCurrent),e.scrollToFormTop()};3===this.current?this.form.validateFields((function(e){e||t()})):t()},save:function(){var e=this;this.checked?this.form.validateFields((function(t,n){if(t)console.error(t);else{var a=Object(p["a"])({},n,{dateOfBirth:n.dateOfBirth.format("YYYY-MM-DD"),patientStatus:"REGISTERED",fluImmunization:!1,speedOfSymptomsOutbreak:"",riskAreas:[]});a.symptoms||(a.symptoms=[]),a.preIllnesses||(a.preIllnesses=[]),n.exposures&&(a.riskAreas=a.riskAreas.concat(n.exposures)),e.showOtherSymptoms&&a.symptoms.push(n.symptomsOther),e.showOtherPreIllnesses&&a.preIllnesses.push(n.preIllnessesOther),n.exposureLocation&&(a.riskAreas=a.riskAreas.concat(n.exposureLocation.map((function(e){return"CONTACT_WITH_CORONA_"+e})))),a.weakenedImmuneSystem=!!a.preIllnesses.find((function(e){return"IMMUNODEFICIENCY"===e})),a.coronaContacts=!!a.riskAreas.find((function(e){return e.startsWith("CONTACT_WITH_CORONA")})),P.addPatientUsingPost(a).then((function(t){e.createdPatient=t}))}})):this.showCheckedError=!0},onCheckedChange:function(e){(null===e||void 0===e?void 0:e.target)&&(this.checked=e.target.checked,this.checked&&(this.showCheckedError=!1))},symptomsChanged:function(e){var t=e.target;this.showOtherSymptoms=t.checked},preIllnessesChanged:function(e){var t=e.target;this.showOtherPreIllnesses=t.checked},exposuresChanged:function(e){this.disableExposureLocation=!e.includes("CONTACT_WITH_CORONA_CASE")}}}),Hn=Yn,Kn=(n("a27bc"),Object(o["a"])(Hn,jn,Fn,!1,null,null,null)),Qn=Kn.exports,Zn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-input-search",{staticStyle:{width:"100%",margin:"10px 0"},attrs:{placeholder:"Suchen"}}),n("a-card",{staticClass:"table-container"},[n("a-table",{attrs:{columns:e.columns,dataSource:e.data,scroll:{x:1,y:0}}}),n("div",{staticStyle:{display:"flex",width:"100%","justify-content":"flex-end","margin-bottom":"1rem"}},[n("a-button",{attrs:{type:"primary"}},[e._v("CSV exportieren")])],1)],1)],1)},Wn=[],Jn=[{title:"PLZ",dataIndex:"zip",key:"zip",width:10,sorter:function(e,t){return e.zip-t.zip},defaultSortOrder:"ascend"},{title:"Aktive Fälle (Infizierte)",dataIndex:"active",key:"active",width:10,sorter:function(e,t){return e.active-t.active}},{title:"Verdachtsfälle",dataIndex:"suspicion",key:"suspicion",width:10,sorter:function(e,t){return e.suspicion-t.suspicion}},{title:"Genesene Fälle",dataIndex:"recovered",key:"recovered",width:10,sorter:function(e,t){return e.recovered-t.recovered}},{title:"Verstorbene Fälle",dataIndex:"deaths",key:"deaths",width:10,sorter:function(e,t){return e.deaths-t.deaths}}],Xn=[{zip:"12345",active:"320",suspicion:"742",recovered:"135",deaths:"12"},{zip:"12346",active:"920",suspicion:"342",recovered:"1435",deaths:"12"},{zip:"17458",active:"54",suspicion:"68",recovered:"125",deaths:"14"},{zip:"48569",active:"256",suspicion:"123",recovered:"48",deaths:"5"},{zip:"45369",active:"12",suspicion:"25",recovered:"2",deaths:"0"},{zip:"43985",active:"36",suspicion:"21",recovered:"3",deaths:"7"},{zip:"68524",active:"3425",suspicion:"1258",recovered:"125",deaths:"35"}],ea=r["a"].extend({name:"PublicStatisticsComponent",props:{msg:String},data:function(){return{entities:[],content:"",columns:Jn,data:Xn}},methods:{}}),ta=ea,na=(n("1eca"),Object(o["a"])(ta,Zn,Wn,!1,null,"cf7344de",null)),aa=na.exports,ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[e.createdInstitution?a("div",[a("div",[e._v("Die Institution wurde erfolgreich registriert.")]),a("br"),a("div",[e._v("Die Instituions ID lautet: "+e._s(e.createdInstitution.id))])]):a("div",[a("a-card",{staticStyle:{margin:"3rem auto","max-width":"860px"}},[a("div",{staticClass:"login-header"},[a("img",{attrs:{src:n("cf05"),height:"100"}}),a("h3",[e._v(" Registrieren Sie hier eine neue Instutition in IMIS. ")])]),a("a-form",{attrs:{form:e.form,layout:"horizontal",labelCol:{span:6},wrapperCol:{span:18}},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"Benutzername"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0}]}],expression:"['username', { rules: [{ required: true }] }]"}]},[a("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"Passwort"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0}]}],expression:"['password', { rules: [{ required: true }] }]"}],attrs:{type:"password"}},[a("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"Passwort wiederholen","has-feedback":"","validate-status":e.passwordRepeat.validateStatus,help:e.passwordRepeat.errorMsg}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password-repeat",{rules:[{required:!0}]}],expression:"[\n                  'password-repeat',\n                  { rules: [{ required: true }] },\n                ]"}],attrs:{type:"password"},on:{change:e.handlePasswordRepeatChange}},[a("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1)],1),a("a-divider"),a("a-row",[a("a-col",{attrs:{md:12}},[a("a-form-item",{attrs:{label:"Typ"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["institutionType",{rules:[{required:!0,message:"Please select your institution type!"}]}],expression:"[\n                  'institutionType',\n                  {\n                    rules: [\n                      {\n                        required: true,\n                        message: 'Please select your institution type!',\n                      },\n                    ],\n                  },\n                ]"}],attrs:{placeholder:"Bitte wählen..."}},[a("a-select-option",{attrs:{value:"LABORATORY"}},[e._v("Labor")]),a("a-select-option",{attrs:{value:"DOCTORS_OFFICE"}},[e._v("Arztpraxis")]),a("a-select-option",{attrs:{value:"CLINIC"}},[e._v("Klinik")]),a("a-select-option",{attrs:{value:"TEST_SITE"}},[e._v("Teststelle")])],1)],1),a("a-form-item",{attrs:{label:"Name"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0}]}],expression:"['name', { rules: [{ required: true }] }]"}]})],1),a("a-form-item",{attrs:{label:"Straße"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["street",{rules:[{required:!0}]}],expression:"['street', { rules: [{ required: true }] }]"}]})],1),a("a-form-item",{attrs:{label:"Hausnr."}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["houseNumber",{rules:[{required:!0}]}],expression:"['houseNumber', { rules: [{ required: true }] }]"}]})],1)],1),a("a-col",{attrs:{md:12}},[a("a-form-item",{attrs:{label:"PLZ"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["zip",{rules:[{required:!0}]}],expression:"['zip', { rules: [{ required: true }] }]"}]})],1),a("a-form-item",{attrs:{label:"Ort"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["city",{rules:[{required:!0}]}],expression:"['city', { rules: [{ required: true }] }]"}]})],1),a("a-form-item",{attrs:{label:"E-mail"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0}]}],expression:"['email', { rules: [{ required: true }] }]"}]})],1),a("a-form-item",{attrs:{label:"Telefon"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phoneNumber",{rules:[{required:!0}]}],expression:"['phoneNumber', { rules: [{ required: true }] }]"}]})],1)],1)],1),a("a-row",[a("a-col",[a("a-form-item",{attrs:{label:"Anmerkungen",labelCol:{span:24},wrapperCol:{span:24}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["comment"],expression:"['comment']"}]})],1)],1)],1),a("a-row",[a("a-col",[a("a-form-item",[a("a-checkbox",{on:{change:e.onCheck}},[a("span",{class:e.dataProcessingClass},[e._v(" Ich erkläre mich mit der Übermittlung dieser Daten zur weiteren Verarbeitung einverstanden. ")])])],1)],1),a("a-col",[a("a-form-item",{attrs:{wrapperCol:{span:24,offset:0}}},[a("a-row",{attrs:{gutter:16,type:"flex",justify:"end"}},[a("a-col",[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v(" Registrieren ")])],1)],1)],1)],1)],1)],1)],1)],1)])},ia=[];function sa(e,t){return e===t?{validateStatus:"success",errorMsg:null}:{validateStatus:"error",errorMsg:"Passwörter stimmen nicht überein"}}var oa=r["a"].extend({name:"RegisterInstitutionPage",data:function(){return{form:this.$form.createForm(this,{name:"coordinated"}),createdInstitution:null,dataProcessingClass:"",checked:!1,passwordRepeat:{}}},methods:{onCheck:function(e){this.checked=e.target.checked},handlePasswordRepeatChange:function(e){this.passwordRepeat=sa(this.form.getFieldValue("password"),e.target.value)},handleSubmit:function(){var e=this;this.form.validateFields((function(t,n){e.checked?t?console.error(t):(n=Object(p["a"])({},n,{user:{username:n.username,password:n.password,userRole:"USER_ROLE_ADMIN"}}),P.registerInstitutionUsingPost(n).then((function(){e.form.resetFields();var t={message:"Institution registriert.",description:"Die Institution wurde erfolgreich registriert."};e.$notification.success(t),e.$store.dispatch("authModule/login",{username:n.username,password:n.password})})).catch((function(t){var n={message:"Fehler beim Registrieren der Institution.",description:t.message};e.$notification.error(n)}))):e.dataProcessingClass="data-processing-not-selected"}))}}}),la=oa,ua=(n("c89d"),Object(o["a"])(la,ra,ia,!1,null,"28d670e0",null)),ca=ua.exports,da=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper register-patient-container"},[e.createdPatient?n("div",{staticStyle:{display:"flex","justify-content":"center","text-align":"center"}},[n("a-card",{staticStyle:{"max-width":"600px","margin-bottom":"25px"}},[n("div",{staticStyle:{display:"flex","flex-direction":"column",position:"relative"}},[n("a-icon",{staticStyle:{top:"0",right:"0",position:"absolute",cursor:"pointer"},attrs:{type:"close"},on:{click:function(t){e.createdPatient=null}}}),n("div",{staticStyle:{display:"flex","align-items":"center",margin:"10px"}},[n("a-icon",{staticStyle:{margin:"0 25px 0 0"},style:{fontSize:"38px",color:"#08c"},attrs:{type:"check-circle"}}),n("h3",{staticStyle:{"margin-bottom":"0"}},[e._v(" Patient/in wurde erfolgreich registriert. ")])],1),n("table",{staticStyle:{"border-collapse":"separate","border-spacing":"15px 5px","text-align":"left"}},[n("tbody",[n("tr",[n("td",[e._v("Name:")]),n("td",[e._v(" "+e._s(e.createdPatient.firstName)+" "+e._s(e.createdPatient.lastName)+" ")])]),n("tr",[n("td",[e._v("Patienten-ID:")]),n("td",[e._v(e._s(e.createdPatient.id))])])])]),n("div",{staticStyle:{"margin-top":"15px"}},[n("router-link",{staticStyle:{"margin-right":"15px"},attrs:{to:{name:"patient-detail",params:{id:e.createdPatient.id}}}},[n("a-button",{attrs:{type:"primary"}},[e._v(" Patienten/in einsehen ")])],1),n("router-link",{attrs:{to:{name:"register-test"}}},[n("a-button",{attrs:{type:"primary"}},[e._v(" Probe zuordnen ")])],1)],1)],1)])],1):e._e(),n("div",[n("h3",[e._v(' Registrieren Sie hier neue Patienten in IMIS. Bitte erfassen Sie die nachfolgenden Daten so vollständig wie möglich. Pflichtangaben sind mit "*" markiert. ')]),n("a-form",{attrs:{form:e.form,labelCol:{span:8},layout:"horizontal",wrapperCol:{span:16}},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("a-collapse",{attrs:{defaultActiveKey:"1"}},[n("a-collapse-panel",{key:"1",attrs:{header:"Personendaten"}},[n("PatientStammdaten",{attrs:{form:e.form,"show-death":!0,"show-stay":!0}})],1),n("a-collapse-panel",{key:"2",attrs:{header:"Exposition"}},[n("a-form-item",{attrs:{label:"Bitte zutreffendes ankreuzen:",labelCol:{div:24},wrapperCol:{div:24}}},[n("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["exposures"],expression:"['exposures']"}],on:{change:e.exposuresChanged}},[n("a-row",e._l(e.EXPOSURES_INTERNAL,(function(t){return n("a-col",{key:t.value,attrs:{span:24}},[n("a-checkbox",{attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])],1)})),1)],1),n("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["exposureLocation"],expression:"['exposureLocation']"}],staticStyle:{"padding-left":"30px"},attrs:{disabled:e.disableExposureLocation}},[n("a-row",e._l(e.EXPOSURE_LOCATIONS,(function(t){return n("a-col",{key:t.value,attrs:{span:24}},[n("a-checkbox",{attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])],1)})),1)],1)],1)],1),n("a-collapse-panel",{key:"3",attrs:{header:"Symptome"}},[n("a-form-item",{staticClass:"no-double-colon-form-field",attrs:{label:"Welche Symptome weist der Patient/die Patientin auf?",labelCol:{div:24},wrapperCol:{div:24}}},[n("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["symptoms"],expression:"['symptoms']"}]},[n("a-row",e._l(e.SYMPTOMS,(function(t){return n("a-col",{key:t.value,attrs:{span:"LOSS_OF_SENSE_OF_SMELL_TASTE"===t.value?12:6}},[n("a-checkbox",{attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])],1)})),1)],1),n("div",{staticStyle:{display:"flex","align-items":"center","align-self":"stretch"}},[n("a-checkbox",{staticStyle:{flex:"0 0 auto"},attrs:{checked:e.showOtherSymptoms},on:{change:e.symptomsChanged}},[e._v(" Andere: ")]),n("a-form-item",{staticStyle:{flex:"1 1 100%","margin-bottom":"0","max-width":"600px"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["symptomsOther"],expression:"['symptomsOther']"}],attrs:{disabled:!e.showOtherSymptoms}})],1)],1)],1),n("a-form-item",{staticClass:"no-double-colon-form-field",attrs:{labelCol:{div:24},wrapperCol:{div:24},label:"Wie schnell sind die Beschwerden aufgetreten?"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["speedOfSymptomsOutbreak"],expression:"['speedOfSymptomsOutbreak']"}]},[n("a-radio",{attrs:{value:"suddenly"}},[e._v(" Plötzlich, innerhalb von einem Tag ")]),n("a-radio",{attrs:{value:"slow"}},[e._v(" Langsam, innerhalb von mehreren Tagen ")])],1)],1),n("a-form-item",{staticClass:"no-double-colon-form-field",attrs:{label:"Hat der Patient/die Patientin für diese Saison eine Influenza-Impfung erhalten?",labelCol:{div:24},wrapperCol:{div:24}}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["fluImmunization"],expression:"['fluImmunization']"}]},[n("a-radio",{attrs:{value:"true"}},[e._v("Ja")]),n("a-radio",{attrs:{value:"false"}},[e._v("Nein")])],1)],1)],1),n("a-collapse-panel",{key:"4",attrs:{header:"Vorerkrankungen und Risikofaktoren"}},[n("a-form-item",{staticClass:"no-double-colon-form-field",attrs:{label:"Welche Vorerkrankungen und Risikofaktoren liegen vor?",labelCol:{div:24},wrapperCol:{div:24}}},[n("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["preIllnesses"],expression:"['preIllnesses']"}]},[n("a-row",[e._l(e.PRE_ILLNESSES,(function(t){return n("a-col",{key:t.value,attrs:{span:8}},[n("a-checkbox",{attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])],1)})),e._l(e.ADDITIONAL_PRE_ILLNESSES,(function(t){return n("a-col",{key:t.value,attrs:{span:12}},[n("a-checkbox",{attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])],1)}))],2)],1),n("div",{staticStyle:{display:"flex","align-items":"center","align-self":"stretch"}},[n("a-checkbox",{staticStyle:{flex:"0 0 auto"},attrs:{checked:e.showOtherPreIllnesses},on:{change:e.preIllnessesChanged}},[e._v(" Andere: ")]),n("a-form-item",{staticStyle:{flex:"1 1 100%","margin-bottom":"0","max-width":"600px"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["preIllnessesOther"],expression:"['preIllnessesOther']"}],attrs:{disabled:!e.showOtherPreIllnesses}})],1)],1)],1)],1),n("a-collapse-panel",{key:"5",attrs:{header:"Krankheit und Zustand"}},[n("a-row",[n("a-col",{attrs:{span:1}}),n("a-col",{attrs:{span:8}},[n("a-form-item",{attrs:{label:"Art der Erkrankung"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["illnessType",{rules:[{required:!0,message:"Bitte Erkrankung wählen"}],initialValue:"CORONA"}],expression:"[\n                    'illnessType',\n                    {\n                      rules: [\n                        {\n                          required: true,\n                          message: 'Bitte Erkrankung wählen',\n                        },\n                      ],\n                      initialValue: 'CORONA',\n                    },\n                  ]"}],attrs:{placeholder:"Bitte wählen..."}},[n("a-select-option",{attrs:{value:"CORONA"}},[e._v("COVID-19")])],1)],1)],1),n("a-col",{attrs:{span:8}},[n("a-form-item",{attrs:{label:"Fallstatus"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["patientStatus",{rules:[{required:!0,message:"Bitte Status wählen"}],initialValue:"SUSPECTED"}],expression:"[\n                    'patientStatus',\n                    {\n                      rules: [\n                        {\n                          required: true,\n                          message: 'Bitte Status wählen',\n                        },\n                      ],\n                      initialValue: 'SUSPECTED',\n                    },\n                  ]"}],staticStyle:{width:"250px"},attrs:{placeholder:"Status"}},e._l(e.EVENT_TYPES,(function(t){return n("a-select-option",{key:t.id},[n("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:t.icon}}),e._v(" "+e._s(t.label)+" ")],1)})),1)],1)],1)],1),n("a-row",[n("a-col",{attrs:{span:1}}),n("a-col",{attrs:{span:8}},[n("a-form-item",{attrs:{label:"Erkrankungsdatum"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateOfIllness",{rules:[{required:!0,message:"Bitte Erkrankungsdatum wählen"}],initialValue:e.today}],expression:"[\n                    'dateOfIllness',\n                    {\n                      rules: [\n                        {\n                          required: true,\n                          message: 'Bitte Erkrankungsdatum wählen',\n                        },\n                      ],\n                      initialValue: today,\n                    },\n                  ]"}]})],1)],1),n("a-col",{attrs:{span:8}},[n("a-form-item",{attrs:{label:"Meldedatum"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateOfReporting",{rules:[{required:!0,message:"Bitte Meldedatum wählen"}],initialValue:e.today}],expression:"[\n                    'dateOfReporting',\n                    {\n                      rules: [\n                        {\n                          required: true,\n                          message: 'Bitte Meldedatum wählen',\n                        },\n                      ],\n                      initialValue: today,\n                    },\n                  ]"}]})],1)],1)],1),n("a-row",[n("a-col",{attrs:{span:2}}),n("a-col",{attrs:{span:16}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("a-form-item",{attrs:{wrapperCol:{span:24}}},[n("a-checkbox",{attrs:{checked:!e.disableHospitalization},on:{change:e.hospitalizationChanged}},[e._v(" Patient/in ist hospitalisiert ")])],1),n("DateInput",{staticStyle:{flex:"0 1 400px"},attrs:{decorator:["dateOfHospitalization"],disabled:e.disableHospitalization,label:"Seit"}}),n("a-form-item",{staticStyle:{"padding-left":"15px"},attrs:{wrapperCol:{span:24}}},[n("a-checkbox",{attrs:{decorator:["onIntensiveCareUnit"],disabled:e.disableHospitalization}},[e._v(" Auf der Intensivstation ")])],1)],1)])],1)],1)],1),n("a-form-item",{staticStyle:{"margin-top":"15px"},attrs:{wrapperCol:{span:24,offset:0}}},[n("a-row",{attrs:{gutter:16,justify:"end",type:"flex"}},[n("a-col",[n("a-button",{attrs:{"html-type":"submit",size:"large",type:"primary"}},[n("a-icon",{attrs:{type:"save"}}),e._v(" Patient registrieren ")],1)],1)],1)],1)],1)],1)])},ma=[],pa=r["a"].extend({components:{PatientStammdaten:Kt,DateInput:qt},name:"RegisterPatient",data:function(){return{form:this.$form.createForm(this,{name:"coordinated"}),createdPatient:null,SYMPTOMS:gt,ADDITIONAL_PRE_ILLNESSES:bt,PRE_ILLNESSES:yt,EXPOSURES_INTERNAL:$n,EXPOSURE_LOCATIONS:Gn,EVENT_TYPES:ht,disableExposureLocation:!0,showOtherSymptoms:!1,showOtherPreIllnesses:!1,disableHospitalization:!0,today:it()()}},methods:{handleSubmit:function(){var e=this;this.form.validateFields(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(n,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return");case 2:r=Object(p["a"])({},a,{dateOfBirth:a.dateOfBirth.format("YYYY-MM-DD"),riskAreas:[]}),a.dateofIllness?r.dateOfIllness=a.dateOfIllness.format("YYYY-MM-DD"):r.dateOfIllness=it()().format("YYYY-MM-DD"),a.dateOfReporting?r.dateOfReporting=a.dateOfReporting.format("YYYY-MM-DD"):r.dateOfReporting=it()().format("YYYY-MM-DD"),r.symptoms||(r.symptoms=[]),r.preIllnesses||(r.preIllnesses=[]),r.dateOfDeath&&(r.dateOfDeath=r.dateOfDeath.format("YYYY-MM-DD")),e.disableHospitalization?(r.dateOfHospitalization=null,r.onIntensiveCareUnit=null):(r.dateOfHospitalization=a.dateOfHospitalization.format("YYYY-MM-DD"),r.onIntensiveCareUnit=a.onIntensiveCareUnit),a.exposures&&(r.riskAreas=r.riskAreas.concat(a.exposures)),e.showOtherSymptoms&&r.symptoms.push(a.symptomsOther),e.showOtherPreIllnesses&&r.preIllnesses.push(a.preIllnessesOther),a.exposureLocation&&(r.riskAreas=r.riskAreas.concat(a.exposureLocation.map((function(e){return"CONTACT_WITH_CORONA_"+e})))),P.addPatientUsingPost(r).then((function(t){e.form.resetFields(),e.createdPatient=t,e.disableExposureLocation=!0,e.disableHospitalization=!0,e.showOtherSymptoms=!1,e.form.setFieldsValue({symptomsOther:void 0,symptomsOtherActivated:void 0,preIllnessesOther:void 0,preIllnessesActivated:void 0});var n={message:"Patient/in registriert.",description:"Patient/in wurde erfolgreich registriert."};e.$notification.success(n),window.scrollTo(0,0)})).catch((function(t){console.error(t);var n={message:"Patient/in nicht registriert.",description:"Patient/in konnte nicht registriert werden."};e.$notification.error(n)}));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},symptomsChanged:function(e){var t=e.target;this.showOtherSymptoms=t.checked},preIllnessesChanged:function(e){var t=e.target;this.showOtherPreIllnesses=t.checked},exposuresChanged:function(e){this.disableExposureLocation=!e.includes("CONTACT_WITH_CORONA_CASE")},hospitalizationChanged:function(e){var t=e.target;this.disableHospitalization=!t.checked}}}),fa=pa,ha=(n("c090"),n("6c1d"),Object(o["a"])(fa,da,ma,!1,null,"c9efc89a",null)),va=ha.exports,ga=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{"max-width":"500px",margin:"2rem auto","min-height":"300px"}},[n("a-form",{attrs:{colon:!1,form:e.form,"label-col":{span:6},"wrapper-col":{span:18}},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("LaboratoryInput",{attrs:{form:e.form,validation:["laboratoryId",{rules:[{required:!0,message:"Bitte wählen Sie ein Labor aus."}]}],label:"Labor"}}),n("a-form-item",{attrs:{label:"Patienten-ID"}},[n("PatientInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["patientId",{rules:[{required:!0,message:"Bitte geben Sie die Patienten-ID ein."}]}],expression:"[\n          'patientId',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte geben Sie die Patienten-ID ein.',\n              },\n            ],\n          },\n        ]"}]})],1),n("a-form-item",{attrs:{label:"Test-ID"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["testId",{rules:[{required:!0,message:"Bitte geben Sie die Test-ID ein."}]}],expression:"[\n          'testId',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte geben Sie die Test-ID ein.',\n              },\n            ],\n          },\n        ]"}],attrs:{placeholder:"Neue Test ID"}})],1),n("a-form-item",{attrs:{label:"Testtyp"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["testType",{rules:[{required:!0,message:"Bitte geben Sie den Typen des Tests an."}]}],expression:"[\n          'testType',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte geben Sie den Typen des Tests an.',\n              },\n            ],\n          },\n        ]"}],staticClass:"imis-radio-group"},e._l(e.testTypes,(function(t){return n("a-radio",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),n("a-form-item",{attrs:{label:"Proben-Material"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["testMaterial",{rules:[{required:!0,message:"Bitte geben Sie das Material des Tests an."}]}],expression:"[\n          'testMaterial',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte geben Sie das Material des Tests an.',\n              },\n            ],\n          },\n        ]"}],staticClass:"imis-radio-group"},e._l(e.testMaterials,(function(t){return n("a-radio",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),n("a-form-item",{attrs:{label:"Abnahmedatum"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["eventDate",{rules:[{required:!1,message:"Datum der Probenabnahme"}]}],expression:"[\n          'eventDate',\n          {\n            rules: [\n              {\n                required: false,\n                message: 'Datum der Probenabnahme',\n              },\n            ],\n          },\n        ]"}],attrs:{defaultValue:e.today}})],1),n("a-form-item",{attrs:{label:"Kommentar"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["comment"],expression:"['comment']"}],attrs:{autoSize:{minRows:3,maxRows:5},placeholder:"Kommentar hinzufügen"}})],1),n("a-divider"),n("a-form-item",{attrs:{"wrapper-col":{span:24,offset:0}}},[n("a-button",{attrs:{"html-type":"submit",type:"primary"}},[e._v(" Speichern ")])],1)],1)],1)},ba=[],ya=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form-item",{attrs:{label:e.label}},[n("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:e.validation,expression:"validation"}],attrs:{disabled:e.disabled,placeholder:"Suche über ID, Name, Stadt"},on:{search:e.handleSearch}},[n("template",{slot:"dataSource"},e._l(e.result,(function(t){return n("a-select-option",{key:t.id},[e._v(" "+e._s(t.name)+" ("+e._s(t.city)+") ")])})),1)],2)],1)},xa=[],Sa=r["a"].extend({name:"LaboratoryInput",props:["initialLabs","validation","label","form","disabled"],data:function(){return{result:[]}},watch:{initialLabs:function(e){e&&e.length>0&&(this.result=e)}},methods:{handleSearch:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e&&!(e.length<2)){n.next=4;break}a=[],n.next=7;break;case 4:return n.next=6,P.queryAllLaboratoriesUsingGet({id:e});case 6:a=n.sent;case 7:t.result=a;case 8:case"end":return n.stop()}}),n)})))()}}}),wa=Sa,_a=Object(o["a"])(wa,ya,xa,!1,null,"0cd406ba",null),ka=_a.exports,Ia=[{id:"RACHENABSTRICH",label:"Rachenabstrich"},{id:"NASENABSTRICH",label:"Nasenabstrich"},{id:"VOLLBLUT",label:"Vollblut"}],Oa=r["a"].extend({name:"RegisterTest",components:{PatientInput:on,LaboratoryInput:ka,DateInput:qt},data:function(){return{form:this.$form.createForm(this),testTypes:xt,testMaterials:Ia,today:it()()}},methods:{handleSubmit:function(){var e=this;this.form.validateFields((function(t,n){if(!t){var a=Object(p["a"])({},n);P.createTestForPatientUsingPost(a).then((function(t){var n,a=t,r=(null===(n=vt.find((function(e){return e.id===t.testStatus})))||void 0===n?void 0:n.label)||"";e.form.resetFields();var i=e.$createElement;e.$success({title:"Der Test wurde erfolgreich angelegt.",content:i("div",{},[i("div","Test ID: ".concat(a.testId)),i("div","Test Status: ".concat(r))])})})).catch((function(t){var n={message:"Fehler beim Anlegen des Tests.",description:t.message};e.$notification.error(n)}))}}))}}}),Ea=Oa,Pa=Object(o["a"])(Ea,ga,ba,!1,null,"b5eb2cfc",null),Ca=Pa.exports,Ta=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{"max-width":"500px",margin:"2rem auto","min-height":"300px"}},[n("a-form",{attrs:{form:e.form,"label-col":{span:6},"wrapper-col":{span:18}},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[this.showPatientInput?n("a-form-item",{attrs:{label:"Patienten-ID"}},[n("PatientInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["patientId",{rules:[{required:!0,message:"Bitte geben Sie die Patienten-ID ein."}]}],expression:"[\n          'patientId',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte geben Sie die Patienten-ID ein.',\n              },\n            ],\n          },\n        ]"}]})],1):e._e(),n("a-form-item",{attrs:{label:"Quarantäne bis"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateUntil",{rules:[{required:!0,message:"Bis wann soll der Patient in Quarantäne?"}]}],expression:"[\n          'dateUntil',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bis wann soll der Patient in Quarantäne?',\n              },\n            ],\n          },\n        ]"}],attrs:{value:e.today}})],1),n("a-form-item",{attrs:{label:"Vorgemerkt am"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["eventDate",{rules:[{required:!1,message:"Datum, für welches der Vermerk erfasst werden soll."}]}],expression:"[\n          'eventDate',\n          {\n            rules: [\n              {\n                required: false,\n                message:\n                  'Datum, für welches der Vermerk erfasst werden soll.',\n              },\n            ],\n          },\n        ]"}],attrs:{defaultValue:e.today}})],1),n("a-form-item",{attrs:{label:"Kommentar"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["comment"],expression:"['comment']"}],attrs:{autoSize:{minRows:3,maxRows:5},placeholder:"Kommentar hinzufügen"}})],1),n("a-divider"),n("a-form-item",{attrs:{"wrapper-col":{span:24,offset:0}}},[n("a-button",{attrs:{"html-type":"submit",type:"primary"}},[e._v(" Speichern ")])],1)],1)],1)},Na=[],Ra=r["a"].extend({name:"RequestQuarantine",components:{PatientInput:on,DateInput:qt},data:function(){return{form:this.$form.createForm(this),patient:void 0,today:it()()}},computed:{givenPatientId:function(){return this.$route.params.patientId},showPatientInput:function(){return!this.givenPatientId}},methods:{handleSubmit:function(){var e=this;this.form.validateFields((function(t,n){if(!t){var a={dateUntil:n.dateUntil.format("YYYY-MM-DD"),eventDate:n.eventDate?n.eventDate.format("YYYY-MM-DD"):void 0,comment:n.comment},r=e.givenPatientId?e.givenPatientId:n.patientId;P.requestQuarantineUsingPost(r,a).then((function(t){var n=e.$createElement;e.$success({title:"Der Quarantänevermerk wurde erfasst.",content:n("div",{},[n("div","Patient: ".concat(t.firstName," ").concat(t.lastName)),n("div","In Quarantäne bis: ".concat(it()(t.quarantineUntil).format("DD.MM.YYYY")))])}),e.form.resetFields()})).catch((function(t){var n={message:"Fehler beim hinterlegen des Quarantänevermerks",description:t.message};e.$notification.error(n)}))}}))}}}),Da=Ra,Aa=Object(o["a"])(Da,Ta,Na,!1,null,null,null),ja=Aa.exports,Fa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"send-to-quarantine"},[n("a-modal",{attrs:{title:"Bitte bestätigen","ok-text":"Ja","cancel-text":"Abbrechen"},on:{ok:e.updatePatients},model:{value:e.confirmVisible,callback:function(t){e.confirmVisible=t},expression:"confirmVisible"}},[n("p",[e._v(" Sollen die Quarantänen von "+e._s(e.quarantinesByZip.length)+" Patienten in den Status 'Quarantäne angeordnet' überführt werden? ")]),n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"Datum der Anordnung (optional):"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["eventDate",{rules:[{required:!1,message:"Datum der Anordnung"}]}],expression:"[\n            'eventDate',\n            {\n              rules: [\n                {\n                  required: false,\n                  message: 'Datum der Anordnung',\n                },\n              ],\n            },\n          ]"}],attrs:{defaultValue:e.today}})],1)],1)],1),n("a-button",{staticClass:"download-all-button",attrs:{type:"primary",icon:"download",size:"large"},on:{click:e.downloadAll}},[e._v(" Alle Herunterladen ")]),n("a-button",{staticClass:"clear-all-button",attrs:{type:"primary",icon:"play-circle",size:"large"},on:{click:e.showModal}},[e._v(" Quarantäne anordnen ")]),n("h2",{staticStyle:{"margin-top":"30px"}},[e._v(" Es wurden "+e._s(e.quarantinesByZip.length)+" Patienten für eine Quarantäne vorgemerkt. ")]),e._l(e.quarantinesByZip,(function(t){return n("a-card",{key:t.zip,staticStyle:{"max-width":"500px",margin:"2rem auto"},attrs:{title:"PLZ "+t.zip+(t.cityName?" - "+t.cityName:""),align:"left"}},[n("a-table",{attrs:{columns:e.columnsQuarantines,dataSource:t.quarantines,rowKey:function(e){return e.id},pagination:!1},scopedSlots:e._u([{key:"until",fn:function(t){return[e._v(" "+e._s(e.moment(t).format("DD.MM.YYYY"))+" ")]}},{key:"name",fn:function(t){return[n("a",{on:{click:function(n){return e.showPatient(t.id)}}},[e._v(e._s(t.firstName)+" "+e._s(t.lastName))])]}},{key:"timestamp",fn:function(t){return[e._v(" "+e._s(e.moment(t).format("DD.MM.YYYY HH:mm"))+" ")]}}],null,!0)})],1)}))],2)},Ua=[],qa=n("2909"),za=n("b85c"),La=[{title:"Quarantäne bis",key:"until",scopedSlots:{customRender:"until"}},{title:"Name",key:"name",dataIndex:"patient",scopedSlots:{customRender:"name"}},{title:"Eingereicht um",key:"timestmap",dataIndex:"versionTimestamp",scopedSlots:{customRender:"timestamp"}}],Ba=r["a"].extend({name:"SendToQuarantine",components:{DateInput:qt},created:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i,s,o,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,P.getSelectedForQuarantineUsingGet();case 2:n=t.sent,a=[],r=Object(za["a"])(n);try{for(s=function(){var e,t=i.value,n=(null===t||void 0===t||null===(e=t.patient)||void 0===e?void 0:e.zip)||"Unbekannt",r=a.find((function(e){return e.zip===n}));r||(r={zip:n,quarantines:[],cityName:""},a.push(r)),r.quarantines.push(t)},r.s();!(i=r.n()).done;)s()}catch(c){r.e(c)}finally{r.f()}for(e.quarantinesByZip=a,o=function(){var e=u[l];Z(e.zip).then((function(t){t&&t.length>0&&(e.cityName=t[0].fields.note)}))},l=0,u=a;l<u.length;l++)o();case 9:case"end":return t.stop()}}),t)})))()},data:function(){return{quarantinesByZip:[],columnsQuarantines:La,confirmVisible:!1,form:this.$form.createForm(this),today:it()()}},methods:{moment:it.a,showPatient:function(e){this.$router.push({name:"patient-detail",params:{id:e}})},downloadAll:function(){var e,t="PLZ;Quarantäne bis;Vorname;Nachname;Adresse",n="",a=Object(za["a"])(this.quarantinesByZip);try{var r=function(){var t=e.value;n+=t.quarantines.map((function(e){var n=e.patient;if(n){var a="".concat(n.street," ").concat(n.houseNumber," ").concat(n.zip," ").concat(n.city);return"".concat(t.zip,";").concat(it()(e.until).format("DD.MM.YYYY"),";").concat(null===n||void 0===n?void 0:n.firstName,";").concat(null===n||void 0===n?void 0:n.lastName,";").concat(a)}return console.warn("Quarantine without patient"),""})).join("\n")+"\n"};for(a.s();!(e=a.n()).done;)r()}catch(s){a.e(s)}finally{a.f()}var i=it()().format("YYYY_MM_DD")+"_quarantaene_anordnung.csv";_n(t+"\n"+n,i)},updatePatients:function(){var e=this;this.confirmVisible=!1;var t,n=[],a=Object(za["a"])(this.quarantinesByZip);try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push.apply(n,Object(qa["a"])(r.quarantines.map((function(e){var t;return(null===(t=e.patient)||void 0===t?void 0:t.id)||""}))))}}catch(s){a.e(s)}finally{a.f()}var i={patientIds:n,eventDate:this.form.getFieldValue("eventDate")?this.form.getFieldValue("eventDate").format("YYYY-MM-DD"):void 0};P.sendToQuarantineUsingPost(i).then((function(){var t=e.$createElement;e.$success({title:"Quarantänen aktualisiert.",content:t("div",{},[t("div","Die Quarantänen von ".concat(n.length," Patienten wurden aktualisiert."))])}),e.quarantinesByZip=[]})).catch((function(t){var n={message:"Fehler beim Aktualisieren der Quarantänen",description:t.message};e.$notification.error(n)}))},showModal:function(){this.confirmVisible=!0}}}),Va=Ba,$a=(n("6e93"),n("9c4e"),Object(o["a"])(Va,Fa,Ua,!1,null,"59c4904c",null)),Ma=$a.exports,Ga=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{"max-width":"500px",margin:"2rem auto","min-height":"300px"}},[n("div",[n("a-form",{attrs:{form:e.form,"label-col":{span:6},"wrapper-col":{span:18}},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("LaboratoryInput",{attrs:{form:e.form,"initial-labs":e.laboratories,validation:["laboratoryId",{rules:[{required:!0,message:"Bitte wählen Sie ein Labor aus."}]}],label:"Labor"}}),n("TestInput",{attrs:{form:e.form,validation:["testId",{rules:[{required:!0,message:"Bitte geben Sie Ihre Test-ID ein."}]}],label:"Test-ID",placeholder:"z.B 1337-4237-9438"}}),n("a-form-item",{attrs:{label:"Testresultat"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["testResult",{rules:[{required:!0,message:"Bitte geben Sie das Testresultat an."}]}],expression:"[\n            'testResult',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte geben Sie das Testresultat an.',\n                },\n              ],\n            },\n          ]"}],staticClass:"imis-radio-group"},e._l(e.testResults,(function(t){return n("a-radio",{key:t.id,attrs:{value:t.id}},[n("a-icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.label)+" ")],1)})),1)],1),n("a-form-item",{attrs:{label:"Ergebnisdatum"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["eventDate",{rules:[{required:!1,message:"Datum der Probenabnahme"}]}],expression:"[\n            'eventDate',\n            {\n              rules: [\n                {\n                  required: false,\n                  message: 'Datum der Probenabnahme',\n                },\n              ],\n            },\n          ]"}],attrs:{defaultValue:e.today}})],1),n("a-form-item",{attrs:{label:"Kommentar"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["comment"],expression:"['comment']"}],attrs:{autoSize:{minRows:3,maxRows:5},placeholder:"Kommentar hinzufügen"}})],1),n("a-form-item",{attrs:{"wrapper-col":{span:24}}},[n("a-button",{on:{click:function(t){return e.uploadHint()}}},[n("a-icon",{attrs:{type:"upload"}}),e._v(" Test Report hochladen ")],1)],1),n("a-divider"),n("a-form-item",{attrs:{"wrapper-col":{span:24,offset:0}}},[n("a-button",{attrs:{"html-type":"submit",type:"primary"}},[e._v(" Speichern ")])],1)],1)],1)])},Ya=[],Ha=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form-item",{attrs:{label:e.label}},[n("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:e.validation,expression:"validation"}],attrs:{placeholder:"Suche über ID"},on:{search:e.handleSearch}},[n("template",{slot:"dataSource"},e._l(e.result,(function(t){return n("a-select-option",{key:t},[e._v(e._s(t))])})),1)],2)],1)},Ka=[],Qa=r["a"].extend({name:"TestInput",props:["validation","label","form"],data:function(){return{result:[]}},methods:{handleSearch:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e&&!(e.length<2)){n.next=4;break}a=[],n.next=8;break;case 4:return n.next=6,P.queryLabTestsByIdUsingGet({labTestIdQuery:e});case 6:r=n.sent,a=r.map((function(e){return e.testId}));case 8:t.result=a;case 9:case"end":return n.stop()}}),n)})))()}}}),Za=Qa,Wa=Object(o["a"])(Za,Ha,Ka,!1,null,"51b2fd4a",null),Ja=Wa.exports,Xa=r["a"].extend({name:"SubmitTestResult",computed:Object(p["a"])({},q.mapGetters({institution:"institution"})),components:{TestInput:Ja,LaboratoryInput:ka,DateInput:qt},props:{},data:function(){return{form:this.$form.createForm(this),fileBytes:void 0,testResults:vt.filter((function(e){return"TEST_POSITIVE"===e.id||"TEST_NEGATIVE"===e.id})),laboratories:[],updatedLabTest:void 0,updatedLabTestStatus:"",today:it()()}},mounted:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.institution()){t.next=4;break}return console.log("Loading institution"),t.next=4,e.getAuthenticatedInstitution();case 4:n=e.institution(),n&&"LABORATORY"===n.type?(e.laboratories=[n],e.form.setFieldsValue({laboratoryId:n.id})):e.form.setFieldsValue({laboratoryId:""});case 6:case"end":return t.stop()}}),t)})))()},methods:Object(p["a"])({},q.mapActions({getAuthenticatedInstitution:"getAuthenticatedInstitution"}),{uploadHint:function(){var e={message:"Das Labor kann hier den Bericht mit hochladen. Aus Sicherheitsgründen ist diese Funktion im Prototyp deaktiviert.",description:""};this.$notification.info(e)},beforeUpload:function(e){var t=this,n=function(e){t.fileBytes=e},a=new FileReader;return a.onload=function(e){for(var t=unescape(encodeURIComponent(e.target.result)),a=[],r=0;r<t.length;r++)a.push(t.charCodeAt(r));n(a)},a.readAsDataURL(e),!1},handleSubmit:function(){var e=this;this.form.validateFields((function(t,n){if(!t){var a=n.testId,r={testId:a,status:n.testResult,comment:n.comment,file:e.fileBytes,eventDate:n.eventDate};P.updateTestStatusUsingPut(n.laboratoryId,r).then((function(t){var n;e.form.resetFields(["testId","testResult","comment"]),e.fileBytes=null;var a=t,r=(null===(n=vt.find((function(e){return e.id===t.testStatus})))||void 0===n?void 0:n.label)||"",i=e.$createElement;e.$success({title:"Der Test wurde erfolgreich aktualisiert.",content:i("div",{},[i("div","Test ID: ".concat(a.testId)),i("div","Neuer Test Status: ".concat(r))])})})).catch((function(t){var n={message:"Fehler beim Hinzufügen des Testergebnisses.",description:t.message};e.$notification.error(n)}))}}))}})}),er=Xa,tr=Object(o["a"])(er,Ga,Ya,!1,null,"0310fad4",null),nr=tr.exports,ar=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" TODO: Create Overview of tests ")])},rr=[],ir=r["a"].extend({name:"TestList"}),sr=ir,or=Object(o["a"])(sr,ar,rr,!1,null,null,null),lr=or.exports,ur=n("8c4f");function cr(){return window.localStorage.token}r["a"].use(ur["a"]);var dr=function(e,t,n){cr()?n({name:"app"}):n()},mr=function(e,t,n){t.query.redirect?n({path:t.query.redirect}):n()},pr=["ROLE_TEST_SITE","ROLE_LABORATORY","ROLE_DOCTORS_OFFICE","ROLE_CLINIC","ROLE_GOVERNMENT_AGENCY","ROLE_DEPARTMENT_OF_HEALTH"],fr=[{name:"dashboard",path:"dashboard",component:$e,meta:{navigationInfo:{icon:"dashboard",title:"Dashboard",authorities:pr,showInSidenav:!0}}},{name:"register-patient",path:"register-patient",component:va,meta:{navigationInfo:{icon:"user-add",title:"Patient Registrieren",authorities:["ROLE_DEPARTMENT_OF_HEALTH","ROLE_CLINIC","ROLE_DOCTORS_OFFICE","ROLE_TEST_SITE"],showInSidenav:!0}}},{name:"register-test",path:"register-test",component:Ca,meta:{navigationInfo:{icon:"deployment-unit",title:"Probe Zuordnen",authorities:["ROLE_DEPARTMENT_OF_HEALTH","ROLE_CLINIC","ROLE_DOCTORS_OFFICE","ROLE_TEST_SITE"],showInSidenav:!0}}},{name:"submit-test-result",path:"submit-test-result",component:nr,meta:{navigationInfo:{icon:"experiment",title:"Testresultat Zuordnen",authorities:["ROLE_DEPARTMENT_OF_HEALTH","ROLE_LABORATORY","ROLE_TEST_SITE"],showInSidenav:!0}}},{name:"test-list",path:"test-list",component:lr,meta:{navigationInfo:{icon:"unordered-list",title:"Alle Tests",authorities:["ROLE_DEPARTMENT_OF_HEALTH","ROLE_LABORATORY","ROLE_TEST_SITE"],showInSidenav:!0}}},{name:"patient-list",path:"patient-list",component:An,meta:{navigationInfo:{icon:"team",title:"Alle Patienten",authorities:["ROLE_DEPARTMENT_OF_HEALTH","ROLE_CLINIC","ROLE_DOCTORS_OFFICE","ROLE_TEST_SITE"],showInSidenav:!0}}},{name:"request-quarantine",path:"request-quarantine",component:ja,meta:{navigationInfo:{icon:"safety",title:"Quarantäne vormerken",authorities:["ROLE_DEPARTMENT_OF_HEALTH"],showInSidenav:!0}}},{name:"send-to-quarantine",path:"send-to-quarantine",component:Ma,meta:{navigationInfo:{icon:"safety",title:"In Quarantäne senden",authorities:["ROLE_DEPARTMENT_OF_HEALTH"],showInSidenav:!0}}},{name:"public-statistics",path:"public-statistics",component:aa,meta:{navigationInfo:{icon:"stock",title:"Statistiken",authorities:pr,showInSidenav:!0}}},{name:"patient-detail",path:"patient/:id",component:xn},{name:"account",path:"account",component:be,meta:{navigationInfo:{icon:"user",title:"Benutzerkonto",authorities:pr,showInSidenav:!1}}},{path:"*",redirect:{name:"app"}}],hr=[{name:"landing-page",path:"/",component:Qe},{name:"public-register",path:"/public-register",component:Qn},{name:"login",path:"/login",component:tt,beforeEnter:dr,beforeRouteLeave:mr},{name:"register-institution",path:"/register-institution/:id",component:ca,beforeEnter:dr},{name:"app",path:"/app",component:Ue,children:fr,redirect:{name:"dashboard"},meta:{requiresAuth:!0}},{path:"*",redirect:"/"}],vr=fr.filter((function(e){var t,n;return!e.path.includes("*")&&(null===(t=e.meta)||void 0===t||null===(n=t.navigationInfo)||void 0===n?void 0:n.showInSidenav)})),gr=new ur["a"]({mode:"history",base:"/",routes:hr});gr.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requiresAuth}))?cr()?n():n({path:"/login",query:{redirect:e.fullPath}}):n()}));var br=gr,yr=n("2f62");r["a"].use(yr["b"]);var xr=new R["c"]({modules:{authModule:U,patientModule:pt}}),Sr=Object(R["f"])(xr),wr=Sr;r["a"].config.productionTip=!1,r["a"].use(a["a"]),U.context(wr).actions.init(),new r["a"]({router:br,store:wr,render:function(e){return e(c)}}).$mount("#app")},cf05:function(e,t,n){e.exports=n.p+"img/logo.503b2e35.png"},d30a:function(e,t,n){"use strict";var a=n("4ec5"),r=n.n(a);r.a},d7a4:function(e,t,n){},ea46:function(e,t,n){},ed4c:function(e,t,n){},ee1e:function(e,t,n){e.exports=n.p+"img/imis-workflow.f7d85ed7.png"},fbb7:function(e,t,n){"use strict";var a=n("ea46"),r=n.n(a);r.a},fce8:function(e,t,n){"use strict";var a=n("a4ca"),r=n.n(a);r.a}});
//# sourceMappingURL=app.f6a2d87f.js.map